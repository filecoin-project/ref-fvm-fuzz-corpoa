
































































































































































































































































































































































_RNCNvNvCsfYUzc4TsHtP_22instrument_with_mutate1__3run0B5_:
   32|      2|        |bytes, _seed, _stackindex, _siblingindex| {
   33|      2|            // The same wasmtime features that the fvm uses for now
   34|      2|            // TODO, ideally this should come from the fvm, get_config or something similar
   35|      2|            log::debug!("Calling fvm for gas instrumentation");
   36|      2|            let features = get_wasmfeatures();
   37|      2|            // Finish config
   38|      2|
   39|      2|            // Validate before passing to fvm
   40|      2|            GENERATED_MUTATIONS.fetch_add(1, Ordering::SeqCst);
   41|      2|
   42|      2|            let validation_result =
   43|      2|                wasmparser::Validator::new_with_features(features).validate_all(&bytes);
   44|      2|            match validation_result {
   45|       |                Ok(_) => {
   46|       |                    // The code below is stressed during this pass
   47|       |                    // TODO, mutate the network version as well
   48|       |
   49|      1|                    let nc = NetworkConfig::new(NetworkVersion::V16);
   50|      1|                    let ec = EngineConfig::from(&nc);
   51|      1|
   52|      1|                    let engine = fvm::machine::Engine::new_default(ec).unwrap();
   53|      1|                    let cid = Cid::new_v1(0x55, Default::default());
   54|      1|
   55|      1|                    let instrumented = engine.prepare_wasm_bytecode(&cid, &bytes);
   56|      1|
   57|      1|                    // Debug info only
   58|      1|                    // How many mutations we are generaing and passing to the fvm
   59|      1|                    // This will give us hints about the tuning of the parameters for the fuzzing
   60|      1|                    PASSED_TO_FVM.fetch_add(1, Ordering::SeqCst);
   61|      1|
   62|      1|                    if GENERATED_MUTATIONS.load(Ordering::Relaxed) % 10 == 9 {
   63|      0|                        let passed = PASSED_TO_FVM.load(Ordering::Relaxed);
   64|      0|                        let generated = GENERATED_MUTATIONS.load(Ordering::Relaxed);
   65|      0|                        log::debug!(
   66|      0|                            "Generated mutations: {}/{} ({:.2}%)",
   67|      0|                            passed,
   68|      0|                            generated,
   69|      0|                            100.0 * (passed as f64) / (generated as f64)
   70|       |                        );
   71|      1|                    }
   72|       |
   73|      1|                    match instrumented {
   74|      1|                        Ok(_instrumented) => {
   75|      1|
   76|      1|                            // Compile and measure size
   77|      1|                            // M1: Producing unacceptably large machine code (with respect to the Wasm bytecode).
   78|      1|                            // If m' < m => s' < s, otherwise, error
   79|      1|
   80|      1|                            // TODO, do other operations
   81|      1|
   82|      1|                            // TODO, Measure execution time
   83|      1|                            // M1: Producing unacceptably slow code (with respect to the gas model).
   84|      1|                            // M1: Consuming an exorbitant amount of memory or time (on compile) with respect to the size of the Wasm bytecode.
   85|      1|                            // m' < m => t' < t, otherwise, error,
   86|      1|
   87|      1|                            // TODO, Gas spending
   88|      1|
   89|      1|                            // TODO, execute the Wasm to measure the gas
   90|      1|                        }
   91|      0|                        Err(e) => {
   92|      0|                            // Save the the mutated bin to file sys
   93|      0|                            fs::write("crash.wasm", &bytes).unwrap();
   94|      0|                            if let Ok(mutated_wat) = wasmprinter::print_bytes(&bytes) {
   95|      0|                                log::debug!("writing mutated WAT to `crash.wat`");
   96|      0|                                std::fs::write("crash.wat", mutated_wat)
   97|      0|                                    .expect("should write `crash.wat` okay");
   98|      0|                            }
   99|      0|                            panic!("Error: {e:?}");
  100|       |                        }
  101|       |                    }
  102|       |                }
  103|      1|                Err(e) => {
  104|      1|                    log::debug!("Validation error {}", e);
  105|      1|                    if GENERATED_MUTATIONS.load(Ordering::Relaxed) % 10 == 9 {
  106|      0|                        let passed = PASSED_TO_FVM.load(Ordering::Relaxed);
  107|      0|                        let generated = GENERATED_MUTATIONS.load(Ordering::Relaxed);
  108|      0|                        log::debug!(
  109|      0|                            "Generated mutations: {}/{} ({:.2}%)",
  110|      0|                            passed,
  111|      0|                            generated,
  112|      0|                            100.0 * (passed as f64) / (generated as f64)
  113|       |                        );
  114|      1|                    }
  115|       |                }
  116|       |            }
  117|      2|        },

_RINvCsdmdTTZhE0yY_8fvm_fuzz15stack_mutationsNCNvNvCsfYUzc4TsHtP_22instrument_with_mutate1__3run0EBM_:
   92|    459|pub fn stack_mutations<'a>(
   93|    459|    bin: Vec<u8>,
   94|    459|    raw: &mut Unstructured<'a>,
   95|    459|    mut action: impl FnMut(Vec<u8>, u64, u32, u32),
   96|    459|    max_stacked_mutations: u32,
   97|    459|    max_siblings_exploration: u32,
   98|    459|) -> Vec<u8> {
   99|    459|    let preseed: u64 = raw.arbitrary().unwrap();
  100|    459|    let mut rng = SmallRng::seed_from_u64(preseed);
  101|    459|    let mut cp = bin;
  102|    459|
  103|    459|    log::debug!("Preseed {:?}", preseed);
  104|    459|    let stacked_mutations: u32 = rng.gen_range(1..max_stacked_mutations);
  105|    459|    log::debug!("stacked_mutations: {}", stacked_mutations);
  106|       |
  107|    918|    for i in 0..=stacked_mutations {
  108|    918|        let seed = rng.gen();
  109|    918|        let mut wasm_mutate = Box::<wasm_mutate::WasmMutate<'_>>::default();
  110|    918|        wasm_mutate.seed(seed);
  111|    918|        log::debug!("Seed: {}", seed);
  112|    918|        wasm_mutate.preserve_semantics(true);
  113|    918|
  114|    918|        // TODO, set fuel as a parameter of the fuzzer, lets the fuzzer to determine if more fuel is needed
  115|    918|        wasm_mutate.fuel(500);
  116|    918|        let tomutate = cp.clone();
  117|    918|        let mut_iterator = wasm_mutate.run(&tomutate);
  118|    918|
  119|    918|        match mut_iterator {
  120|      2|            Ok(mut it) => {
  121|      2|                // lateral traversing
  122|      2|                let check_siblings: u32 = rng.gen_range(1..max_siblings_exploration);
  123|      2|                log::debug!("check_siblings: {}", check_siblings);
  124|    123|                for j in 0..=check_siblings {
  125|    123|                    let mutated_bin = it.next();
  126|       |
  127|    123|                    if let Some(mutated_bin) = mutated_bin {
  128|      2|                        match mutated_bin {
  129|      2|                            Ok(mutated_bin) => {
  130|      2|                                action(mutated_bin.clone(), seed, i, j);
  131|      2|                                swap(&mut cp, mutated_bin);
  132|      2|                            }
  133|      0|                            Err(e) => {
  134|      0|                                // Do nothing
  135|      0|                                log::debug!("Error: {:?}", e);
  136|       |                            }
  137|       |                        }
  138|    121|                    }
  139|       |                }
  140|       |            }
  141|    916|            Err(e) => {
  142|    916|                // do nothing continue
  143|    916|                log::debug!("Error: {:?}", e);
  144|       |            }
  145|       |        }
  146|       |    }
  147|    459|    cp
  148|    459|}
_RNvCsdmdTTZhE0yY_8fvm_fuzz4swap:
   47|      2|fn swap(a: &mut Vec<u8>, b: Vec<u8>) {
   48|      2|    *a = b;
   49|      2|}
_RNvCsdmdTTZhE0yY_8fvm_fuzz16get_wasmfeatures:
   35|      2|pub fn get_wasmfeatures() -> WasmFeatures {
   36|      2|    let mut features = WasmFeatures::default();
   37|      2|    features.threads = false;
   38|      2|    features.simd = false;
   39|      2|    features.multi_memory = false;
   40|      2|    features.memory64 = false;
   41|      2|    features.bulk_memory = true;
   42|      2|    features.multi_value = false;
   43|      2|    features.reference_types = false;
   44|      2|    features
   45|      2|}
_RNvCsdmdTTZhE0yY_8fvm_fuzz18get_random_fixture:
  165|    459|pub fn get_random_fixture<'a>(raw: &mut Unstructured<'a>) -> AResult<(Vec<u8>, PathBuf)> {
  166|    459|    let files = get_wasm_dir()
  167|    459|        .read_dir()
  168|    459|        .unwrap()
  169|    459|        .into_iter()
  170|    459|        .map(|r| r.unwrap())
  171|    459|        .collect::<Vec<_>>();
  172|       |
  173|    459|    let idx = raw.choose_index(files.len())?;
  174|    459|    let random_file = files[idx].path();
  175|    459|    log::debug!("Random fixture: {:?}", random_file);
  176|       |
  177|    459|    let bytes = std::fs::read(&random_file)?;
  178|       |
  179|    459|    Ok((bytes, random_file))
  180|    459|}
_RNvCsdmdTTZhE0yY_8fvm_fuzz12get_wasm_dir:
  150|    459|fn get_wasm_dir() -> PathBuf {
  151|    459|    match env::var("OUT") {
  152|    459|        Ok(out) => {
  153|    459|            let path: PathBuf = out.into();
  154|    459|            path
  155|       |        }
  156|      0|        Err(e) => {
  157|      0|            log::debug!("Error {:?}", e);
  158|       |            // gracefully exit
  159|      0|            std::process::exit(0)
  160|       |        }
  161|       |    }
  162|    459|}
_RNCNvCsdmdTTZhE0yY_8fvm_fuzz18get_random_fixture0B3_:
  170|  50.0k|        .map(|r| r.unwrap())

set_instrumentation_time:
   37|      1|pub fn set_instrumentation_time(time: u128) {
   38|      1|    INSTRUMENTATION_TIMES.lock().unwrap().push(time);
   39|      1|}
set_compilation_time:
   31|      1|pub fn set_compilation_time(time: u128) {
   32|      1|    COMPILATION_TIMES.lock().unwrap().push(time);
   33|      1|}
set_code_size:
   43|      1|pub fn set_code_size(size: usize) {
   44|      1|    MACHINE_SIZES.lock().unwrap().push(size);
   45|      1|}

_RNvYINtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder13InsertBuilderQNtNtB9_6cursor10FuncCursorENtB5_11InstBuilder4callCs8rw8Tj4iu1c_18wasmtime_cranelift:
  325|      3|    fn call(mut self, FN: ir::FuncRef, args: &[Value]) -> Inst {
  326|      3|        let mut vlist = ir::ValueList::default();
  327|      3|        {
  328|      3|            let pool = &mut self.data_flow_graph_mut().value_lists;
  329|      3|            vlist.extend(args.iter().cloned(), pool);
  330|      3|        }
  331|      3|        self.Call(Opcode::Call, types::INVALID, FN, vlist).0
  332|      3|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder13call_indirectCs8rw8Tj4iu1c_18wasmtime_cranelift:
  354|      1|    fn call_indirect(mut self, SIG: ir::SigRef, callee: ir::Value, args: &[Value]) -> Inst {
  355|      1|        let ctrl_typevar = self.data_flow_graph().value_type(callee);
  356|      1|        let mut vlist = ir::ValueList::default();
  357|      1|        {
  358|      1|            let pool = &mut self.data_flow_graph_mut().value_lists;
  359|      1|            vlist.push(callee, pool);
  360|      1|            vlist.extend(args.iter().cloned(), pool);
  361|      1|        }
  362|      1|        self.CallIndirect(Opcode::CallIndirect, ctrl_typevar, SIG, vlist).0
  363|      1|    }
_RNvYINtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder13InsertBuilderQNtNtB9_6cursor10FuncCursorENtB5_11InstBuilder4CallCsfgPy2xXJGYZ_14cranelift_wasm:
 4466|      3|    fn Call(self, opcode: Opcode, ctrl_typevar: Type, func_ref: ir::FuncRef, args: ir::ValueList) -> (Inst, &'f mut ir::DataFlowGraph) {
 4467|      3|        let data = ir::InstructionData::Call {
 4468|      3|            opcode,
 4469|      3|            func_ref,
 4470|      3|            args,
 4471|      3|        };
 4472|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4473|      3|        self.build(data, ctrl_typevar)
 4474|      3|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder12global_valueCsfgPy2xXJGYZ_14cranelift_wasm:
 1130|      8|    fn global_value(self, Mem: crate::ir::Type, GV: ir::GlobalValue) -> Value {
 1131|      8|        let (inst, dfg) = self.UnaryGlobalValue(Opcode::GlobalValue, Mem, GV);
 1132|      8|        dfg.first_result(inst)
 1133|      8|    }
_RINvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder4loadNtNtB19_8memflags8MemFlagsNtNtB19_10immediates8Offset32ECsfgPy2xXJGYZ_14cranelift_wasm:
  661|      5|    fn load<T1: Into<ir::MemFlags>, T2: Into<ir::immediates::Offset32>>(self, Mem: crate::ir::Type, MemFlags: T1, p: ir::Value, Offset: T2) -> Value {
  662|      5|        let MemFlags = MemFlags.into();
  663|      5|        let Offset = Offset.into();
  664|      5|        let (inst, dfg) = self.Load(Opcode::Load, Mem, MemFlags, Offset, p);
  665|      5|        dfg.first_result(inst)
  666|      5|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder4iaddCsfgPy2xXJGYZ_14cranelift_wasm:
 1808|      1|    fn iadd(self, x: ir::Value, y: ir::Value) -> Value {
 1809|      1|        let ctrl_typevar = self.data_flow_graph().value_type(x);
 1810|      1|        let (inst, dfg) = self.Binary(Opcode::Iadd, ctrl_typevar, x, y);
 1811|      1|        dfg.first_result(inst)
 1812|      1|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder16UnaryGlobalValueCsfgPy2xXJGYZ_14cranelift_wasm:
 4849|      8|    fn UnaryGlobalValue(self, opcode: Opcode, ctrl_typevar: Type, global_value: ir::GlobalValue) -> (Inst, &'f mut ir::DataFlowGraph) {
 4850|      8|        let data = ir::InstructionData::UnaryGlobalValue {
 4851|      8|            opcode,
 4852|      8|            global_value,
 4853|      8|        };
 4854|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4855|      8|        self.build(data, ctrl_typevar)
 4856|      8|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder4TrapCsfgPy2xXJGYZ_14cranelift_wasm:
 4805|      2|    fn Trap(self, opcode: Opcode, ctrl_typevar: Type, code: ir::TrapCode) -> (Inst, &'f mut ir::DataFlowGraph) {
 4806|      2|        let data = ir::InstructionData::Trap {
 4807|      2|            opcode,
 4808|      2|            code,
 4809|      2|        };
 4810|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4811|      2|        self.build(data, ctrl_typevar)
 4812|      2|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder7return_CsfgPy2xXJGYZ_14cranelift_wasm:
  302|      4|    fn return_(mut self, rvals: &[Value]) -> Inst {
  303|      4|        let mut vlist = ir::ValueList::default();
  304|      4|        {
  305|      4|            let pool = &mut self.data_flow_graph_mut().value_lists;
  306|      4|            vlist.extend(rvals.iter().cloned(), pool);
  307|      4|        }
  308|      4|        self.MultiAry(Opcode::Return, types::INVALID, vlist).0
  309|      4|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder8MultiAryCsfgPy2xXJGYZ_14cranelift_wasm:
 4686|      4|    fn MultiAry(self, opcode: Opcode, ctrl_typevar: Type, args: ir::ValueList) -> (Inst, &'f mut ir::DataFlowGraph) {
 4687|      4|        let data = ir::InstructionData::MultiAry {
 4688|      4|            opcode,
 4689|      4|            args,
 4690|      4|        };
 4691|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4692|      4|        self.build(data, ctrl_typevar)
 4693|      4|    }
_RINvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder4trapNtNtB19_8trapcode8TrapCodeECsfgPy2xXJGYZ_14cranelift_wasm:
  199|      2|    fn trap<T1: Into<ir::TrapCode>>(self, code: T1) -> Inst {
  200|      2|        let code = code.into();
  201|      2|        self.Trap(Opcode::Trap, types::INVALID, code).0
  202|      2|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder4bintCsfgPy2xXJGYZ_14cranelift_wasm:
 3653|      2|    fn bint(self, IntTo: crate::ir::Type, x: ir::Value) -> Value {
 3654|      2|        let (inst, dfg) = self.Unary(Opcode::Bint, IntTo, x);
 3655|      2|        dfg.first_result(inst)
 3656|      2|    }
_RINvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder5storeNtNtB19_8memflags8MemFlagsNtNtB19_10immediates8Offset32ECsfgPy2xXJGYZ_14cranelift_wasm:
  680|      3|    fn store<T1: Into<ir::MemFlags>, T2: Into<ir::immediates::Offset32>>(self, MemFlags: T1, x: ir::Value, p: ir::Value, Offset: T2) -> Inst {
  681|      3|        let MemFlags = MemFlags.into();
  682|      3|        let Offset = Offset.into();
  683|      3|        let ctrl_typevar = self.data_flow_graph().value_type(x);
  684|      3|        self.Store(Opcode::Store, ctrl_typevar, MemFlags, Offset, x, p).0
  685|      3|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder12CallIndirectCsfgPy2xXJGYZ_14cranelift_wasm:
 4478|      1|    fn CallIndirect(self, opcode: Opcode, ctrl_typevar: Type, sig_ref: ir::SigRef, args: ir::ValueList) -> (Inst, &'f mut ir::DataFlowGraph) {
 4479|      1|        let data = ir::InstructionData::CallIndirect {
 4480|      1|            opcode,
 4481|      1|            sig_ref,
 4482|      1|            args,
 4483|      1|        };
 4484|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4485|      1|        self.build(data, ctrl_typevar)
 4486|      1|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder8UnaryImmB6_:
 4882|      7|    fn UnaryImm(self, opcode: Opcode, ctrl_typevar: Type, imm: ir::immediates::Imm64) -> (Inst, &'f mut ir::DataFlowGraph) {
 4883|      7|        let mut data = ir::InstructionData::UnaryImm {
 4884|      7|            opcode,
 4885|      7|            imm,
 4886|      7|        };
 4887|      7|        data.sign_extend_immediates(ctrl_typevar);
 4888|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4889|      7|        self.build(data, ctrl_typevar)
 4890|      7|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder3brzB6_:
   46|      2|    fn brz(mut self, c: ir::Value, block: ir::Block, args: &[Value]) -> Inst {
   47|      2|        let ctrl_typevar = self.data_flow_graph().value_type(c);
   48|      2|        let mut vlist = ir::ValueList::default();
   49|      2|        {
   50|      2|            let pool = &mut self.data_flow_graph_mut().value_lists;
   51|      2|            vlist.push(c, pool);
   52|      2|            vlist.extend(args.iter().cloned(), pool);
   53|      2|        }
   54|      2|        self.Branch(Opcode::Brz, ctrl_typevar, block, vlist).0
   55|      2|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder4isubB6_:
 1828|      2|    fn isub(self, x: ir::Value, y: ir::Value) -> Value {
 1829|      2|        let ctrl_typevar = self.data_flow_graph().value_type(x);
 1830|      2|        let (inst, dfg) = self.Binary(Opcode::Isub, ctrl_typevar, x, y);
 1831|      2|        dfg.first_result(inst)
 1832|      2|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder5UnaryB6_:
 4816|      2|    fn Unary(self, opcode: Opcode, ctrl_typevar: Type, arg0: Value) -> (Inst, &'f mut ir::DataFlowGraph) {
 4817|      2|        let data = ir::InstructionData::Unary {
 4818|      2|            opcode,
 4819|      2|            arg: arg0,
 4820|      2|        };
 4821|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4822|      2|        self.build(data, ctrl_typevar)
 4823|      2|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder5StoreB6_:
 4744|      4|    fn Store(self, opcode: Opcode, ctrl_typevar: Type, flags: ir::MemFlags, offset: ir::immediates::Offset32, arg0: Value, arg1: Value) -> (Inst, &'f mut ir::DataFlowGraph) {
 4745|      4|        let data = ir::InstructionData::Store {
 4746|      4|            opcode,
 4747|      4|            flags,
 4748|      4|            offset,
 4749|      4|            args: [arg0, arg1],
 4750|      4|        };
 4751|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4752|      4|        self.build(data, ctrl_typevar)
 4753|      4|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder6BranchB6_:
 4402|      2|    fn Branch(self, opcode: Opcode, ctrl_typevar: Type, destination: ir::Block, args: ir::ValueList) -> (Inst, &'f mut ir::DataFlowGraph) {
 4403|      2|        let data = ir::InstructionData::Branch {
 4404|      2|            opcode,
 4405|      2|            destination,
 4406|      2|            args,
 4407|      2|        };
 4408|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4409|      2|        self.build(data, ctrl_typevar)
 4410|      2|    }
_RINvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder4loadNtNtB19_8memflags8MemFlagslEB7_:
  661|      1|    fn load<T1: Into<ir::MemFlags>, T2: Into<ir::immediates::Offset32>>(self, Mem: crate::ir::Type, MemFlags: T1, p: ir::Value, Offset: T2) -> Value {
  662|      1|        let MemFlags = MemFlags.into();
  663|      1|        let Offset = Offset.into();
  664|      1|        let (inst, dfg) = self.Load(Opcode::Load, Mem, MemFlags, Offset, p);
  665|      1|        dfg.first_result(inst)
  666|      1|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder4jumpB6_:
   26|      5|    fn jump(mut self, block: ir::Block, args: &[Value]) -> Inst {
   27|      5|        let mut vlist = ir::ValueList::default();
   28|      5|        {
   29|      5|            let pool = &mut self.data_flow_graph_mut().value_lists;
   30|      5|            vlist.extend(args.iter().cloned(), pool);
   31|      5|        }
   32|      5|        self.Jump(Opcode::Jump, types::INVALID, block, vlist).0
   33|      5|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder10IntCompareB6_:
 4586|      2|    fn IntCompare(self, opcode: Opcode, ctrl_typevar: Type, cond: ir::condcodes::IntCC, arg0: Value, arg1: Value) -> (Inst, &'f mut ir::DataFlowGraph) {
 4587|      2|        let data = ir::InstructionData::IntCompare {
 4588|      2|            opcode,
 4589|      2|            cond,
 4590|      2|            args: [arg0, arg1],
 4591|      2|        };
 4592|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4593|      2|        self.build(data, ctrl_typevar)
 4594|      2|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder4JumpB6_:
 4649|      5|    fn Jump(self, opcode: Opcode, ctrl_typevar: Type, destination: ir::Block, args: ir::ValueList) -> (Inst, &'f mut ir::DataFlowGraph) {
 4650|      5|        let data = ir::InstructionData::Jump {
 4651|      5|            opcode,
 4652|      5|            destination,
 4653|      5|            args,
 4654|      5|        };
 4655|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4656|      5|        self.build(data, ctrl_typevar)
 4657|      5|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder6BinaryB6_:
 4366|      3|    fn Binary(self, opcode: Opcode, ctrl_typevar: Type, arg0: Value, arg1: Value) -> (Inst, &'f mut ir::DataFlowGraph) {
 4367|      3|        let data = ir::InstructionData::Binary {
 4368|      3|            opcode,
 4369|      3|            args: [arg0, arg1],
 4370|      3|        };
 4371|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4372|      3|        self.build(data, ctrl_typevar)
 4373|      3|    }
_RNvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder4LoadB6_:
 4661|      6|    fn Load(self, opcode: Opcode, ctrl_typevar: Type, flags: ir::MemFlags, offset: ir::immediates::Offset32, arg0: Value) -> (Inst, &'f mut ir::DataFlowGraph) {
 4662|      6|        let data = ir::InstructionData::Load {
 4663|      6|            opcode,
 4664|      6|            flags,
 4665|      6|            offset,
 4666|      6|            arg: arg0,
 4667|      6|        };
 4668|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4669|      6|        self.build(data, ctrl_typevar)
 4670|      6|    }
_RINvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder6iconstxEB7_:
 1312|      7|    fn iconst<T1: Into<ir::immediates::Imm64>>(self, Int: crate::ir::Type, N: T1) -> Value {
 1313|      7|        let N = N.into();
 1314|      7|        let (inst, dfg) = self.UnaryImm(Opcode::Iconst, Int, N);
 1315|      7|        dfg.first_result(inst)
 1316|      7|    }
_RINvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder4icmpNtNtB19_9condcodes5IntCCEB7_:
 1718|      2|    fn icmp<T1: Into<ir::condcodes::IntCC>>(self, Cond: T1, x: ir::Value, y: ir::Value) -> Value {
 1719|      2|        let Cond = Cond.into();
 1720|      2|        let ctrl_typevar = self.data_flow_graph().value_type(x);
 1721|      2|        let (inst, dfg) = self.IntCompare(Opcode::Icmp, ctrl_typevar, Cond, x, y);
 1722|      2|        dfg.first_result(inst)
 1723|      2|    }
_RINvYNtNtCsdPkSCz1JYHp_18cranelift_frontend8frontend15FuncInstBuilderNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder11InstBuilder5storeNtNtB19_8memflags8MemFlagslEB7_:
  680|      1|    fn store<T1: Into<ir::MemFlags>, T2: Into<ir::immediates::Offset32>>(self, MemFlags: T1, x: ir::Value, p: ir::Value, Offset: T2) -> Inst {
  681|      1|        let MemFlags = MemFlags.into();
  682|      1|        let Offset = Offset.into();
  683|      1|        let ctrl_typevar = self.data_flow_graph().value_type(x);
  684|      1|        self.Store(Opcode::Store, ctrl_typevar, MemFlags, Offset, x, p).0
  685|      1|    }
_RINvYNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder14ReplaceBuilderNtB5_11InstBuilder4loadNtNtB7_8memflags8MemFlagsNtNtB7_10immediates8Offset32EB9_:
  661|      3|    fn load<T1: Into<ir::MemFlags>, T2: Into<ir::immediates::Offset32>>(self, Mem: crate::ir::Type, MemFlags: T1, p: ir::Value, Offset: T2) -> Value {
  662|      3|        let MemFlags = MemFlags.into();
  663|      3|        let Offset = Offset.into();
  664|      3|        let (inst, dfg) = self.Load(Opcode::Load, Mem, MemFlags, Offset, p);
  665|      3|        dfg.first_result(inst)
  666|      3|    }
_RNvYNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder14ReplaceBuilderNtB4_11InstBuilder13IntCompareImmB8_:
 4598|      2|    fn IntCompareImm(self, opcode: Opcode, ctrl_typevar: Type, cond: ir::condcodes::IntCC, imm: ir::immediates::Imm64, arg0: Value) -> (Inst, &'f mut ir::DataFlowGraph) {
 4599|      2|        let mut data = ir::InstructionData::IntCompareImm {
 4600|      2|            opcode,
 4601|      2|            cond,
 4602|      2|            imm,
 4603|      2|            arg: arg0,
 4604|      2|        };
 4605|      2|        data.sign_extend_immediates(ctrl_typevar);
 4606|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4607|      2|        self.build(data, ctrl_typevar)
 4608|      2|    }
_RINvYNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder14ReplaceBuilderNtB5_11InstBuilder4icmpNtNtB7_9condcodes5IntCCEB9_:
 1718|      2|    fn icmp<T1: Into<ir::condcodes::IntCC>>(self, Cond: T1, x: ir::Value, y: ir::Value) -> Value {
 1719|      2|        let Cond = Cond.into();
 1720|      2|        let ctrl_typevar = self.data_flow_graph().value_type(x);
 1721|      2|        let (inst, dfg) = self.IntCompare(Opcode::Icmp, ctrl_typevar, Cond, x, y);
 1722|      2|        dfg.first_result(inst)
 1723|      2|    }
_RINvYINtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder13InsertBuilderQNtNtBa_6cursor10FuncCursorENtB6_11InstBuilder6iconstNtNtB8_10immediates5Imm64EBa_:
 1312|      4|    fn iconst<T1: Into<ir::immediates::Imm64>>(self, Int: crate::ir::Type, N: T1) -> Value {
 1313|      4|        let N = N.into();
 1314|      4|        let (inst, dfg) = self.UnaryImm(Opcode::Iconst, Int, N);
 1315|      4|        dfg.first_result(inst)
 1316|      4|    }
_RNvYNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder14ReplaceBuilderNtB4_11InstBuilder10IntCompareB8_:
 4586|      2|    fn IntCompare(self, opcode: Opcode, ctrl_typevar: Type, cond: ir::condcodes::IntCC, arg0: Value, arg1: Value) -> (Inst, &'f mut ir::DataFlowGraph) {
 4587|      2|        let data = ir::InstructionData::IntCompare {
 4588|      2|            opcode,
 4589|      2|            cond,
 4590|      2|            args: [arg0, arg1],
 4591|      2|        };
 4592|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4593|      2|        self.build(data, ctrl_typevar)
 4594|      2|    }
_RNvYNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder14ReplaceBuilderNtB4_11InstBuilder4LoadB8_:
 4661|      3|    fn Load(self, opcode: Opcode, ctrl_typevar: Type, flags: ir::MemFlags, offset: ir::immediates::Offset32, arg0: Value) -> (Inst, &'f mut ir::DataFlowGraph) {
 4662|      3|        let data = ir::InstructionData::Load {
 4663|      3|            opcode,
 4664|      3|            flags,
 4665|      3|            offset,
 4666|      3|            arg: arg0,
 4667|      3|        };
 4668|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4669|      3|        self.build(data, ctrl_typevar)
 4670|      3|    }
_RNvYNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder14ReplaceBuilderNtB4_11InstBuilder4iaddB8_:
 1808|      2|    fn iadd(self, x: ir::Value, y: ir::Value) -> Value {
 1809|      2|        let ctrl_typevar = self.data_flow_graph().value_type(x);
 1810|      2|        let (inst, dfg) = self.Binary(Opcode::Iadd, ctrl_typevar, x, y);
 1811|      2|        dfg.first_result(inst)
 1812|      2|    }
_RNvYINtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder13InsertBuilderQNtNtB9_6cursor10FuncCursorENtB5_11InstBuilder8UnaryImmB9_:
 4882|      4|    fn UnaryImm(self, opcode: Opcode, ctrl_typevar: Type, imm: ir::immediates::Imm64) -> (Inst, &'f mut ir::DataFlowGraph) {
 4883|      4|        let mut data = ir::InstructionData::UnaryImm {
 4884|      4|            opcode,
 4885|      4|            imm,
 4886|      4|        };
 4887|      4|        data.sign_extend_immediates(ctrl_typevar);
 4888|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4889|      4|        self.build(data, ctrl_typevar)
 4890|      4|    }
_RNvYNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder14ReplaceBuilderNtB4_11InstBuilder11BinaryImm64B8_:
 4377|      2|    fn BinaryImm64(self, opcode: Opcode, ctrl_typevar: Type, imm: ir::immediates::Imm64, arg0: Value) -> (Inst, &'f mut ir::DataFlowGraph) {
 4378|      2|        let mut data = ir::InstructionData::BinaryImm64 {
 4379|      2|            opcode,
 4380|      2|            imm,
 4381|      2|            arg: arg0,
 4382|      2|        };
 4383|      2|        data.sign_extend_immediates(ctrl_typevar);
 4384|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4385|      2|        self.build(data, ctrl_typevar)
 4386|      2|    }
_RNvYNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder14ReplaceBuilderNtB4_11InstBuilder6BinaryB8_:
 4366|      2|    fn Binary(self, opcode: Opcode, ctrl_typevar: Type, arg0: Value, arg1: Value) -> (Inst, &'f mut ir::DataFlowGraph) {
 4367|      2|        let data = ir::InstructionData::Binary {
 4368|      2|            opcode,
 4369|      2|            args: [arg0, arg1],
 4370|      2|        };
 4371|      0|        debug_assert_eq!(opcode.format(), InstructionFormat::from(&data), "Wrong InstructionFormat for Opcode: {}", opcode);
 4372|      2|        self.build(data, ctrl_typevar)
 4373|      2|    }
_RINvYNtNtNtCs4VQyXYw1GL9_17cranelift_codegen2ir7builder14ReplaceBuilderNtB5_11InstBuilder8icmp_immNtNtB7_9condcodes5IntCCNtNtB7_10immediates5Imm64EB9_:
 1743|      2|    fn icmp_imm<T1: Into<ir::condcodes::IntCC>, T2: Into<ir::immediates::Imm64>>(self, Cond: T1, x: ir::Value, Y: T2) -> Value {
 1744|      2|        let Cond = Cond.into();
 1745|      2|        let Y = Y.into();
 1746|      2|        let ctrl_typevar = self.data_flow_graph().value_type(x);
 1747|      2|        let (inst, dfg) = self.IntCompareImm(Opcode::IcmpImm, ctrl_typevar, Cond, Y, x);
 1748|      2|        dfg.first_result(inst)
 1749|      2|    }

_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code22constructor_output_regINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
  756|      6|pub fn constructor_output_reg<C: Context>(ctx: &mut C, arg0: Reg) -> Option<InstOutput> {
  757|      6|    let pattern0_0 = arg0;
  758|      6|    // Rule at src/prelude.isle line 118.
  759|      6|    let expr0_0 = C::value_reg(ctx, pattern0_0);
  760|      6|    let expr1_0 = C::output(ctx, expr0_0);
  761|      6|    return Some(expr1_0);
  762|      6|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code19constructor_x64_ud2INtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 4963|      2|pub fn constructor_x64_ud2<C: Context>(ctx: &mut C, arg0: &TrapCode) -> Option<SideEffectNoResult> {
 4964|      2|    let pattern0_0 = arg0;
 4965|      2|    // Rule at src/isa/x64/inst.isle line 2927.
 4966|      2|    let expr0_0 = MInst::Ud2 {
 4967|      2|        trap_code: pattern0_0.clone(),
 4968|      2|    };
 4969|      2|    let expr1_0 = SideEffectNoResult::Inst {
 4970|      2|        inst: expr0_0,
 4971|      2|    };
 4972|      2|    return Some(expr1_0);
 4973|      2|}
_RNvXs0_NtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_codeNtB5_13ProducesFlagsNtNtCs6s7lnD9fK28_4core5clone5Clone5cloneBf_:
  290|      4|#[derive(Clone, Debug)]
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code24constructor_copy_to_regsINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1064|      2|pub fn constructor_copy_to_regs<C: Context>(ctx: &mut C, arg0: WritableValueRegs, arg1: Value) -> Option<Unit> {
 1065|      2|    let pattern0_0 = arg0;
 1066|      2|    let pattern1_0 = arg1;
 1067|      2|    let pattern2_0 = C::value_type(ctx, pattern1_0);
 1068|      2|    // Rule at src/prelude.isle line 1006.
 1069|      2|    let expr0_0 = C::put_in_regs(ctx, pattern1_0);
 1070|      2|    let expr1_0 = constructor_value_regs_range(ctx, expr0_0)?;
 1071|      2|    let expr2_0 = constructor_copy_to_regs_range(ctx, pattern2_0, expr1_0, pattern0_0, expr0_0)?;
 1072|      2|    return Some(expr2_0);
 1073|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code19constructor_x64_movINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 2100|      2|pub fn constructor_x64_mov<C: Context>(ctx: &mut C, arg0: &Amode) -> Option<Reg> {
 2101|      2|    let pattern0_0 = arg0;
 2102|      2|    // Rule at src/isa/x64/inst.isle line 1638.
 2103|      2|    let expr0_0 = C::temp_writable_gpr(ctx, );
 2104|      2|    let expr1_0 = C::amode_to_synthetic_amode(ctx, pattern0_0);
 2105|      2|    let expr2_0 = MInst::Mov64MR {
 2106|      2|        src: expr1_0,
 2107|      2|        dst: expr0_0,
 2108|      2|    };
 2109|      2|    let expr3_0 = C::emit(ctx, &expr2_0);
 2110|      2|    let expr4_0 = constructor_writable_gpr_to_r_reg(ctx, expr0_0)?;
 2111|      2|    return Some(expr4_0);
 2112|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code35constructor_invert_icmp_cond_resultINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 6141|      2|pub fn constructor_invert_icmp_cond_result<C: Context>(ctx: &mut C, arg0: &IcmpCondResult) -> Option<IcmpCondResult> {
 6142|      2|    let pattern0_0 = arg0;
 6143|      2|    if let &IcmpCondResult::Condition { producer: ref pattern1_0, cc: ref pattern1_1 } = pattern0_0 {
 6144|      2|        // Rule at src/isa/x64/inst.isle line 3421.
 6145|      2|        let expr0_0 = C::cc_invert(ctx, pattern1_1);
 6146|      2|        let expr1_0 = constructor_icmp_cond_result(ctx, pattern1_0, &expr0_0)?;
 6147|      2|        return Some(expr1_0);
 6148|       |    }
 6149|       |    return None;
 6150|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code28constructor_value_regs_rangeINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
  783|      2|pub fn constructor_value_regs_range<C: Context>(ctx: &mut C, arg0: ValueRegs) -> Option<Range> {
  784|      2|    let pattern0_0 = arg0;
  785|      2|    // Rule at src/prelude.isle line 188.
  786|      2|    let expr0_0: usize = 0i128 as usize;
  787|      2|    let expr1_0 = C::value_regs_len(ctx, pattern0_0);
  788|      2|    let expr2_0 = C::range(ctx, expr0_0, expr1_0);
  789|      2|    return Some(expr2_0);
  790|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code25constructor_jmp_cond_icmpINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 6043|      2|pub fn constructor_jmp_cond_icmp<C: Context>(ctx: &mut C, arg0: &IcmpCondResult, arg1: MachLabel, arg2: MachLabel) -> Option<SideEffectNoResult> {
 6044|      2|    let pattern0_0 = arg0;
 6045|      2|    if let &IcmpCondResult::Condition { producer: ref pattern1_0, cc: ref pattern1_1 } = pattern0_0 {
 6046|      2|        let pattern2_0 = arg1;
 6047|      2|        let pattern3_0 = arg2;
 6048|       |        // Rule at src/isa/x64/inst.isle line 3342.
 6049|      2|        let expr0_0 = constructor_jmp_cond(ctx, pattern1_1, pattern2_0, pattern3_0)?;
 6050|      2|        let expr1_0 = constructor_with_flags_side_effect(ctx, pattern1_0, &expr0_0)?;
 6051|      2|        return Some(expr1_0);
 6052|       |    }
 6053|       |    return None;
 6054|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code24constructor_lower_returnINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1104|      6|pub fn constructor_lower_return<C: Context>(ctx: &mut C, arg0: Range, arg1: ValueSlice) -> Option<InstOutput> {
 1105|      6|    let pattern0_0 = arg0;
 1106|      6|    if let Some(()) = C::range_empty(ctx, pattern0_0) {
 1107|      4|        let pattern2_0 = arg1;
 1108|      4|        // Rule at src/prelude.isle line 1026.
 1109|      4|        let expr0_0 = C::output_none(ctx, );
 1110|      4|        return Some(expr0_0);
 1111|      2|    }
 1112|      2|    if let Some((pattern1_0, pattern1_1)) = C::range_unwrap(ctx, pattern0_0) {
 1113|      2|        let pattern2_0 = arg1;
 1114|      2|        // Rule at src/prelude.isle line 1027.
 1115|      2|        let expr0_0 = C::retval(ctx, pattern1_0);
 1116|      2|        let expr1_0 = C::value_slice_get(ctx, pattern2_0, pattern1_0);
 1117|      2|        let expr2_0 = constructor_copy_to_regs(ctx, expr0_0, expr1_0)?;
 1118|      2|        let expr3_0 = constructor_lower_return(ctx, pattern1_1, pattern2_0)?;
 1119|      2|        return Some(expr3_0);
 1120|      0|    }
 1121|      0|    return None;
 1122|      6|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code23constructor_x64_add_memINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 5851|      1|pub fn constructor_x64_add_mem<C: Context>(ctx: &mut C, arg0: Type, arg1: &Amode, arg2: Gpr) -> Option<SideEffectNoResult> {
 5852|      1|    let pattern0_0 = arg0;
 5853|      1|    let pattern1_0 = arg1;
 5854|      1|    let pattern2_0 = arg2;
 5855|      1|    // Rule at src/isa/x64/inst.isle line 3278.
 5856|      1|    let expr0_0 = AluRmiROpcode::Add;
 5857|      1|    let expr1_0 = constructor_alu_rm(ctx, pattern0_0, &expr0_0, pattern1_0, pattern2_0)?;
 5858|      1|    return Some(expr1_0);
 5859|      1|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code25constructor_amode_initialINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1213|      8|pub fn constructor_amode_initial<C: Context>(ctx: &mut C, arg0: MemFlags, arg1: Offset32) -> Option<Amode> {
 1214|      8|    let pattern0_0 = arg0;
 1215|      8|    let pattern1_0 = arg1;
 1216|      8|    if let Some(pattern2_0) = C::offset32(ctx, pattern1_0) {
 1217|       |        // Rule at src/isa/x64/inst.isle line 912.
 1218|      8|        let expr0_0 = C::invalid_reg(ctx, );
 1219|      8|        let expr1_0 = Amode::ImmReg {
 1220|      8|            simm32: pattern2_0,
 1221|      8|            base: expr0_0,
 1222|      8|            flags: pattern0_0,
 1223|      8|        };
 1224|      8|        return Some(expr1_0);
 1225|      0|    }
 1226|      0|    return None;
 1227|      8|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code30constructor_copy_to_regs_rangeINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1076|      2|pub fn constructor_copy_to_regs_range<C: Context>(ctx: &mut C, arg0: Type, arg1: Range, arg2: WritableValueRegs, arg3: ValueRegs) -> Option<Unit> {
 1077|      2|    let pattern0_0 = arg0;
 1078|      2|    let pattern1_0 = arg1;
 1079|      2|    if let Some(pattern2_0) = C::range_singleton(ctx, pattern1_0) {
 1080|      2|        let pattern3_0 = arg2;
 1081|      2|        let pattern4_0 = arg3;
 1082|      2|        // Rule at src/prelude.isle line 1014.
 1083|      2|        let expr0_0 = C::writable_regs_get(ctx, pattern3_0, pattern2_0);
 1084|      2|        let expr1_0 = C::value_regs_get(ctx, pattern4_0, pattern2_0);
 1085|      2|        let expr2_0 = C::gen_move(ctx, pattern0_0, expr0_0, expr1_0);
 1086|      2|        let expr3_0 = C::emit(ctx, &expr2_0);
 1087|      2|        return Some(expr3_0);
 1088|      0|    }
 1089|      0|    if let Some((pattern2_0, pattern2_1)) = C::range_unwrap(ctx, pattern1_0) {
 1090|      0|        let pattern3_0 = arg2;
 1091|      0|        let pattern4_0 = arg3;
 1092|      0|        // Rule at src/prelude.isle line 1019.
 1093|      0|        let expr0_0 = C::writable_regs_get(ctx, pattern3_0, pattern2_0);
 1094|      0|        let expr1_0 = C::value_regs_get(ctx, pattern4_0, pattern2_0);
 1095|      0|        let expr2_0 = C::gen_move(ctx, pattern0_0, expr0_0, expr1_0);
 1096|      0|        let expr3_0 = C::emit(ctx, &expr2_0);
 1097|      0|        let expr4_0 = constructor_copy_to_regs_range(ctx, pattern0_0, pattern2_1, pattern3_0, pattern4_0)?;
 1098|      0|        return Some(expr4_0);
 1099|      0|    }
 1100|      0|    return None;
 1101|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code17constructor_lowerINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 7005|     20|pub fn constructor_lower<C: Context>(ctx: &mut C, arg0: Inst) -> Option<InstOutput> {
 7006|     20|    let pattern0_0 = arg0;
 7007|     20|    if let Some(pattern1_0) = C::first_result(ctx, pattern0_0) {
 7008|      8|        let pattern2_0 = C::value_type(ctx, pattern1_0);
 7009|      8|        if pattern2_0 == I128 {
 7010|      0|            if let Some(()) = C::use_popcnt(ctx, pattern2_0) {
 7011|      0|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
 7012|      0|                if let &InstructionData::Unary { opcode: ref pattern6_0, arg: pattern6_1 } = &pattern5_0 {
 7013|      0|                    if let &Opcode::Popcnt  = pattern6_0 {
 7014|       |                        // Rule at src/isa/x64/lower.isle line 1825.
 7015|      0|                        let expr0_0: Type = I64;
 7016|      0|                        let expr1_0 = C::put_in_regs(ctx, pattern6_1);
 7017|      0|                        let expr2_0: usize = 0i128 as usize;
 7018|      0|                        let expr3_0 = constructor_value_regs_get_gpr(ctx, expr1_0, expr2_0)?;
 7019|      0|                        let expr4_0 = constructor_x64_popcnt(ctx, expr0_0, expr3_0)?;
 7020|      0|                        let expr5_0: Type = I64;
 7021|      0|                        let expr6_0 = C::put_in_regs(ctx, pattern6_1);
 7022|      0|                        let expr7_0: usize = 1i128 as usize;
 7023|      0|                        let expr8_0 = constructor_value_regs_get_gpr(ctx, expr6_0, expr7_0)?;
 7024|      0|                        let expr9_0 = constructor_x64_popcnt(ctx, expr5_0, expr8_0)?;
 7025|      0|                        let expr10_0: Type = I64;
 7026|      0|                        let expr11_0 = C::gpr_to_gpr_mem_imm(ctx, expr9_0);
 7027|      0|                        let expr12_0 = constructor_x64_add(ctx, expr10_0, expr4_0, &expr11_0)?;
 7028|      0|                        let expr13_0 = C::gpr_to_reg(ctx, expr12_0);
 7029|      0|                        let expr14_0: Type = I64;
 7030|      0|                        let expr15_0: u64 = 0i128 as u64;
 7031|      0|                        let expr16_0 = constructor_imm(ctx, expr14_0, expr15_0)?;
 7032|      0|                        let expr17_0 = C::value_regs(ctx, expr13_0, expr16_0);
 7033|      0|                        let expr18_0 = C::output(ctx, expr17_0);
 7034|      0|                        return Some(expr18_0);
 7035|      0|                    }
 7036|      0|                }
 7037|      0|            }
 7038|      8|        }
 7039|      8|        if pattern2_0 == I8X16 {
 7040|      0|            if let Some(()) = C::avx512vl_enabled(ctx, pattern2_0) {
 7041|      0|                if let Some(()) = C::avx512bitalg_enabled(ctx, pattern2_0) {
 7042|      0|                    let pattern6_0 = C::inst_data(ctx, pattern0_0);
 7043|      0|                    if let &InstructionData::Unary { opcode: ref pattern7_0, arg: pattern7_1 } = &pattern6_0 {
 7044|      0|                        if let &Opcode::Popcnt  = pattern7_0 {
 7045|       |                            // Rule at src/isa/x64/lower.isle line 1917.
 7046|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 7047|      0|                            let expr1_0 = constructor_x64_vpopcntb(ctx, &expr0_0)?;
 7048|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 7049|      0|                            return Some(expr2_0);
 7050|      0|                        }
 7051|      0|                    }
 7052|      0|                }
 7053|      0|            }
 7054|      8|        }
 7055|      8|        if let Some(()) = C::avx512vl_enabled(ctx, pattern2_0) {
 7056|      0|            if let Some(()) = C::avx512f_enabled(ctx, pattern2_0) {
 7057|      0|                if pattern2_0 == F32X4 {
 7058|      0|                    let pattern6_0 = C::inst_data(ctx, pattern0_0);
 7059|      0|                    if let &InstructionData::Unary { opcode: ref pattern7_0, arg: pattern7_1 } = &pattern6_0 {
 7060|      0|                        if let &Opcode::FcvtFromUint  = pattern7_0 {
 7061|       |                            // Rule at src/isa/x64/lower.isle line 2996.
 7062|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 7063|      0|                            let expr1_0 = constructor_x64_vcvtudq2ps(ctx, &expr0_0)?;
 7064|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 7065|      0|                            return Some(expr2_0);
 7066|      0|                        }
 7067|      0|                    }
 7068|      0|                }
 7069|      0|            }
 7070|      8|        }
 7071|      8|        if let Some(()) = C::use_fma(ctx, pattern2_0) {
 7072|      8|            if pattern2_0 == F32 {
 7073|      0|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
 7074|      0|                if let &InstructionData::Ternary { opcode: ref pattern6_0, args: ref pattern6_1 } = &pattern5_0 {
 7075|      0|                    if let &Opcode::Fma  = pattern6_0 {
 7076|      0|                        let (pattern8_0, pattern8_1, pattern8_2) = C::unpack_value_array_3(ctx, pattern6_1);
 7077|       |                        // Rule at src/isa/x64/lower.isle line 2483.
 7078|      0|                        let expr0_0 = constructor_put_in_xmm(ctx, pattern8_0)?;
 7079|      0|                        let expr1_0 = constructor_put_in_xmm(ctx, pattern8_1)?;
 7080|      0|                        let expr2_0 = constructor_put_in_xmm(ctx, pattern8_2)?;
 7081|      0|                        let expr3_0 = constructor_x64_vfmadd213ss(ctx, expr0_0, expr1_0, expr2_0)?;
 7082|      0|                        let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
 7083|      0|                        return Some(expr4_0);
 7084|      0|                    }
 7085|      0|                }
 7086|      8|            }
 7087|      8|            if pattern2_0 == F64 {
 7088|      0|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
 7089|      0|                if let &InstructionData::Ternary { opcode: ref pattern6_0, args: ref pattern6_1 } = &pattern5_0 {
 7090|      0|                    if let &Opcode::Fma  = pattern6_0 {
 7091|      0|                        let (pattern8_0, pattern8_1, pattern8_2) = C::unpack_value_array_3(ctx, pattern6_1);
 7092|       |                        // Rule at src/isa/x64/lower.isle line 2485.
 7093|      0|                        let expr0_0 = constructor_put_in_xmm(ctx, pattern8_0)?;
 7094|      0|                        let expr1_0 = constructor_put_in_xmm(ctx, pattern8_1)?;
 7095|      0|                        let expr2_0 = constructor_put_in_xmm(ctx, pattern8_2)?;
 7096|      0|                        let expr3_0 = constructor_x64_vfmadd213sd(ctx, expr0_0, expr1_0, expr2_0)?;
 7097|      0|                        let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
 7098|      0|                        return Some(expr4_0);
 7099|      0|                    }
 7100|      0|                }
 7101|      8|            }
 7102|      0|        }
 7103|      8|        if let Some(pattern3_0) = C::ty_32_or_64(ctx, pattern2_0) {
 7104|      8|            if let Some(()) = C::use_lzcnt(ctx, pattern2_0) {
 7105|      8|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
 7106|      8|                if let &InstructionData::Unary { opcode: ref pattern6_0, arg: pattern6_1 } = &pattern5_0 {
 7107|      0|                    if let &Opcode::Clz  = pattern6_0 {
 7108|       |                        // Rule at src/isa/x64/lower.isle line 1733.
 7109|      0|                        let expr0_0 = constructor_put_in_gpr(ctx, pattern6_1)?;
 7110|      0|                        let expr1_0 = constructor_x64_lzcnt(ctx, pattern3_0, expr0_0)?;
 7111|      0|                        let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
 7112|      0|                        return Some(expr2_0);
 7113|      0|                    }
 7114|      8|                }
 7115|      0|            }
 7116|      8|            if let Some(()) = C::use_bmi1(ctx, pattern2_0) {
 7117|      8|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
 7118|      8|                if let &InstructionData::Unary { opcode: ref pattern6_0, arg: pattern6_1 } = &pattern5_0 {
 7119|      0|                    if let &Opcode::Ctz  = pattern6_0 {
 7120|       |                        // Rule at src/isa/x64/lower.isle line 1775.
 7121|      0|                        let expr0_0 = constructor_put_in_gpr(ctx, pattern6_1)?;
 7122|      0|                        let expr1_0 = constructor_x64_tzcnt(ctx, pattern3_0, expr0_0)?;
 7123|      0|                        let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
 7124|      0|                        return Some(expr2_0);
 7125|      0|                    }
 7126|      8|                }
 7127|      0|            }
 7128|      8|            if let Some(()) = C::use_popcnt(ctx, pattern2_0) {
 7129|      8|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
 7130|      8|                if let &InstructionData::Unary { opcode: ref pattern6_0, arg: pattern6_1 } = &pattern5_0 {
 7131|      0|                    if let &Opcode::Popcnt  = pattern6_0 {
 7132|       |                        // Rule at src/isa/x64/lower.isle line 1811.
 7133|      0|                        let expr0_0 = constructor_put_in_gpr(ctx, pattern6_1)?;
 7134|      0|                        let expr1_0 = constructor_x64_popcnt(ctx, pattern3_0, expr0_0)?;
 7135|      0|                        let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
 7136|      0|                        return Some(expr2_0);
 7137|      0|                    }
 7138|      8|                }
 7139|      0|            }
 7140|      0|        }
 7141|      8|        if let Some(pattern3_0) = C::ty_8_or_16(ctx, pattern2_0) {
 7142|      0|            if let Some(()) = C::use_popcnt(ctx, pattern2_0) {
 7143|      0|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
 7144|      0|                if let &InstructionData::Unary { opcode: ref pattern6_0, arg: pattern6_1 } = &pattern5_0 {
 7145|      0|                    if let &Opcode::Popcnt  = pattern6_0 {
 7146|       |                        // Rule at src/isa/x64/lower.isle line 1818.
 7147|      0|                        let expr0_0: Type = I32;
 7148|      0|                        let expr1_0: Type = I32;
 7149|      0|                        let expr2_0 = ExtendKind::Zero;
 7150|      0|                        let expr3_0 = constructor_extend_to_gpr(ctx, pattern6_1, expr1_0, &expr2_0)?;
 7151|      0|                        let expr4_0 = constructor_x64_popcnt(ctx, expr0_0, expr3_0)?;
 7152|      0|                        let expr5_0 = constructor_output_gpr(ctx, expr4_0)?;
 7153|      0|                        return Some(expr5_0);
 7154|      0|                    }
 7155|      0|                }
 7156|      0|            }
 7157|      8|        }
 7158|     12|    }
 7159|     20|    let pattern0_0 = arg0;
 7160|     20|    if let Some(pattern1_0) = C::first_result(ctx, pattern0_0) {
 7161|      8|        let pattern2_0 = C::value_type(ctx, pattern1_0);
 7162|      8|        if pattern2_0 == B1 {
 7163|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 7164|      0|            if let &InstructionData::IntCompare { opcode: ref pattern5_0, args: ref pattern5_1, cond: ref pattern5_2 } = &pattern4_0 {
 7165|      0|                if let &Opcode::Icmp  = pattern5_0 {
 7166|      0|                    let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7167|      0|                    if let Some(pattern8_0) = C::def_inst(ctx, pattern7_0) {
 7168|      0|                        let pattern9_0 = C::inst_data(ctx, pattern8_0);
 7169|      0|                        if let &InstructionData::UnaryImm { opcode: ref pattern10_0, imm: pattern10_1 } = &pattern9_0 {
 7170|      0|                            if let &Opcode::Iconst  = pattern10_0 {
 7171|      0|                                let pattern12_0 = C::u64_from_imm64(ctx, pattern10_1);
 7172|      0|                                if pattern12_0 == 0i128 as u64  {
 7173|      0|                                    let pattern14_0 = C::value_type(ctx, pattern7_1);
 7174|      0|                                    if pattern14_0 == I32 {
 7175|      0|                                        match pattern5_2 {
 7176|       |                                            &IntCC::SignedGreaterThan  => {
 7177|       |                                                // Rule at src/isa/x64/lower.isle line 1473.
 7178|      0|                                                let expr0_0: Type = I32;
 7179|      0|                                                let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 7180|      0|                                                let expr2_0: u8 = 31i128 as u8;
 7181|      0|                                                let expr3_0 = Imm8Reg::Imm8 {
 7182|      0|                                                    imm: expr2_0,
 7183|      0|                                                };
 7184|      0|                                                let expr4_0 = C::imm8_reg_to_imm8_gpr(ctx, &expr3_0);
 7185|      0|                                                let expr5_0 = constructor_x64_shr(ctx, expr0_0, expr1_0, &expr4_0)?;
 7186|      0|                                                let expr6_0 = constructor_output_gpr(ctx, expr5_0)?;
 7187|      0|                                                return Some(expr6_0);
 7188|       |                                            }
 7189|       |                                            &IntCC::SignedLessThanOrEqual  => {
 7190|       |                                                // Rule at src/isa/x64/lower.isle line 1477.
 7191|      0|                                                let expr0_0: Type = I32;
 7192|      0|                                                let expr1_0: Type = I64;
 7193|      0|                                                let expr2_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 7194|      0|                                                let expr3_0 = constructor_x64_not(ctx, expr1_0, expr2_0)?;
 7195|      0|                                                let expr4_0: u8 = 31i128 as u8;
 7196|      0|                                                let expr5_0 = Imm8Reg::Imm8 {
 7197|      0|                                                    imm: expr4_0,
 7198|      0|                                                };
 7199|      0|                                                let expr6_0 = C::imm8_reg_to_imm8_gpr(ctx, &expr5_0);
 7200|      0|                                                let expr7_0 = constructor_x64_shr(ctx, expr0_0, expr3_0, &expr6_0)?;
 7201|      0|                                                let expr8_0 = constructor_output_gpr(ctx, expr7_0)?;
 7202|      0|                                                return Some(expr8_0);
 7203|       |                                            }
 7204|      0|                                            _ => {}
 7205|       |                                        }
 7206|      0|                                    }
 7207|      0|                                    if pattern14_0 == I64 {
 7208|      0|                                        match pattern5_2 {
 7209|       |                                            &IntCC::SignedGreaterThan  => {
 7210|       |                                                // Rule at src/isa/x64/lower.isle line 1457.
 7211|      0|                                                let expr0_0: Type = I64;
 7212|      0|                                                let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 7213|      0|                                                let expr2_0: u8 = 63i128 as u8;
 7214|      0|                                                let expr3_0 = Imm8Reg::Imm8 {
 7215|      0|                                                    imm: expr2_0,
 7216|      0|                                                };
 7217|      0|                                                let expr4_0 = C::imm8_reg_to_imm8_gpr(ctx, &expr3_0);
 7218|      0|                                                let expr5_0 = constructor_x64_shr(ctx, expr0_0, expr1_0, &expr4_0)?;
 7219|      0|                                                let expr6_0 = constructor_output_gpr(ctx, expr5_0)?;
 7220|      0|                                                return Some(expr6_0);
 7221|       |                                            }
 7222|       |                                            &IntCC::SignedLessThanOrEqual  => {
 7223|       |                                                // Rule at src/isa/x64/lower.isle line 1461.
 7224|      0|                                                let expr0_0: Type = I64;
 7225|      0|                                                let expr1_0: Type = I64;
 7226|      0|                                                let expr2_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 7227|      0|                                                let expr3_0 = constructor_x64_not(ctx, expr1_0, expr2_0)?;
 7228|      0|                                                let expr4_0: u8 = 63i128 as u8;
 7229|      0|                                                let expr5_0 = Imm8Reg::Imm8 {
 7230|      0|                                                    imm: expr4_0,
 7231|      0|                                                };
 7232|      0|                                                let expr6_0 = C::imm8_reg_to_imm8_gpr(ctx, &expr5_0);
 7233|      0|                                                let expr7_0 = constructor_x64_shr(ctx, expr0_0, expr3_0, &expr6_0)?;
 7234|      0|                                                let expr8_0 = constructor_output_gpr(ctx, expr7_0)?;
 7235|      0|                                                return Some(expr8_0);
 7236|       |                                            }
 7237|      0|                                            _ => {}
 7238|       |                                        }
 7239|      0|                                    }
 7240|      0|                                }
 7241|      0|                            }
 7242|      0|                        }
 7243|      0|                    }
 7244|      0|                    let pattern8_0 = C::value_type(ctx, pattern7_0);
 7245|      0|                    if pattern8_0 == I32 {
 7246|      0|                        if let Some(pattern10_0) = C::def_inst(ctx, pattern7_1) {
 7247|      0|                            let pattern11_0 = C::inst_data(ctx, pattern10_0);
 7248|      0|                            if let &InstructionData::UnaryImm { opcode: ref pattern12_0, imm: pattern12_1 } = &pattern11_0 {
 7249|      0|                                if let &Opcode::Iconst  = pattern12_0 {
 7250|      0|                                    let pattern14_0 = C::u64_from_imm64(ctx, pattern12_1);
 7251|      0|                                    if pattern14_0 == 0i128 as u64  {
 7252|      0|                                        match pattern5_2 {
 7253|       |                                            &IntCC::SignedGreaterThanOrEqual  => {
 7254|       |                                                // Rule at src/isa/x64/lower.isle line 1481.
 7255|      0|                                                let expr0_0: Type = I32;
 7256|      0|                                                let expr1_0: Type = I64;
 7257|      0|                                                let expr2_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
 7258|      0|                                                let expr3_0 = constructor_x64_not(ctx, expr1_0, expr2_0)?;
 7259|      0|                                                let expr4_0: u8 = 31i128 as u8;
 7260|      0|                                                let expr5_0 = Imm8Reg::Imm8 {
 7261|      0|                                                    imm: expr4_0,
 7262|      0|                                                };
 7263|      0|                                                let expr6_0 = C::imm8_reg_to_imm8_gpr(ctx, &expr5_0);
 7264|      0|                                                let expr7_0 = constructor_x64_shr(ctx, expr0_0, expr3_0, &expr6_0)?;
 7265|      0|                                                let expr8_0 = constructor_output_gpr(ctx, expr7_0)?;
 7266|      0|                                                return Some(expr8_0);
 7267|       |                                            }
 7268|       |                                            &IntCC::SignedLessThan  => {
 7269|       |                                                // Rule at src/isa/x64/lower.isle line 1469.
 7270|      0|                                                let expr0_0: Type = I32;
 7271|      0|                                                let expr1_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
 7272|      0|                                                let expr2_0: u8 = 31i128 as u8;
 7273|      0|                                                let expr3_0 = Imm8Reg::Imm8 {
 7274|      0|                                                    imm: expr2_0,
 7275|      0|                                                };
 7276|      0|                                                let expr4_0 = C::imm8_reg_to_imm8_gpr(ctx, &expr3_0);
 7277|      0|                                                let expr5_0 = constructor_x64_shr(ctx, expr0_0, expr1_0, &expr4_0)?;
 7278|      0|                                                let expr6_0 = constructor_output_gpr(ctx, expr5_0)?;
 7279|      0|                                                return Some(expr6_0);
 7280|       |                                            }
 7281|      0|                                            _ => {}
 7282|       |                                        }
 7283|      0|                                    }
 7284|      0|                                }
 7285|      0|                            }
 7286|      0|                        }
 7287|      0|                    }
 7288|      0|                    if pattern8_0 == I64 {
 7289|      0|                        if let Some(pattern10_0) = C::def_inst(ctx, pattern7_1) {
 7290|      0|                            let pattern11_0 = C::inst_data(ctx, pattern10_0);
 7291|      0|                            if let &InstructionData::UnaryImm { opcode: ref pattern12_0, imm: pattern12_1 } = &pattern11_0 {
 7292|      0|                                if let &Opcode::Iconst  = pattern12_0 {
 7293|      0|                                    let pattern14_0 = C::u64_from_imm64(ctx, pattern12_1);
 7294|      0|                                    if pattern14_0 == 0i128 as u64  {
 7295|      0|                                        match pattern5_2 {
 7296|       |                                            &IntCC::SignedGreaterThanOrEqual  => {
 7297|       |                                                // Rule at src/isa/x64/lower.isle line 1465.
 7298|      0|                                                let expr0_0: Type = I64;
 7299|      0|                                                let expr1_0: Type = I64;
 7300|      0|                                                let expr2_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
 7301|      0|                                                let expr3_0 = constructor_x64_not(ctx, expr1_0, expr2_0)?;
 7302|      0|                                                let expr4_0: u8 = 63i128 as u8;
 7303|      0|                                                let expr5_0 = Imm8Reg::Imm8 {
 7304|      0|                                                    imm: expr4_0,
 7305|      0|                                                };
 7306|      0|                                                let expr6_0 = C::imm8_reg_to_imm8_gpr(ctx, &expr5_0);
 7307|      0|                                                let expr7_0 = constructor_x64_shr(ctx, expr0_0, expr3_0, &expr6_0)?;
 7308|      0|                                                let expr8_0 = constructor_output_gpr(ctx, expr7_0)?;
 7309|      0|                                                return Some(expr8_0);
 7310|       |                                            }
 7311|       |                                            &IntCC::SignedLessThan  => {
 7312|       |                                                // Rule at src/isa/x64/lower.isle line 1453.
 7313|      0|                                                let expr0_0: Type = I64;
 7314|      0|                                                let expr1_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
 7315|      0|                                                let expr2_0: u8 = 63i128 as u8;
 7316|      0|                                                let expr3_0 = Imm8Reg::Imm8 {
 7317|      0|                                                    imm: expr2_0,
 7318|      0|                                                };
 7319|      0|                                                let expr4_0 = C::imm8_reg_to_imm8_gpr(ctx, &expr3_0);
 7320|      0|                                                let expr5_0 = constructor_x64_shr(ctx, expr0_0, expr1_0, &expr4_0)?;
 7321|      0|                                                let expr6_0 = constructor_output_gpr(ctx, expr5_0)?;
 7322|      0|                                                return Some(expr6_0);
 7323|       |                                            }
 7324|      0|                                            _ => {}
 7325|       |                                        }
 7326|      0|                                    }
 7327|      0|                                }
 7328|      0|                            }
 7329|      0|                        }
 7330|      0|                    }
 7331|      0|                }
 7332|      0|            }
 7333|      8|        }
 7334|      8|        if pattern2_0 == B128 {
 7335|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 7336|      0|            match &pattern4_0 {
 7337|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 7338|      0|                    if let &Opcode::Bnot  = pattern5_0 {
 7339|       |                        // Rule at src/isa/x64/lower.isle line 1243.
 7340|      0|                        let expr0_0 = constructor_i128_not(ctx, pattern5_1)?;
 7341|      0|                        let expr1_0 = C::output(ctx, expr0_0);
 7342|      0|                        return Some(expr1_0);
 7343|      0|                    }
 7344|       |                }
 7345|      0|                &InstructionData::UnaryBool { opcode: ref pattern5_0, imm: pattern5_1 } => {
 7346|      0|                    if let &Opcode::Bconst  = pattern5_0 {
 7347|      0|                        if pattern5_1 == true {
 7348|       |                            // Rule at src/isa/x64/lower.isle line 44.
 7349|      0|                            let expr0_0: Type = B64;
 7350|      0|                            let expr1_0: u64 = 1i128 as u64;
 7351|      0|                            let expr2_0 = constructor_imm(ctx, expr0_0, expr1_0)?;
 7352|      0|                            let expr3_0: Type = B64;
 7353|      0|                            let expr4_0: u64 = 0i128 as u64;
 7354|      0|                            let expr5_0 = constructor_imm(ctx, expr3_0, expr4_0)?;
 7355|      0|                            let expr6_0 = C::value_regs(ctx, expr2_0, expr5_0);
 7356|      0|                            let expr7_0 = C::output(ctx, expr6_0);
 7357|      0|                            return Some(expr7_0);
 7358|      0|                        }
 7359|      0|                        if pattern5_1 == false {
 7360|       |                            // Rule at src/isa/x64/lower.isle line 39.
 7361|      0|                            let expr0_0: Type = B64;
 7362|      0|                            let expr1_0: u64 = 0i128 as u64;
 7363|      0|                            let expr2_0 = constructor_imm(ctx, expr0_0, expr1_0)?;
 7364|      0|                            let expr3_0: Type = B64;
 7365|      0|                            let expr4_0: u64 = 0i128 as u64;
 7366|      0|                            let expr5_0 = constructor_imm(ctx, expr3_0, expr4_0)?;
 7367|      0|                            let expr6_0 = C::value_regs(ctx, expr2_0, expr5_0);
 7368|      0|                            let expr7_0 = C::output(ctx, expr6_0);
 7369|      0|                            return Some(expr7_0);
 7370|      0|                        }
 7371|      0|                    }
 7372|       |                }
 7373|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 7374|      0|                    match pattern5_0 {
 7375|       |                        &Opcode::Band  => {
 7376|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7377|      0|                            // Rule at src/isa/x64/lower.isle line 318.
 7378|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern7_0);
 7379|      0|                            let expr1_0: usize = 0i128 as usize;
 7380|      0|                            let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
 7381|      0|                            let expr3_0: usize = 1i128 as usize;
 7382|      0|                            let expr4_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr3_0)?;
 7383|      0|                            let expr5_0 = constructor_lo_gpr(ctx, pattern7_1)?;
 7384|      0|                            let expr6_0: Type = I64;
 7385|      0|                            let expr7_0 = C::gpr_to_gpr_mem_imm(ctx, expr5_0);
 7386|      0|                            let expr8_0 = constructor_x64_and(ctx, expr6_0, expr2_0, &expr7_0)?;
 7387|      0|                            let expr9_0 = constructor_value_gprs(ctx, expr8_0, expr4_0)?;
 7388|      0|                            let expr10_0 = C::output(ctx, expr9_0);
 7389|      0|                            return Some(expr10_0);
 7390|       |                        }
 7391|       |                        &Opcode::Bor  => {
 7392|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7393|      0|                            // Rule at src/isa/x64/lower.isle line 384.
 7394|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern7_0);
 7395|      0|                            let expr1_0: usize = 0i128 as usize;
 7396|      0|                            let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
 7397|      0|                            let expr3_0: usize = 1i128 as usize;
 7398|      0|                            let expr4_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr3_0)?;
 7399|      0|                            let expr5_0 = constructor_lo_gpr(ctx, pattern7_1)?;
 7400|      0|                            let expr6_0: Type = I64;
 7401|      0|                            let expr7_0 = C::gpr_to_gpr_mem_imm(ctx, expr5_0);
 7402|      0|                            let expr8_0 = constructor_x64_or(ctx, expr6_0, expr2_0, &expr7_0)?;
 7403|      0|                            let expr9_0 = constructor_value_gprs(ctx, expr8_0, expr4_0)?;
 7404|      0|                            let expr10_0 = C::output(ctx, expr9_0);
 7405|      0|                            return Some(expr10_0);
 7406|       |                        }
 7407|       |                        &Opcode::Bxor  => {
 7408|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7409|      0|                            // Rule at src/isa/x64/lower.isle line 442.
 7410|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern7_0);
 7411|      0|                            let expr1_0: usize = 0i128 as usize;
 7412|      0|                            let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
 7413|      0|                            let expr3_0: usize = 1i128 as usize;
 7414|      0|                            let expr4_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr3_0)?;
 7415|      0|                            let expr5_0 = constructor_lo_gpr(ctx, pattern7_1)?;
 7416|      0|                            let expr6_0: Type = I64;
 7417|      0|                            let expr7_0 = C::gpr_to_gpr_mem_imm(ctx, expr5_0);
 7418|      0|                            let expr8_0 = constructor_x64_xor(ctx, expr6_0, expr2_0, &expr7_0)?;
 7419|      0|                            let expr9_0 = constructor_value_gprs(ctx, expr8_0, expr4_0)?;
 7420|      0|                            let expr10_0 = C::output(ctx, expr9_0);
 7421|      0|                            return Some(expr10_0);
 7422|       |                        }
 7423|      0|                        _ => {}
 7424|       |                    }
 7425|       |                }
 7426|      0|                _ => {}
 7427|       |            }
 7428|      8|        }
 7429|      8|        if pattern2_0 == I8 {
 7430|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 7431|      0|            if let &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } = &pattern4_0 {
 7432|      0|                if let &Opcode::Bitrev  = pattern5_0 {
 7433|       |                    // Rule at src/isa/x64/lower.isle line 1968.
 7434|      0|                    let expr0_0: Type = I32;
 7435|      0|                    let expr1_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
 7436|      0|                    let expr2_0 = constructor_do_bitrev8(ctx, expr0_0, expr1_0)?;
 7437|      0|                    let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
 7438|      0|                    return Some(expr3_0);
 7439|      0|                }
 7440|      0|            }
 7441|      8|        }
 7442|      8|        if pattern2_0 == I16 {
 7443|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 7444|      0|            if let &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } = &pattern4_0 {
 7445|      0|                if let &Opcode::Bitrev  = pattern5_0 {
 7446|       |                    // Rule at src/isa/x64/lower.isle line 1971.
 7447|      0|                    let expr0_0: Type = I32;
 7448|      0|                    let expr1_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
 7449|      0|                    let expr2_0 = constructor_do_bitrev16(ctx, expr0_0, expr1_0)?;
 7450|      0|                    let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
 7451|      0|                    return Some(expr3_0);
 7452|      0|                }
 7453|      0|            }
 7454|      8|        }
 7455|      8|        if pattern2_0 == I32 {
 7456|      5|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 7457|      5|            if let &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } = &pattern4_0 {
 7458|      0|                match pattern5_0 {
 7459|       |                    &Opcode::Bitrev  => {
 7460|       |                        // Rule at src/isa/x64/lower.isle line 1974.
 7461|      0|                        let expr0_0: Type = I32;
 7462|      0|                        let expr1_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
 7463|      0|                        let expr2_0 = constructor_do_bitrev32(ctx, expr0_0, expr1_0)?;
 7464|      0|                        let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
 7465|      0|                        return Some(expr3_0);
 7466|       |                    }
 7467|       |                    &Opcode::Bitcast  => {
 7468|      0|                        let pattern7_0 = C::value_type(ctx, pattern5_1);
 7469|      0|                        if pattern7_0 == F32 {
 7470|       |                            // Rule at src/isa/x64/lower.isle line 3307.
 7471|      0|                            let expr0_0: Type = F32;
 7472|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 7473|      0|                            let expr2_0 = constructor_bitcast_xmm_to_gpr(ctx, expr0_0, expr1_0)?;
 7474|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
 7475|      0|                            return Some(expr3_0);
 7476|      0|                        }
 7477|       |                    }
 7478|      0|                    _ => {}
 7479|       |                }
 7480|      5|            }
 7481|      3|        }
 7482|      8|        if pattern2_0 == I64 {
 7483|      3|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 7484|      3|            match &pattern4_0 {
 7485|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 7486|      0|                    match pattern5_0 {
 7487|       |                        &Opcode::Bitrev  => {
 7488|       |                            // Rule at src/isa/x64/lower.isle line 1977.
 7489|      0|                            let expr0_0: Type = I64;
 7490|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
 7491|      0|                            let expr2_0 = constructor_do_bitrev64(ctx, expr0_0, expr1_0)?;
 7492|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
 7493|      0|                            return Some(expr3_0);
 7494|       |                        }
 7495|       |                        &Opcode::Bitcast  => {
 7496|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 7497|      0|                            if pattern7_0 == F64 {
 7498|       |                                // Rule at src/isa/x64/lower.isle line 3313.
 7499|      0|                                let expr0_0: Type = F64;
 7500|      0|                                let expr1_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 7501|      0|                                let expr2_0 = constructor_bitcast_xmm_to_gpr(ctx, expr0_0, expr1_0)?;
 7502|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
 7503|      0|                                return Some(expr3_0);
 7504|      0|                            }
 7505|       |                        }
 7506|       |                        &Opcode::Uextend  => {
 7507|      0|                            if let Some(pattern7_0) = C::def_inst(ctx, pattern5_1) {
 7508|      0|                                if let Some(pattern8_0) = C::first_result(ctx, pattern7_0) {
 7509|      0|                                    let pattern9_0 = C::value_type(ctx, pattern8_0);
 7510|      0|                                    if pattern9_0 == I32 {
 7511|      0|                                        let pattern11_0 = C::inst_data(ctx, pattern7_0);
 7512|      0|                                        match &pattern11_0 {
 7513|      0|                                            &InstructionData::Load { opcode: ref pattern12_0, arg: pattern12_1, flags: pattern12_2, offset: pattern12_3 } => {
 7514|      0|                                                if let &Opcode::Uload32  = pattern12_0 {
 7515|       |                                                    // Rule at src/isa/x64/lower.isle line 2120.
 7516|      0|                                                    let expr0_0 = constructor_output_value(ctx, pattern5_1)?;
 7517|      0|                                                    return Some(expr0_0);
 7518|      0|                                                }
 7519|       |                                            }
 7520|      0|                                            &InstructionData::Binary { opcode: ref pattern12_0, args: ref pattern12_1 } => {
 7521|      0|                                                match pattern12_0 {
 7522|       |                                                    &Opcode::Iadd  => {
 7523|      0|                                                        let (pattern14_0, pattern14_1) = C::unpack_value_array_2(ctx, pattern12_1);
 7524|       |                                                        // Rule at src/isa/x64/lower.isle line 2093.
 7525|      0|                                                        let expr0_0 = constructor_output_value(ctx, pattern5_1)?;
 7526|      0|                                                        return Some(expr0_0);
 7527|       |                                                    }
 7528|       |                                                    &Opcode::Isub  => {
 7529|      0|                                                        let (pattern14_0, pattern14_1) = C::unpack_value_array_2(ctx, pattern12_1);
 7530|       |                                                        // Rule at src/isa/x64/lower.isle line 2099.
 7531|      0|                                                        let expr0_0 = constructor_output_value(ctx, pattern5_1)?;
 7532|      0|                                                        return Some(expr0_0);
 7533|       |                                                    }
 7534|       |                                                    &Opcode::Imul  => {
 7535|      0|                                                        let (pattern14_0, pattern14_1) = C::unpack_value_array_2(ctx, pattern12_1);
 7536|       |                                                        // Rule at src/isa/x64/lower.isle line 2102.
 7537|      0|                                                        let expr0_0 = constructor_output_value(ctx, pattern5_1)?;
 7538|      0|                                                        return Some(expr0_0);
 7539|       |                                                    }
 7540|       |                                                    &Opcode::IaddIfcout  => {
 7541|      0|                                                        let (pattern14_0, pattern14_1) = C::unpack_value_array_2(ctx, pattern12_1);
 7542|       |                                                        // Rule at src/isa/x64/lower.isle line 2096.
 7543|      0|                                                        let expr0_0 = constructor_output_value(ctx, pattern5_1)?;
 7544|      0|                                                        return Some(expr0_0);
 7545|       |                                                    }
 7546|       |                                                    &Opcode::Band  => {
 7547|      0|                                                        let (pattern14_0, pattern14_1) = C::unpack_value_array_2(ctx, pattern12_1);
 7548|       |                                                        // Rule at src/isa/x64/lower.isle line 2105.
 7549|      0|                                                        let expr0_0 = constructor_output_value(ctx, pattern5_1)?;
 7550|      0|                                                        return Some(expr0_0);
 7551|       |                                                    }
 7552|       |                                                    &Opcode::Bor  => {
 7553|      0|                                                        let (pattern14_0, pattern14_1) = C::unpack_value_array_2(ctx, pattern12_1);
 7554|       |                                                        // Rule at src/isa/x64/lower.isle line 2108.
 7555|      0|                                                        let expr0_0 = constructor_output_value(ctx, pattern5_1)?;
 7556|      0|                                                        return Some(expr0_0);
 7557|       |                                                    }
 7558|       |                                                    &Opcode::Bxor  => {
 7559|      0|                                                        let (pattern14_0, pattern14_1) = C::unpack_value_array_2(ctx, pattern12_1);
 7560|       |                                                        // Rule at src/isa/x64/lower.isle line 2111.
 7561|      0|                                                        let expr0_0 = constructor_output_value(ctx, pattern5_1)?;
 7562|      0|                                                        return Some(expr0_0);
 7563|       |                                                    }
 7564|       |                                                    &Opcode::Ishl  => {
 7565|      0|                                                        let (pattern14_0, pattern14_1) = C::unpack_value_array_2(ctx, pattern12_1);
 7566|       |                                                        // Rule at src/isa/x64/lower.isle line 2114.
 7567|      0|                                                        let expr0_0 = constructor_output_value(ctx, pattern5_1)?;
 7568|      0|                                                        return Some(expr0_0);
 7569|       |                                                    }
 7570|       |                                                    &Opcode::Ushr  => {
 7571|      0|                                                        let (pattern14_0, pattern14_1) = C::unpack_value_array_2(ctx, pattern12_1);
 7572|       |                                                        // Rule at src/isa/x64/lower.isle line 2117.
 7573|      0|                                                        let expr0_0 = constructor_output_value(ctx, pattern5_1)?;
 7574|      0|                                                        return Some(expr0_0);
 7575|       |                                                    }
 7576|      0|                                                    _ => {}
 7577|       |                                                }
 7578|       |                                            }
 7579|      0|                                            _ => {}
 7580|       |                                        }
 7581|      0|                                    }
 7582|      0|                                }
 7583|      0|                            }
 7584|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 7585|      0|                            if let Some(pattern8_0) = C::fits_in_32(ctx, pattern7_0) {
 7586|       |                                // Rule at src/isa/x64/lower.isle line 2075.
 7587|      0|                                let expr0_0: Type = I64;
 7588|      0|                                let expr1_0 = ExtendKind::Zero;
 7589|      0|                                let expr2_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr0_0, &expr1_0)?;
 7590|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
 7591|      0|                                return Some(expr3_0);
 7592|      0|                            }
 7593|       |                        }
 7594|      0|                        _ => {}
 7595|       |                    }
 7596|       |                }
 7597|      0|                &InstructionData::LoadNoOffset { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2 } => {
 7598|      0|                    if let &Opcode::AtomicLoad  = pattern5_0 {
 7599|       |                        // Rule at src/isa/x64/lower.isle line 2789.
 7600|      0|                        let expr0_0 = C::zero_offset(ctx, );
 7601|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, expr0_0)?;
 7602|      0|                        let expr2_0 = constructor_x64_mov(ctx, &expr1_0)?;
 7603|      0|                        let expr3_0 = constructor_output_reg(ctx, expr2_0)?;
 7604|      0|                        return Some(expr3_0);
 7605|      0|                    }
 7606|       |                }
 7607|      3|                _ => {}
 7608|       |            }
 7609|      5|        }
 7610|      8|        if pattern2_0 == I128 {
 7611|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 7612|      0|            match &pattern4_0 {
 7613|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 7614|      0|                    match pattern5_0 {
 7615|       |                        &Opcode::Bnot  => {
 7616|       |                            // Rule at src/isa/x64/lower.isle line 1240.
 7617|      0|                            let expr0_0 = constructor_i128_not(ctx, pattern5_1)?;
 7618|      0|                            let expr1_0 = C::output(ctx, expr0_0);
 7619|      0|                            return Some(expr1_0);
 7620|       |                        }
 7621|       |                        &Opcode::Bitrev  => {
 7622|       |                            // Rule at src/isa/x64/lower.isle line 1980.
 7623|      0|                            let expr0_0: Type = I64;
 7624|      0|                            let expr1_0 = C::put_in_regs(ctx, pattern5_1);
 7625|      0|                            let expr2_0: usize = 1i128 as usize;
 7626|      0|                            let expr3_0 = constructor_value_regs_get_gpr(ctx, expr1_0, expr2_0)?;
 7627|      0|                            let expr4_0 = constructor_do_bitrev64(ctx, expr0_0, expr3_0)?;
 7628|      0|                            let expr5_0 = C::gpr_to_reg(ctx, expr4_0);
 7629|      0|                            let expr6_0: Type = I64;
 7630|      0|                            let expr7_0 = C::put_in_regs(ctx, pattern5_1);
 7631|      0|                            let expr8_0: usize = 0i128 as usize;
 7632|      0|                            let expr9_0 = constructor_value_regs_get_gpr(ctx, expr7_0, expr8_0)?;
 7633|      0|                            let expr10_0 = constructor_do_bitrev64(ctx, expr6_0, expr9_0)?;
 7634|      0|                            let expr11_0 = C::gpr_to_reg(ctx, expr10_0);
 7635|      0|                            let expr12_0 = C::value_regs(ctx, expr5_0, expr11_0);
 7636|      0|                            let expr13_0 = C::output(ctx, expr12_0);
 7637|      0|                            return Some(expr13_0);
 7638|       |                        }
 7639|       |                        &Opcode::Clz  => {
 7640|       |                            // Rule at src/isa/x64/lower.isle line 1750.
 7641|      0|                            let expr0_0: Type = I64;
 7642|      0|                            let expr1_0: Type = I64;
 7643|      0|                            let expr2_0 = C::put_in_regs(ctx, pattern5_1);
 7644|      0|                            let expr3_0: usize = 1i128 as usize;
 7645|      0|                            let expr4_0 = constructor_value_regs_get_gpr(ctx, expr2_0, expr3_0)?;
 7646|      0|                            let expr5_0 = constructor_do_clz(ctx, expr0_0, expr1_0, expr4_0)?;
 7647|      0|                            let expr6_0: Type = I64;
 7648|      0|                            let expr7_0: Type = I64;
 7649|      0|                            let expr8_0: Type = I64;
 7650|      0|                            let expr9_0 = C::put_in_regs(ctx, pattern5_1);
 7651|      0|                            let expr10_0: usize = 0i128 as usize;
 7652|      0|                            let expr11_0 = constructor_value_regs_get_gpr(ctx, expr9_0, expr10_0)?;
 7653|      0|                            let expr12_0 = constructor_do_clz(ctx, expr7_0, expr8_0, expr11_0)?;
 7654|      0|                            let expr13_0: u32 = 64i128 as u32;
 7655|      0|                            let expr14_0 = RegMemImm::Imm {
 7656|      0|                                simm32: expr13_0,
 7657|      0|                            };
 7658|      0|                            let expr15_0 = C::gpr_mem_imm_new(ctx, &expr14_0);
 7659|      0|                            let expr16_0 = constructor_x64_add(ctx, expr6_0, expr12_0, &expr15_0)?;
 7660|      0|                            let expr17_0 = OperandSize::Size64;
 7661|      0|                            let expr18_0: u32 = 64i128 as u32;
 7662|      0|                            let expr19_0 = constructor_x64_cmp_imm(ctx, &expr17_0, expr18_0, expr5_0)?;
 7663|      0|                            let expr20_0: Type = I64;
 7664|      0|                            let expr21_0 = CC::NZ;
 7665|      0|                            let expr22_0 = C::gpr_to_gpr_mem(ctx, expr5_0);
 7666|      0|                            let expr23_0 = constructor_cmove(ctx, expr20_0, &expr21_0, &expr22_0, expr16_0)?;
 7667|      0|                            let expr24_0 = constructor_with_flags_reg(ctx, &expr19_0, &expr23_0)?;
 7668|      0|                            let expr25_0 = C::gpr_new(ctx, expr24_0);
 7669|      0|                            let expr26_0 = C::gpr_to_reg(ctx, expr25_0);
 7670|      0|                            let expr27_0: Type = I64;
 7671|      0|                            let expr28_0: u64 = 0i128 as u64;
 7672|      0|                            let expr29_0 = constructor_imm(ctx, expr27_0, expr28_0)?;
 7673|      0|                            let expr30_0 = C::value_regs(ctx, expr26_0, expr29_0);
 7674|      0|                            let expr31_0 = C::output(ctx, expr30_0);
 7675|      0|                            return Some(expr31_0);
 7676|       |                        }
 7677|       |                        &Opcode::Ctz  => {
 7678|       |                            // Rule at src/isa/x64/lower.isle line 1792.
 7679|      0|                            let expr0_0: Type = I64;
 7680|      0|                            let expr1_0: Type = I64;
 7681|      0|                            let expr2_0 = C::put_in_regs(ctx, pattern5_1);
 7682|      0|                            let expr3_0: usize = 0i128 as usize;
 7683|      0|                            let expr4_0 = constructor_value_regs_get_gpr(ctx, expr2_0, expr3_0)?;
 7684|      0|                            let expr5_0 = constructor_do_ctz(ctx, expr0_0, expr1_0, expr4_0)?;
 7685|      0|                            let expr6_0: Type = I64;
 7686|      0|                            let expr7_0: Type = I64;
 7687|      0|                            let expr8_0: Type = I64;
 7688|      0|                            let expr9_0 = C::put_in_regs(ctx, pattern5_1);
 7689|      0|                            let expr10_0: usize = 1i128 as usize;
 7690|      0|                            let expr11_0 = constructor_value_regs_get_gpr(ctx, expr9_0, expr10_0)?;
 7691|      0|                            let expr12_0 = constructor_do_ctz(ctx, expr7_0, expr8_0, expr11_0)?;
 7692|      0|                            let expr13_0: u32 = 64i128 as u32;
 7693|      0|                            let expr14_0 = RegMemImm::Imm {
 7694|      0|                                simm32: expr13_0,
 7695|      0|                            };
 7696|      0|                            let expr15_0 = C::gpr_mem_imm_new(ctx, &expr14_0);
 7697|      0|                            let expr16_0 = constructor_x64_add(ctx, expr6_0, expr12_0, &expr15_0)?;
 7698|      0|                            let expr17_0 = OperandSize::Size64;
 7699|      0|                            let expr18_0: u32 = 64i128 as u32;
 7700|      0|                            let expr19_0 = constructor_x64_cmp_imm(ctx, &expr17_0, expr18_0, expr5_0)?;
 7701|      0|                            let expr20_0: Type = I64;
 7702|      0|                            let expr21_0 = CC::Z;
 7703|      0|                            let expr22_0 = C::gpr_to_gpr_mem(ctx, expr16_0);
 7704|      0|                            let expr23_0 = constructor_cmove(ctx, expr20_0, &expr21_0, &expr22_0, expr5_0)?;
 7705|      0|                            let expr24_0 = constructor_with_flags_reg(ctx, &expr19_0, &expr23_0)?;
 7706|      0|                            let expr25_0 = C::gpr_new(ctx, expr24_0);
 7707|      0|                            let expr26_0 = C::gpr_to_reg(ctx, expr25_0);
 7708|      0|                            let expr27_0: Type = I64;
 7709|      0|                            let expr28_0: u64 = 0i128 as u64;
 7710|      0|                            let expr29_0 = constructor_imm(ctx, expr27_0, expr28_0)?;
 7711|      0|                            let expr30_0 = C::value_regs(ctx, expr26_0, expr29_0);
 7712|      0|                            let expr31_0 = C::output(ctx, expr30_0);
 7713|      0|                            return Some(expr31_0);
 7714|       |                        }
 7715|       |                        &Opcode::Popcnt  => {
 7716|       |                            // Rule at src/isa/x64/lower.isle line 1844.
 7717|      0|                            let expr0_0: Type = I64;
 7718|      0|                            let expr1_0 = C::put_in_regs(ctx, pattern5_1);
 7719|      0|                            let expr2_0: usize = 0i128 as usize;
 7720|      0|                            let expr3_0 = constructor_value_regs_get_gpr(ctx, expr1_0, expr2_0)?;
 7721|      0|                            let expr4_0 = constructor_do_popcnt(ctx, expr0_0, expr3_0)?;
 7722|      0|                            let expr5_0: Type = I64;
 7723|      0|                            let expr6_0 = C::put_in_regs(ctx, pattern5_1);
 7724|      0|                            let expr7_0: usize = 1i128 as usize;
 7725|      0|                            let expr8_0 = constructor_value_regs_get_gpr(ctx, expr6_0, expr7_0)?;
 7726|      0|                            let expr9_0 = constructor_do_popcnt(ctx, expr5_0, expr8_0)?;
 7727|      0|                            let expr10_0: Type = I64;
 7728|      0|                            let expr11_0 = C::gpr_to_gpr_mem_imm(ctx, expr9_0);
 7729|      0|                            let expr12_0 = constructor_x64_add(ctx, expr10_0, expr4_0, &expr11_0)?;
 7730|      0|                            let expr13_0 = C::gpr_to_reg(ctx, expr12_0);
 7731|      0|                            let expr14_0: Type = I64;
 7732|      0|                            let expr15_0: u64 = 0i128 as u64;
 7733|      0|                            let expr16_0 = constructor_imm(ctx, expr14_0, expr15_0)?;
 7734|      0|                            let expr17_0 = C::value_regs(ctx, expr13_0, expr16_0);
 7735|      0|                            let expr18_0 = C::output(ctx, expr17_0);
 7736|      0|                            return Some(expr18_0);
 7737|       |                        }
 7738|       |                        &Opcode::Bint  => {
 7739|       |                            // Rule at src/isa/x64/lower.isle line 2195.
 7740|      0|                            let expr0_0: Type = I64;
 7741|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
 7742|      0|                            let expr2_0: u32 = 1i128 as u32;
 7743|      0|                            let expr3_0 = RegMemImm::Imm {
 7744|      0|                                simm32: expr2_0,
 7745|      0|                            };
 7746|      0|                            let expr4_0 = C::gpr_mem_imm_new(ctx, &expr3_0);
 7747|      0|                            let expr5_0 = constructor_x64_and(ctx, expr0_0, expr1_0, &expr4_0)?;
 7748|      0|                            let expr6_0 = C::gpr_to_reg(ctx, expr5_0);
 7749|      0|                            let expr7_0: Type = I64;
 7750|      0|                            let expr8_0: u64 = 0i128 as u64;
 7751|      0|                            let expr9_0 = constructor_imm(ctx, expr7_0, expr8_0)?;
 7752|      0|                            let expr10_0 = C::value_regs(ctx, expr6_0, expr9_0);
 7753|      0|                            let expr11_0 = C::output(ctx, expr10_0);
 7754|      0|                            return Some(expr11_0);
 7755|       |                        }
 7756|       |                        &Opcode::Uextend  => {
 7757|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 7758|      0|                            if pattern7_0 == I64 {
 7759|       |                                // Rule at src/isa/x64/lower.isle line 2067.
 7760|      0|                                let expr0_0 = C::put_in_reg(ctx, pattern5_1);
 7761|      0|                                let expr1_0: Type = I64;
 7762|      0|                                let expr2_0: u64 = 0i128 as u64;
 7763|      0|                                let expr3_0 = constructor_imm(ctx, expr1_0, expr2_0)?;
 7764|      0|                                let expr4_0 = C::value_regs(ctx, expr0_0, expr3_0);
 7765|      0|                                let expr5_0 = C::output(ctx, expr4_0);
 7766|      0|                                return Some(expr5_0);
 7767|      0|                            }
 7768|      0|                            if let Some(pattern8_0) = C::fits_in_32(ctx, pattern7_0) {
 7769|       |                                // Rule at src/isa/x64/lower.isle line 2071.
 7770|      0|                                let expr0_0: Type = I64;
 7771|      0|                                let expr1_0 = ExtendKind::Zero;
 7772|      0|                                let expr2_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr0_0, &expr1_0)?;
 7773|      0|                                let expr3_0 = C::gpr_to_reg(ctx, expr2_0);
 7774|      0|                                let expr4_0: Type = I64;
 7775|      0|                                let expr5_0: u64 = 0i128 as u64;
 7776|      0|                                let expr6_0 = constructor_imm(ctx, expr4_0, expr5_0)?;
 7777|      0|                                let expr7_0 = C::value_regs(ctx, expr3_0, expr6_0);
 7778|      0|                                let expr8_0 = C::output(ctx, expr7_0);
 7779|      0|                                return Some(expr8_0);
 7780|      0|                            }
 7781|       |                        }
 7782|      0|                        _ => {}
 7783|       |                    }
 7784|       |                }
 7785|      0|                &InstructionData::UnaryImm { opcode: ref pattern5_0, imm: pattern5_1 } => {
 7786|      0|                    if let &Opcode::Iconst  = pattern5_0 {
 7787|      0|                        let pattern7_0 = C::u64_from_imm64(ctx, pattern5_1);
 7788|      0|                        // Rule at src/isa/x64/lower.isle line 20.
 7789|      0|                        let expr0_0: Type = I64;
 7790|      0|                        let expr1_0 = constructor_imm(ctx, expr0_0, pattern7_0)?;
 7791|      0|                        let expr2_0: Type = I64;
 7792|      0|                        let expr3_0: u64 = 0i128 as u64;
 7793|      0|                        let expr4_0 = constructor_imm(ctx, expr2_0, expr3_0)?;
 7794|      0|                        let expr5_0 = C::value_regs(ctx, expr1_0, expr4_0);
 7795|      0|                        let expr6_0 = C::output(ctx, expr5_0);
 7796|      0|                        return Some(expr6_0);
 7797|      0|                    }
 7798|       |                }
 7799|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 7800|      0|                    match pattern5_0 {
 7801|       |                        &Opcode::Iadd  => {
 7802|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7803|      0|                            // Rule at src/isa/x64/lower.isle line 116.
 7804|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern7_0);
 7805|      0|                            let expr1_0: usize = 0i128 as usize;
 7806|      0|                            let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
 7807|      0|                            let expr3_0: usize = 1i128 as usize;
 7808|      0|                            let expr4_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr3_0)?;
 7809|      0|                            let expr5_0 = C::put_in_regs(ctx, pattern7_1);
 7810|      0|                            let expr6_0: usize = 0i128 as usize;
 7811|      0|                            let expr7_0 = constructor_value_regs_get_gpr(ctx, expr5_0, expr6_0)?;
 7812|      0|                            let expr8_0: usize = 1i128 as usize;
 7813|      0|                            let expr9_0 = constructor_value_regs_get_gpr(ctx, expr5_0, expr8_0)?;
 7814|      0|                            let expr10_0: Type = I64;
 7815|      0|                            let expr11_0 = C::gpr_to_gpr_mem_imm(ctx, expr7_0);
 7816|      0|                            let expr12_0 = constructor_x64_add_with_flags_paired(ctx, expr10_0, expr2_0, &expr11_0)?;
 7817|      0|                            let expr13_0: Type = I64;
 7818|      0|                            let expr14_0 = C::gpr_to_gpr_mem_imm(ctx, expr9_0);
 7819|      0|                            let expr15_0 = constructor_x64_adc_paired(ctx, expr13_0, expr4_0, &expr14_0)?;
 7820|      0|                            let expr16_0 = constructor_with_flags(ctx, &expr12_0, &expr15_0)?;
 7821|      0|                            let expr17_0 = C::output(ctx, expr16_0);
 7822|      0|                            return Some(expr17_0);
 7823|       |                        }
 7824|       |                        &Opcode::Isub  => {
 7825|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7826|      0|                            // Rule at src/isa/x64/lower.isle line 231.
 7827|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern7_0);
 7828|      0|                            let expr1_0: usize = 0i128 as usize;
 7829|      0|                            let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
 7830|      0|                            let expr3_0: usize = 1i128 as usize;
 7831|      0|                            let expr4_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr3_0)?;
 7832|      0|                            let expr5_0 = C::put_in_regs(ctx, pattern7_1);
 7833|      0|                            let expr6_0: usize = 0i128 as usize;
 7834|      0|                            let expr7_0 = constructor_value_regs_get_gpr(ctx, expr5_0, expr6_0)?;
 7835|      0|                            let expr8_0: usize = 1i128 as usize;
 7836|      0|                            let expr9_0 = constructor_value_regs_get_gpr(ctx, expr5_0, expr8_0)?;
 7837|      0|                            let expr10_0: Type = I64;
 7838|      0|                            let expr11_0 = C::gpr_to_gpr_mem_imm(ctx, expr7_0);
 7839|      0|                            let expr12_0 = constructor_x64_sub_with_flags_paired(ctx, expr10_0, expr2_0, &expr11_0)?;
 7840|      0|                            let expr13_0: Type = I64;
 7841|      0|                            let expr14_0 = C::gpr_to_gpr_mem_imm(ctx, expr9_0);
 7842|      0|                            let expr15_0 = constructor_x64_sbb_paired(ctx, expr13_0, expr4_0, &expr14_0)?;
 7843|      0|                            let expr16_0 = constructor_with_flags(ctx, &expr12_0, &expr15_0)?;
 7844|      0|                            let expr17_0 = C::output(ctx, expr16_0);
 7845|      0|                            return Some(expr17_0);
 7846|       |                        }
 7847|       |                        &Opcode::Imul  => {
 7848|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7849|      0|                            // Rule at src/isa/x64/lower.isle line 907.
 7850|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern7_0);
 7851|      0|                            let expr1_0: usize = 0i128 as usize;
 7852|      0|                            let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
 7853|      0|                            let expr3_0: usize = 1i128 as usize;
 7854|      0|                            let expr4_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr3_0)?;
 7855|      0|                            let expr5_0 = C::put_in_regs(ctx, pattern7_1);
 7856|      0|                            let expr6_0: usize = 0i128 as usize;
 7857|      0|                            let expr7_0 = constructor_value_regs_get_gpr(ctx, expr5_0, expr6_0)?;
 7858|      0|                            let expr8_0: usize = 1i128 as usize;
 7859|      0|                            let expr9_0 = constructor_value_regs_get_gpr(ctx, expr5_0, expr8_0)?;
 7860|      0|                            let expr10_0: Type = I64;
 7861|      0|                            let expr11_0 = C::gpr_to_gpr_mem_imm(ctx, expr9_0);
 7862|      0|                            let expr12_0 = constructor_x64_mul(ctx, expr10_0, expr2_0, &expr11_0)?;
 7863|      0|                            let expr13_0: Type = I64;
 7864|      0|                            let expr14_0 = C::gpr_to_gpr_mem_imm(ctx, expr7_0);
 7865|      0|                            let expr15_0 = constructor_x64_mul(ctx, expr13_0, expr4_0, &expr14_0)?;
 7866|      0|                            let expr16_0: Type = I64;
 7867|      0|                            let expr17_0 = C::gpr_to_gpr_mem_imm(ctx, expr15_0);
 7868|      0|                            let expr18_0 = constructor_x64_add(ctx, expr16_0, expr12_0, &expr17_0)?;
 7869|      0|                            let expr19_0: Type = I64;
 7870|      0|                            let expr20_0 = C::gpr_to_gpr_mem(ctx, expr7_0);
 7871|      0|                            let expr21_0 = constructor_mulhi_u(ctx, expr19_0, expr2_0, &expr20_0)?;
 7872|      0|                            let expr22_0: usize = 0i128 as usize;
 7873|      0|                            let expr23_0 = constructor_value_regs_get_gpr(ctx, expr21_0, expr22_0)?;
 7874|      0|                            let expr24_0: usize = 1i128 as usize;
 7875|      0|                            let expr25_0 = constructor_value_regs_get_gpr(ctx, expr21_0, expr24_0)?;
 7876|      0|                            let expr26_0: Type = I64;
 7877|      0|                            let expr27_0 = C::gpr_to_gpr_mem_imm(ctx, expr25_0);
 7878|      0|                            let expr28_0 = constructor_x64_add(ctx, expr26_0, expr18_0, &expr27_0)?;
 7879|      0|                            let expr29_0 = constructor_value_gprs(ctx, expr23_0, expr28_0)?;
 7880|      0|                            let expr30_0 = C::output(ctx, expr29_0);
 7881|      0|                            return Some(expr30_0);
 7882|       |                        }
 7883|       |                        &Opcode::Band  => {
 7884|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7885|      0|                            // Rule at src/isa/x64/lower.isle line 308.
 7886|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern7_0);
 7887|      0|                            let expr1_0: usize = 0i128 as usize;
 7888|      0|                            let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
 7889|      0|                            let expr3_0: usize = 1i128 as usize;
 7890|      0|                            let expr4_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr3_0)?;
 7891|      0|                            let expr5_0 = C::put_in_regs(ctx, pattern7_1);
 7892|      0|                            let expr6_0: usize = 0i128 as usize;
 7893|      0|                            let expr7_0 = constructor_value_regs_get_gpr(ctx, expr5_0, expr6_0)?;
 7894|      0|                            let expr8_0: usize = 1i128 as usize;
 7895|      0|                            let expr9_0 = constructor_value_regs_get_gpr(ctx, expr5_0, expr8_0)?;
 7896|      0|                            let expr10_0: Type = I64;
 7897|      0|                            let expr11_0 = C::gpr_to_gpr_mem_imm(ctx, expr7_0);
 7898|      0|                            let expr12_0 = constructor_x64_and(ctx, expr10_0, expr2_0, &expr11_0)?;
 7899|      0|                            let expr13_0: Type = I64;
 7900|      0|                            let expr14_0 = C::gpr_to_gpr_mem_imm(ctx, expr9_0);
 7901|      0|                            let expr15_0 = constructor_x64_and(ctx, expr13_0, expr4_0, &expr14_0)?;
 7902|      0|                            let expr16_0 = constructor_value_gprs(ctx, expr12_0, expr15_0)?;
 7903|      0|                            let expr17_0 = C::output(ctx, expr16_0);
 7904|      0|                            return Some(expr17_0);
 7905|       |                        }
 7906|       |                        &Opcode::Bor  => {
 7907|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7908|      0|                            // Rule at src/isa/x64/lower.isle line 381.
 7909|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern7_0);
 7910|      0|                            let expr1_0 = C::put_in_regs(ctx, pattern7_1);
 7911|      0|                            let expr2_0 = constructor_or_i128(ctx, expr0_0, expr1_0)?;
 7912|      0|                            let expr3_0 = C::output(ctx, expr2_0);
 7913|      0|                            return Some(expr3_0);
 7914|       |                        }
 7915|       |                        &Opcode::Bxor  => {
 7916|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7917|      0|                            // Rule at src/isa/x64/lower.isle line 432.
 7918|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern7_0);
 7919|      0|                            let expr1_0: usize = 0i128 as usize;
 7920|      0|                            let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
 7921|      0|                            let expr3_0: usize = 1i128 as usize;
 7922|      0|                            let expr4_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr3_0)?;
 7923|      0|                            let expr5_0 = C::put_in_regs(ctx, pattern7_1);
 7924|      0|                            let expr6_0: usize = 0i128 as usize;
 7925|      0|                            let expr7_0 = constructor_value_regs_get_gpr(ctx, expr5_0, expr6_0)?;
 7926|      0|                            let expr8_0: usize = 1i128 as usize;
 7927|      0|                            let expr9_0 = constructor_value_regs_get_gpr(ctx, expr5_0, expr8_0)?;
 7928|      0|                            let expr10_0: Type = I64;
 7929|      0|                            let expr11_0 = C::gpr_to_gpr_mem_imm(ctx, expr7_0);
 7930|      0|                            let expr12_0 = constructor_x64_xor(ctx, expr10_0, expr2_0, &expr11_0)?;
 7931|      0|                            let expr13_0: Type = I64;
 7932|      0|                            let expr14_0 = C::gpr_to_gpr_mem_imm(ctx, expr9_0);
 7933|      0|                            let expr15_0 = constructor_x64_xor(ctx, expr13_0, expr4_0, &expr14_0)?;
 7934|      0|                            let expr16_0 = constructor_value_gprs(ctx, expr12_0, expr15_0)?;
 7935|      0|                            let expr17_0 = C::output(ctx, expr16_0);
 7936|      0|                            return Some(expr17_0);
 7937|       |                        }
 7938|       |                        &Opcode::Rotl  => {
 7939|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7940|      0|                            // Rule at src/isa/x64/lower.isle line 799.
 7941|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern7_0);
 7942|      0|                            let expr1_0 = constructor_lo_gpr(ctx, pattern7_1)?;
 7943|      0|                            let expr2_0 = constructor_shl_i128(ctx, expr0_0, expr1_0)?;
 7944|      0|                            let expr3_0: Type = I64;
 7945|      0|                            let expr4_0: Type = I64;
 7946|      0|                            let expr5_0: u64 = 128i128 as u64;
 7947|      0|                            let expr6_0 = constructor_imm(ctx, expr4_0, expr5_0)?;
 7948|      0|                            let expr7_0 = C::gpr_new(ctx, expr6_0);
 7949|      0|                            let expr8_0 = C::gpr_to_gpr_mem_imm(ctx, expr1_0);
 7950|      0|                            let expr9_0 = constructor_x64_sub(ctx, expr3_0, expr7_0, &expr8_0)?;
 7951|      0|                            let expr10_0 = constructor_shr_i128(ctx, expr0_0, expr9_0)?;
 7952|      0|                            let expr11_0 = constructor_or_i128(ctx, expr2_0, expr10_0)?;
 7953|      0|                            let expr12_0 = C::output(ctx, expr11_0);
 7954|      0|                            return Some(expr12_0);
 7955|       |                        }
 7956|       |                        &Opcode::Rotr  => {
 7957|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7958|      0|                            // Rule at src/isa/x64/lower.isle line 820.
 7959|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern7_0);
 7960|      0|                            let expr1_0 = constructor_lo_gpr(ctx, pattern7_1)?;
 7961|      0|                            let expr2_0 = constructor_shr_i128(ctx, expr0_0, expr1_0)?;
 7962|      0|                            let expr3_0: Type = I64;
 7963|      0|                            let expr4_0: Type = I64;
 7964|      0|                            let expr5_0: u64 = 128i128 as u64;
 7965|      0|                            let expr6_0 = constructor_imm(ctx, expr4_0, expr5_0)?;
 7966|      0|                            let expr7_0 = C::gpr_new(ctx, expr6_0);
 7967|      0|                            let expr8_0 = C::gpr_to_gpr_mem_imm(ctx, expr1_0);
 7968|      0|                            let expr9_0 = constructor_x64_sub(ctx, expr3_0, expr7_0, &expr8_0)?;
 7969|      0|                            let expr10_0 = constructor_shl_i128(ctx, expr0_0, expr9_0)?;
 7970|      0|                            let expr11_0 = constructor_or_i128(ctx, expr2_0, expr10_0)?;
 7971|      0|                            let expr12_0 = C::output(ctx, expr11_0);
 7972|      0|                            return Some(expr12_0);
 7973|       |                        }
 7974|       |                        &Opcode::Ishl  => {
 7975|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7976|       |                            // Rule at src/isa/x64/lower.isle line 496.
 7977|      0|                            let expr0_0 = constructor_lo_gpr(ctx, pattern7_1)?;
 7978|      0|                            let expr1_0 = C::put_in_regs(ctx, pattern7_0);
 7979|      0|                            let expr2_0 = constructor_shl_i128(ctx, expr1_0, expr0_0)?;
 7980|      0|                            let expr3_0 = C::output(ctx, expr2_0);
 7981|      0|                            return Some(expr3_0);
 7982|       |                        }
 7983|       |                        &Opcode::Ushr  => {
 7984|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7985|       |                            // Rule at src/isa/x64/lower.isle line 602.
 7986|      0|                            let expr0_0 = constructor_lo_gpr(ctx, pattern7_1)?;
 7987|      0|                            let expr1_0 = C::put_in_regs(ctx, pattern7_0);
 7988|      0|                            let expr2_0 = constructor_shr_i128(ctx, expr1_0, expr0_0)?;
 7989|      0|                            let expr3_0 = C::output(ctx, expr2_0);
 7990|      0|                            return Some(expr3_0);
 7991|       |                        }
 7992|       |                        &Opcode::Sshr  => {
 7993|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 7994|       |                            // Rule at src/isa/x64/lower.isle line 712.
 7995|      0|                            let expr0_0 = constructor_lo_gpr(ctx, pattern7_1)?;
 7996|      0|                            let expr1_0 = C::put_in_regs(ctx, pattern7_0);
 7997|      0|                            let expr2_0 = constructor_sar_i128(ctx, expr1_0, expr0_0)?;
 7998|      0|                            let expr3_0 = C::output(ctx, expr2_0);
 7999|      0|                            return Some(expr3_0);
 8000|       |                        }
 8001|      0|                        _ => {}
 8002|       |                    }
 8003|       |                }
 8004|      0|                _ => {}
 8005|       |            }
 8006|      8|        }
 8007|      8|        if pattern2_0 == F32 {
 8008|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 8009|      0|            match &pattern4_0 {
 8010|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 8011|      0|                    match pattern5_0 {
 8012|       |                        &Opcode::Sqrt  => {
 8013|       |                            // Rule at src/isa/x64/lower.isle line 2261.
 8014|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8015|      0|                            let expr1_0 = constructor_x64_sqrtss(ctx, expr0_0)?;
 8016|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 8017|      0|                            return Some(expr2_0);
 8018|       |                        }
 8019|       |                        &Opcode::Fneg  => {
 8020|       |                            // Rule at src/isa/x64/lower.isle line 1207.
 8021|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8022|      0|                            let expr1_0: Type = F32;
 8023|      0|                            let expr2_0: u64 = 2147483648i128 as u64;
 8024|      0|                            let expr3_0 = constructor_imm(ctx, expr1_0, expr2_0)?;
 8025|      0|                            let expr4_0 = constructor_reg_to_xmm_mem(ctx, expr3_0)?;
 8026|      0|                            let expr5_0 = constructor_x64_xorps(ctx, expr0_0, &expr4_0)?;
 8027|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8028|      0|                            return Some(expr6_0);
 8029|       |                        }
 8030|       |                        &Opcode::Fabs  => {
 8031|       |                            // Rule at src/isa/x64/lower.isle line 1187.
 8032|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8033|      0|                            let expr1_0: Type = F32;
 8034|      0|                            let expr2_0: u64 = 2147483647i128 as u64;
 8035|      0|                            let expr3_0 = constructor_imm(ctx, expr1_0, expr2_0)?;
 8036|      0|                            let expr4_0 = constructor_reg_to_xmm_mem(ctx, expr3_0)?;
 8037|      0|                            let expr5_0 = constructor_x64_andps(ctx, expr0_0, &expr4_0)?;
 8038|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8039|      0|                            return Some(expr6_0);
 8040|       |                        }
 8041|       |                        &Opcode::Bitcast  => {
 8042|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 8043|      0|                            if pattern7_0 == I32 {
 8044|       |                                // Rule at src/isa/x64/lower.isle line 3310.
 8045|      0|                                let expr0_0: Type = I32;
 8046|      0|                                let expr1_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
 8047|      0|                                let expr2_0 = constructor_bitcast_gpr_to_xmm(ctx, expr0_0, expr1_0)?;
 8048|      0|                                let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8049|      0|                                return Some(expr3_0);
 8050|      0|                            }
 8051|       |                        }
 8052|       |                        &Opcode::Fdemote  => {
 8053|       |                            // Rule at src/isa/x64/lower.isle line 2279.
 8054|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8055|      0|                            let expr1_0 = constructor_x64_cvtsd2ss(ctx, expr0_0)?;
 8056|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 8057|      0|                            return Some(expr2_0);
 8058|       |                        }
 8059|       |                        &Opcode::FcvtFromUint  => {
 8060|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 8061|      0|                            if let Some(pattern8_0) = C::fits_in_32(ctx, pattern7_0) {
 8062|      0|                                if let Some(pattern9_0) = C::ty_int(ctx, pattern8_0) {
 8063|       |                                    // Rule at src/isa/x64/lower.isle line 2972.
 8064|      0|                                    let expr0_0: Type = I64;
 8065|      0|                                    let expr1_0: Type = I64;
 8066|      0|                                    let expr2_0 = ExtendKind::Zero;
 8067|      0|                                    let expr3_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr1_0, &expr2_0)?;
 8068|      0|                                    let expr4_0 = C::gpr_to_gpr_mem(ctx, expr3_0);
 8069|      0|                                    let expr5_0 = constructor_x64_cvtsi2ss(ctx, expr0_0, &expr4_0)?;
 8070|      0|                                    let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8071|      0|                                    return Some(expr6_0);
 8072|      0|                                }
 8073|      0|                            }
 8074|       |                        }
 8075|       |                        &Opcode::FcvtFromSint  => {
 8076|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 8077|      0|                            if pattern7_0 == I8 {
 8078|       |                                // Rule at src/isa/x64/lower.isle line 2944.
 8079|      0|                                let expr0_0: Type = I32;
 8080|      0|                                let expr1_0: Type = I32;
 8081|      0|                                let expr2_0 = ExtendKind::Sign;
 8082|      0|                                let expr3_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr1_0, &expr2_0)?;
 8083|      0|                                let expr4_0 = C::gpr_to_gpr_mem(ctx, expr3_0);
 8084|      0|                                let expr5_0 = constructor_x64_cvtsi2ss(ctx, expr0_0, &expr4_0)?;
 8085|      0|                                let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8086|      0|                                return Some(expr6_0);
 8087|      0|                            }
 8088|      0|                            if pattern7_0 == I16 {
 8089|       |                                // Rule at src/isa/x64/lower.isle line 2947.
 8090|      0|                                let expr0_0: Type = I32;
 8091|      0|                                let expr1_0: Type = I32;
 8092|      0|                                let expr2_0 = ExtendKind::Sign;
 8093|      0|                                let expr3_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr1_0, &expr2_0)?;
 8094|      0|                                let expr4_0 = C::gpr_to_gpr_mem(ctx, expr3_0);
 8095|      0|                                let expr5_0 = constructor_x64_cvtsi2ss(ctx, expr0_0, &expr4_0)?;
 8096|      0|                                let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8097|      0|                                return Some(expr6_0);
 8098|      0|                            }
 8099|      0|                            if let Some(pattern8_0) = C::ty_int(ctx, pattern7_0) {
 8100|      0|                                if let Some(pattern9_0) = C::fits_in_64(ctx, pattern8_0) {
 8101|       |                                    // Rule at src/isa/x64/lower.isle line 2950.
 8102|      0|                                    let expr0_0 = constructor_put_in_gpr_mem(ctx, pattern5_1)?;
 8103|      0|                                    let expr1_0 = constructor_x64_cvtsi2ss(ctx, pattern9_0, &expr0_0)?;
 8104|      0|                                    let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 8105|      0|                                    return Some(expr2_0);
 8106|      0|                                }
 8107|      0|                            }
 8108|       |                        }
 8109|      0|                        _ => {}
 8110|       |                    }
 8111|       |                }
 8112|      0|                &InstructionData::Load { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2, offset: pattern5_3 } => {
 8113|      0|                    if let &Opcode::Load  = pattern5_0 {
 8114|       |                        // Rule at src/isa/x64/lower.isle line 2526.
 8115|      0|                        let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
 8116|      0|                        let expr1_0 = constructor_amode_to_xmm_mem(ctx, &expr0_0)?;
 8117|      0|                        let expr2_0 = constructor_x64_movss_load(ctx, &expr1_0)?;
 8118|      0|                        let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8119|      0|                        return Some(expr3_0);
 8120|      0|                    }
 8121|       |                }
 8122|      0|                &InstructionData::BinaryImm8 { opcode: ref pattern5_0, arg: pattern5_1, imm: pattern5_2 } => {
 8123|      0|                    if let &Opcode::Extractlane  = pattern5_0 {
 8124|      0|                        let pattern7_0 = C::value_type(ctx, pattern5_1);
 8125|      0|                        if let Some(pattern8_0) = C::ty_vec128(ctx, pattern7_0) {
 8126|      0|                            let pattern9_0 = C::u8_from_uimm8(ctx, pattern5_2);
 8127|      0|                            // Rule at src/isa/x64/lower.isle line 3553.
 8128|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 8129|      0|                            let expr1_0 = OperandSize::Size32;
 8130|      0|                            let expr2_0 = constructor_x64_pshufd(ctx, &expr0_0, pattern9_0, &expr1_0)?;
 8131|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8132|      0|                            return Some(expr3_0);
 8133|      0|                        }
 8134|      0|                    }
 8135|       |                }
 8136|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 8137|      0|                    match pattern5_0 {
 8138|       |                        &Opcode::Fadd  => {
 8139|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8140|       |                            // Rule at src/isa/x64/lower.isle line 2218.
 8141|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8142|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8143|      0|                            let expr2_0 = constructor_x64_addss(ctx, expr0_0, &expr1_0)?;
 8144|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8145|      0|                            return Some(expr3_0);
 8146|       |                        }
 8147|       |                        &Opcode::Fsub  => {
 8148|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8149|       |                            // Rule at src/isa/x64/lower.isle line 2229.
 8150|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8151|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8152|      0|                            let expr2_0 = constructor_x64_subss(ctx, expr0_0, &expr1_0)?;
 8153|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8154|      0|                            return Some(expr3_0);
 8155|       |                        }
 8156|       |                        &Opcode::Fmul  => {
 8157|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8158|       |                            // Rule at src/isa/x64/lower.isle line 2240.
 8159|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8160|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8161|      0|                            let expr2_0 = constructor_x64_mulss(ctx, expr0_0, &expr1_0)?;
 8162|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8163|      0|                            return Some(expr3_0);
 8164|       |                        }
 8165|       |                        &Opcode::Fdiv  => {
 8166|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8167|       |                            // Rule at src/isa/x64/lower.isle line 2251.
 8168|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8169|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8170|      0|                            let expr2_0 = constructor_x64_divss(ctx, expr0_0, &expr1_0)?;
 8171|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8172|      0|                            return Some(expr3_0);
 8173|       |                        }
 8174|       |                        &Opcode::Fcopysign  => {
 8175|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8176|      0|                            let pattern8_0 = C::value_type(ctx, pattern7_0);
 8177|      0|                            if pattern8_0 == F32 {
 8178|       |                                // Rule at src/isa/x64/lower.isle line 3321.
 8179|      0|                                let expr0_0: Type = F32;
 8180|      0|                                let expr1_0: u64 = 2147483648i128 as u64;
 8181|      0|                                let expr2_0 = constructor_imm(ctx, expr0_0, expr1_0)?;
 8182|      0|                                let expr3_0 = C::xmm_new(ctx, expr2_0);
 8183|      0|                                let expr4_0 = C::put_in_xmm_mem(ctx, pattern7_0);
 8184|      0|                                let expr5_0 = constructor_x64_andnps(ctx, expr3_0, &expr4_0)?;
 8185|      0|                                let expr6_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8186|      0|                                let expr7_0 = constructor_x64_andps(ctx, expr3_0, &expr6_0)?;
 8187|      0|                                let expr8_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
 8188|      0|                                let expr9_0 = constructor_x64_orps(ctx, expr5_0, &expr8_0)?;
 8189|      0|                                let expr10_0 = constructor_output_xmm(ctx, expr9_0)?;
 8190|      0|                                return Some(expr10_0);
 8191|      0|                            }
 8192|       |                        }
 8193|       |                        &Opcode::Fmin  => {
 8194|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8195|      0|                            // Rule at src/isa/x64/lower.isle line 2288.
 8196|      0|                            let expr0_0: Type = F32;
 8197|      0|                            let expr1_0: bool = true;
 8198|      0|                            let expr2_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8199|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 8200|      0|                            let expr4_0 = constructor_xmm_min_max_seq(ctx, expr0_0, expr1_0, expr2_0, expr3_0)?;
 8201|      0|                            let expr5_0 = constructor_output_xmm(ctx, expr4_0)?;
 8202|      0|                            return Some(expr5_0);
 8203|       |                        }
 8204|       |                        &Opcode::FminPseudo  => {
 8205|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8206|       |                            // Rule at src/isa/x64/lower.isle line 2457.
 8207|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 8208|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8209|      0|                            let expr2_0 = constructor_x64_minss(ctx, expr0_0, expr1_0)?;
 8210|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8211|      0|                            return Some(expr3_0);
 8212|       |                        }
 8213|       |                        &Opcode::Fmax  => {
 8214|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8215|      0|                            // Rule at src/isa/x64/lower.isle line 2360.
 8216|      0|                            let expr0_0: Type = F32;
 8217|      0|                            let expr1_0: bool = false;
 8218|      0|                            let expr2_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8219|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 8220|      0|                            let expr4_0 = constructor_xmm_min_max_seq(ctx, expr0_0, expr1_0, expr2_0, expr3_0)?;
 8221|      0|                            let expr5_0 = constructor_output_xmm(ctx, expr4_0)?;
 8222|      0|                            return Some(expr5_0);
 8223|       |                        }
 8224|       |                        &Opcode::FmaxPseudo  => {
 8225|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8226|       |                            // Rule at src/isa/x64/lower.isle line 2468.
 8227|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 8228|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8229|      0|                            let expr2_0 = constructor_x64_maxss(ctx, expr0_0, expr1_0)?;
 8230|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8231|      0|                            return Some(expr3_0);
 8232|       |                        }
 8233|      0|                        _ => {}
 8234|       |                    }
 8235|       |                }
 8236|      0|                &InstructionData::Ternary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 8237|      0|                    if let &Opcode::Fma  = pattern5_0 {
 8238|      0|                        let (pattern7_0, pattern7_1, pattern7_2) = C::unpack_value_array_3(ctx, pattern5_1);
 8239|      0|                        // Rule at src/isa/x64/lower.isle line 2479.
 8240|      0|                        let expr0_0 = LibCall::FmaF32;
 8241|      0|                        let expr1_0 = C::put_in_reg(ctx, pattern7_0);
 8242|      0|                        let expr2_0 = C::put_in_reg(ctx, pattern7_1);
 8243|      0|                        let expr3_0 = C::put_in_reg(ctx, pattern7_2);
 8244|      0|                        let expr4_0 = C::libcall_3(ctx, &expr0_0, expr1_0, expr2_0, expr3_0);
 8245|      0|                        let expr5_0 = constructor_output_reg(ctx, expr4_0)?;
 8246|      0|                        return Some(expr5_0);
 8247|      0|                    }
 8248|       |                }
 8249|      0|                _ => {}
 8250|       |            }
 8251|      8|        }
 8252|      8|        if pattern2_0 == F64 {
 8253|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 8254|      0|            match &pattern4_0 {
 8255|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 8256|      0|                    match pattern5_0 {
 8257|       |                        &Opcode::Sqrt  => {
 8258|       |                            // Rule at src/isa/x64/lower.isle line 2263.
 8259|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8260|      0|                            let expr1_0 = constructor_x64_sqrtsd(ctx, expr0_0)?;
 8261|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 8262|      0|                            return Some(expr2_0);
 8263|       |                        }
 8264|       |                        &Opcode::Fneg  => {
 8265|       |                            // Rule at src/isa/x64/lower.isle line 1210.
 8266|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8267|      0|                            let expr1_0: Type = F64;
 8268|      0|                            let expr2_0: u64 = 9223372036854775808i128 as u64;
 8269|      0|                            let expr3_0 = constructor_imm(ctx, expr1_0, expr2_0)?;
 8270|      0|                            let expr4_0 = constructor_reg_to_xmm_mem(ctx, expr3_0)?;
 8271|      0|                            let expr5_0 = constructor_x64_xorpd(ctx, expr0_0, &expr4_0)?;
 8272|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8273|      0|                            return Some(expr6_0);
 8274|       |                        }
 8275|       |                        &Opcode::Fabs  => {
 8276|       |                            // Rule at src/isa/x64/lower.isle line 1190.
 8277|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8278|      0|                            let expr1_0: Type = F64;
 8279|      0|                            let expr2_0: u64 = 9223372036854775807i128 as u64;
 8280|      0|                            let expr3_0 = constructor_imm(ctx, expr1_0, expr2_0)?;
 8281|      0|                            let expr4_0 = constructor_reg_to_xmm_mem(ctx, expr3_0)?;
 8282|      0|                            let expr5_0 = constructor_x64_andpd(ctx, expr0_0, &expr4_0)?;
 8283|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8284|      0|                            return Some(expr6_0);
 8285|       |                        }
 8286|       |                        &Opcode::Bitcast  => {
 8287|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 8288|      0|                            if pattern7_0 == I64 {
 8289|       |                                // Rule at src/isa/x64/lower.isle line 3316.
 8290|      0|                                let expr0_0: Type = I64;
 8291|      0|                                let expr1_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
 8292|      0|                                let expr2_0 = constructor_bitcast_gpr_to_xmm(ctx, expr0_0, expr1_0)?;
 8293|      0|                                let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8294|      0|                                return Some(expr3_0);
 8295|      0|                            }
 8296|       |                        }
 8297|       |                        &Opcode::Fpromote  => {
 8298|       |                            // Rule at src/isa/x64/lower.isle line 2271.
 8299|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8300|      0|                            let expr1_0 = constructor_x64_cvtss2sd(ctx, expr0_0)?;
 8301|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 8302|      0|                            return Some(expr2_0);
 8303|       |                        }
 8304|       |                        &Opcode::FcvtFromUint  => {
 8305|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 8306|      0|                            if let Some(pattern8_0) = C::fits_in_32(ctx, pattern7_0) {
 8307|      0|                                if let Some(pattern9_0) = C::ty_int(ctx, pattern8_0) {
 8308|       |                                    // Rule at src/isa/x64/lower.isle line 2975.
 8309|      0|                                    let expr0_0: Type = I64;
 8310|      0|                                    let expr1_0: Type = I64;
 8311|      0|                                    let expr2_0 = ExtendKind::Zero;
 8312|      0|                                    let expr3_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr1_0, &expr2_0)?;
 8313|      0|                                    let expr4_0 = C::gpr_to_gpr_mem(ctx, expr3_0);
 8314|      0|                                    let expr5_0 = constructor_x64_cvtsi2sd(ctx, expr0_0, &expr4_0)?;
 8315|      0|                                    let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8316|      0|                                    return Some(expr6_0);
 8317|      0|                                }
 8318|      0|                            }
 8319|       |                        }
 8320|       |                        &Opcode::FcvtFromSint  => {
 8321|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 8322|      0|                            if pattern7_0 == I8 {
 8323|       |                                // Rule at src/isa/x64/lower.isle line 2953.
 8324|      0|                                let expr0_0: Type = I32;
 8325|      0|                                let expr1_0: Type = I32;
 8326|      0|                                let expr2_0 = ExtendKind::Sign;
 8327|      0|                                let expr3_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr1_0, &expr2_0)?;
 8328|      0|                                let expr4_0 = C::gpr_to_gpr_mem(ctx, expr3_0);
 8329|      0|                                let expr5_0 = constructor_x64_cvtsi2sd(ctx, expr0_0, &expr4_0)?;
 8330|      0|                                let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8331|      0|                                return Some(expr6_0);
 8332|      0|                            }
 8333|      0|                            if pattern7_0 == I16 {
 8334|       |                                // Rule at src/isa/x64/lower.isle line 2956.
 8335|      0|                                let expr0_0: Type = I32;
 8336|      0|                                let expr1_0: Type = I32;
 8337|      0|                                let expr2_0 = ExtendKind::Sign;
 8338|      0|                                let expr3_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr1_0, &expr2_0)?;
 8339|      0|                                let expr4_0 = C::gpr_to_gpr_mem(ctx, expr3_0);
 8340|      0|                                let expr5_0 = constructor_x64_cvtsi2sd(ctx, expr0_0, &expr4_0)?;
 8341|      0|                                let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8342|      0|                                return Some(expr6_0);
 8343|      0|                            }
 8344|      0|                            if let Some(pattern8_0) = C::ty_int(ctx, pattern7_0) {
 8345|      0|                                if let Some(pattern9_0) = C::fits_in_64(ctx, pattern8_0) {
 8346|       |                                    // Rule at src/isa/x64/lower.isle line 2959.
 8347|      0|                                    let expr0_0 = constructor_put_in_gpr_mem(ctx, pattern5_1)?;
 8348|      0|                                    let expr1_0 = constructor_x64_cvtsi2sd(ctx, pattern9_0, &expr0_0)?;
 8349|      0|                                    let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 8350|      0|                                    return Some(expr2_0);
 8351|      0|                                }
 8352|      0|                            }
 8353|       |                        }
 8354|      0|                        _ => {}
 8355|       |                    }
 8356|       |                }
 8357|      0|                &InstructionData::Load { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2, offset: pattern5_3 } => {
 8358|      0|                    if let &Opcode::Load  = pattern5_0 {
 8359|       |                        // Rule at src/isa/x64/lower.isle line 2528.
 8360|      0|                        let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
 8361|      0|                        let expr1_0 = constructor_amode_to_xmm_mem(ctx, &expr0_0)?;
 8362|      0|                        let expr2_0 = constructor_x64_movsd_load(ctx, &expr1_0)?;
 8363|      0|                        let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8364|      0|                        return Some(expr3_0);
 8365|      0|                    }
 8366|       |                }
 8367|      0|                &InstructionData::BinaryImm8 { opcode: ref pattern5_0, arg: pattern5_1, imm: pattern5_2 } => {
 8368|      0|                    if let &Opcode::Extractlane  = pattern5_0 {
 8369|      0|                        let pattern7_0 = C::value_type(ctx, pattern5_1);
 8370|      0|                        if let Some(pattern8_0) = C::ty_vec128(ctx, pattern7_0) {
 8371|      0|                            let pattern9_0 = C::u8_from_uimm8(ctx, pattern5_2);
 8372|      0|                            if pattern9_0 == 1i128 as u8  {
 8373|       |                                // Rule at src/isa/x64/lower.isle line 3558.
 8374|      0|                                let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 8375|      0|                                let expr1_0: u8 = 238i128 as u8;
 8376|      0|                                let expr2_0 = OperandSize::Size32;
 8377|      0|                                let expr3_0 = constructor_x64_pshufd(ctx, &expr0_0, expr1_0, &expr2_0)?;
 8378|      0|                                let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
 8379|      0|                                return Some(expr4_0);
 8380|      0|                            }
 8381|      0|                        }
 8382|      0|                    }
 8383|       |                }
 8384|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 8385|      0|                    match pattern5_0 {
 8386|       |                        &Opcode::Fadd  => {
 8387|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8388|       |                            // Rule at src/isa/x64/lower.isle line 2220.
 8389|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8390|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8391|      0|                            let expr2_0 = constructor_x64_addsd(ctx, expr0_0, &expr1_0)?;
 8392|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8393|      0|                            return Some(expr3_0);
 8394|       |                        }
 8395|       |                        &Opcode::Fsub  => {
 8396|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8397|       |                            // Rule at src/isa/x64/lower.isle line 2231.
 8398|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8399|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8400|      0|                            let expr2_0 = constructor_x64_subsd(ctx, expr0_0, &expr1_0)?;
 8401|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8402|      0|                            return Some(expr3_0);
 8403|       |                        }
 8404|       |                        &Opcode::Fmul  => {
 8405|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8406|       |                            // Rule at src/isa/x64/lower.isle line 2242.
 8407|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8408|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8409|      0|                            let expr2_0 = constructor_x64_mulsd(ctx, expr0_0, &expr1_0)?;
 8410|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8411|      0|                            return Some(expr3_0);
 8412|       |                        }
 8413|       |                        &Opcode::Fdiv  => {
 8414|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8415|       |                            // Rule at src/isa/x64/lower.isle line 2253.
 8416|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8417|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8418|      0|                            let expr2_0 = constructor_x64_divsd(ctx, expr0_0, &expr1_0)?;
 8419|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8420|      0|                            return Some(expr3_0);
 8421|       |                        }
 8422|       |                        &Opcode::Fcopysign  => {
 8423|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8424|      0|                            let pattern8_0 = C::value_type(ctx, pattern7_0);
 8425|      0|                            if pattern8_0 == F64 {
 8426|       |                                // Rule at src/isa/x64/lower.isle line 3327.
 8427|      0|                                let expr0_0: Type = F64;
 8428|      0|                                let expr1_0: u64 = 9223372036854775808i128 as u64;
 8429|      0|                                let expr2_0 = constructor_imm(ctx, expr0_0, expr1_0)?;
 8430|      0|                                let expr3_0 = C::xmm_new(ctx, expr2_0);
 8431|      0|                                let expr4_0 = C::put_in_xmm_mem(ctx, pattern7_0);
 8432|      0|                                let expr5_0 = constructor_x64_andnpd(ctx, expr3_0, &expr4_0)?;
 8433|      0|                                let expr6_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8434|      0|                                let expr7_0 = constructor_x64_andpd(ctx, expr3_0, &expr6_0)?;
 8435|      0|                                let expr8_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
 8436|      0|                                let expr9_0 = constructor_x64_orpd(ctx, expr5_0, &expr8_0)?;
 8437|      0|                                let expr10_0 = constructor_output_xmm(ctx, expr9_0)?;
 8438|      0|                                return Some(expr10_0);
 8439|      0|                            }
 8440|       |                        }
 8441|       |                        &Opcode::Fmin  => {
 8442|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8443|      0|                            // Rule at src/isa/x64/lower.isle line 2290.
 8444|      0|                            let expr0_0: Type = F64;
 8445|      0|                            let expr1_0: bool = true;
 8446|      0|                            let expr2_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8447|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 8448|      0|                            let expr4_0 = constructor_xmm_min_max_seq(ctx, expr0_0, expr1_0, expr2_0, expr3_0)?;
 8449|      0|                            let expr5_0 = constructor_output_xmm(ctx, expr4_0)?;
 8450|      0|                            return Some(expr5_0);
 8451|       |                        }
 8452|       |                        &Opcode::FminPseudo  => {
 8453|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8454|       |                            // Rule at src/isa/x64/lower.isle line 2459.
 8455|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 8456|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8457|      0|                            let expr2_0 = constructor_x64_minsd(ctx, expr0_0, expr1_0)?;
 8458|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8459|      0|                            return Some(expr3_0);
 8460|       |                        }
 8461|       |                        &Opcode::Fmax  => {
 8462|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8463|      0|                            // Rule at src/isa/x64/lower.isle line 2362.
 8464|      0|                            let expr0_0: Type = F64;
 8465|      0|                            let expr1_0: bool = false;
 8466|      0|                            let expr2_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8467|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 8468|      0|                            let expr4_0 = constructor_xmm_min_max_seq(ctx, expr0_0, expr1_0, expr2_0, expr3_0)?;
 8469|      0|                            let expr5_0 = constructor_output_xmm(ctx, expr4_0)?;
 8470|      0|                            return Some(expr5_0);
 8471|       |                        }
 8472|       |                        &Opcode::FmaxPseudo  => {
 8473|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8474|       |                            // Rule at src/isa/x64/lower.isle line 2470.
 8475|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 8476|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8477|      0|                            let expr2_0 = constructor_x64_maxsd(ctx, expr0_0, expr1_0)?;
 8478|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8479|      0|                            return Some(expr3_0);
 8480|       |                        }
 8481|      0|                        _ => {}
 8482|       |                    }
 8483|       |                }
 8484|      0|                &InstructionData::Ternary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 8485|      0|                    if let &Opcode::Fma  = pattern5_0 {
 8486|      0|                        let (pattern7_0, pattern7_1, pattern7_2) = C::unpack_value_array_3(ctx, pattern5_1);
 8487|      0|                        // Rule at src/isa/x64/lower.isle line 2481.
 8488|      0|                        let expr0_0 = LibCall::FmaF64;
 8489|      0|                        let expr1_0 = C::put_in_reg(ctx, pattern7_0);
 8490|      0|                        let expr2_0 = C::put_in_reg(ctx, pattern7_1);
 8491|      0|                        let expr3_0 = C::put_in_reg(ctx, pattern7_2);
 8492|      0|                        let expr4_0 = C::libcall_3(ctx, &expr0_0, expr1_0, expr2_0, expr3_0);
 8493|      0|                        let expr5_0 = constructor_output_reg(ctx, expr4_0)?;
 8494|      0|                        return Some(expr5_0);
 8495|      0|                    }
 8496|       |                }
 8497|      0|                _ => {}
 8498|       |            }
 8499|      8|        }
 8500|      8|        if pattern2_0 == I8X16 {
 8501|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 8502|      0|            match &pattern4_0 {
 8503|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 8504|      0|                    match pattern5_0 {
 8505|       |                        &Opcode::Ineg  => {
 8506|       |                            // Rule at src/isa/x64/lower.isle line 839.
 8507|      0|                            let expr0_0: Type = I8X16;
 8508|      0|                            let expr1_0: u64 = 0i128 as u64;
 8509|      0|                            let expr2_0 = constructor_imm(ctx, expr0_0, expr1_0)?;
 8510|      0|                            let expr3_0 = C::xmm_new(ctx, expr2_0);
 8511|      0|                            let expr4_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 8512|      0|                            let expr5_0 = constructor_x64_psubb(ctx, expr3_0, &expr4_0)?;
 8513|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8514|      0|                            return Some(expr6_0);
 8515|       |                        }
 8516|       |                        &Opcode::Iabs  => {
 8517|       |                            // Rule at src/isa/x64/lower.isle line 1160.
 8518|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 8519|      0|                            let expr1_0 = constructor_x64_pabsb(ctx, &expr0_0)?;
 8520|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 8521|      0|                            return Some(expr2_0);
 8522|       |                        }
 8523|       |                        &Opcode::Popcnt  => {
 8524|       |                            // Rule at src/isa/x64/lower.isle line 1951.
 8525|      0|                            let expr0_0 = C::popcount_4bit_table(ctx, );
 8526|      0|                            let expr1_0: Type = I8X16;
 8527|      0|                            let expr2_0 = C::popcount_low_mask(ctx, );
 8528|      0|                            let expr3_0 = constructor_x64_xmm_load_const(ctx, expr1_0, expr2_0)?;
 8529|      0|                            let expr4_0: Type = I8X16;
 8530|      0|                            let expr5_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8531|      0|                            let expr6_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
 8532|      0|                            let expr7_0 = constructor_sse_and(ctx, expr4_0, expr5_0, &expr6_0)?;
 8533|      0|                            let expr8_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8534|      0|                            let expr9_0: u32 = 4i128 as u32;
 8535|      0|                            let expr10_0 = RegMemImm::Imm {
 8536|      0|                                simm32: expr9_0,
 8537|      0|                            };
 8538|      0|                            let expr11_0 = constructor_mov_rmi_to_xmm(ctx, &expr10_0)?;
 8539|      0|                            let expr12_0 = constructor_x64_psrlw(ctx, expr8_0, &expr11_0)?;
 8540|      0|                            let expr13_0: Type = I8X16;
 8541|      0|                            let expr14_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
 8542|      0|                            let expr15_0 = constructor_sse_and(ctx, expr13_0, expr12_0, &expr14_0)?;
 8543|      0|                            let expr16_0: Type = I8X16;
 8544|      0|                            let expr17_0 = C::popcount_4bit_table(ctx, );
 8545|      0|                            let expr18_0 = constructor_x64_xmm_load_const(ctx, expr16_0, expr17_0)?;
 8546|      0|                            let expr19_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
 8547|      0|                            let expr20_0 = constructor_x64_pshufb(ctx, expr18_0, &expr19_0)?;
 8548|      0|                            let expr21_0 = C::xmm_to_xmm_mem(ctx, expr15_0);
 8549|      0|                            let expr22_0 = constructor_x64_pshufb(ctx, expr18_0, &expr21_0)?;
 8550|      0|                            let expr23_0 = C::xmm_to_xmm_mem(ctx, expr22_0);
 8551|      0|                            let expr24_0 = constructor_x64_paddb(ctx, expr20_0, &expr23_0)?;
 8552|      0|                            let expr25_0 = constructor_output_xmm(ctx, expr24_0)?;
 8553|      0|                            return Some(expr25_0);
 8554|       |                        }
 8555|      0|                        _ => {}
 8556|       |                    }
 8557|       |                }
 8558|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 8559|      0|                    match pattern5_0 {
 8560|       |                        &Opcode::Imin  => {
 8561|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8562|       |                            // Rule at src/isa/x64/lower.isle line 1379.
 8563|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8564|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8565|      0|                            let expr2_0 = constructor_x64_pminsb(ctx, expr0_0, &expr1_0)?;
 8566|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8567|      0|                            return Some(expr3_0);
 8568|       |                        }
 8569|       |                        &Opcode::Umin  => {
 8570|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8571|       |                            // Rule at src/isa/x64/lower.isle line 1401.
 8572|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8573|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8574|      0|                            let expr2_0 = constructor_x64_pminub(ctx, expr0_0, &expr1_0)?;
 8575|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8576|      0|                            return Some(expr3_0);
 8577|       |                        }
 8578|       |                        &Opcode::Imax  => {
 8579|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8580|       |                            // Rule at src/isa/x64/lower.isle line 1368.
 8581|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8582|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8583|      0|                            let expr2_0 = constructor_x64_pmaxsb(ctx, expr0_0, &expr1_0)?;
 8584|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8585|      0|                            return Some(expr3_0);
 8586|       |                        }
 8587|       |                        &Opcode::Umax  => {
 8588|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8589|       |                            // Rule at src/isa/x64/lower.isle line 1390.
 8590|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8591|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8592|      0|                            let expr2_0 = constructor_x64_pmaxub(ctx, expr0_0, &expr1_0)?;
 8593|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8594|      0|                            return Some(expr3_0);
 8595|       |                        }
 8596|       |                        &Opcode::Ishl  => {
 8597|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8598|      0|                            // Rule at src/isa/x64/lower.isle line 508.
 8599|      0|                            let expr0_0: Type = I64;
 8600|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 8601|      0|                            let expr2_0 = C::shift_mask(ctx, pattern2_0);
 8602|      0|                            let expr3_0 = RegMemImm::Imm {
 8603|      0|                                simm32: expr2_0,
 8604|      0|                            };
 8605|      0|                            let expr4_0 = C::gpr_mem_imm_new(ctx, &expr3_0);
 8606|      0|                            let expr5_0 = constructor_x64_and(ctx, expr0_0, expr1_0, &expr4_0)?;
 8607|      0|                            let expr6_0 = C::gpr_to_reg(ctx, expr5_0);
 8608|      0|                            let expr7_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8609|      0|                            let expr8_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 8610|      0|                            let expr9_0 = constructor_mov_rmi_to_xmm(ctx, &expr8_0)?;
 8611|      0|                            let expr10_0 = constructor_x64_psllw(ctx, expr7_0, &expr9_0)?;
 8612|      0|                            let expr11_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 8613|      0|                            let expr12_0 = constructor_ishl_i8x16_mask(ctx, &expr11_0)?;
 8614|      0|                            let expr13_0: Type = I8X16;
 8615|      0|                            let expr14_0 = ExtKind::None;
 8616|      0|                            let expr15_0 = constructor_x64_load(ctx, expr13_0, &expr12_0, &expr14_0)?;
 8617|      0|                            let expr16_0: Type = I8X16;
 8618|      0|                            let expr17_0 = RegMem::Reg {
 8619|      0|                                reg: expr15_0,
 8620|      0|                            };
 8621|      0|                            let expr18_0 = C::reg_mem_to_xmm_mem(ctx, &expr17_0);
 8622|      0|                            let expr19_0 = constructor_sse_and(ctx, expr16_0, expr10_0, &expr18_0)?;
 8623|      0|                            let expr20_0 = constructor_output_xmm(ctx, expr19_0)?;
 8624|      0|                            return Some(expr20_0);
 8625|       |                        }
 8626|       |                        &Opcode::Ushr  => {
 8627|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8628|      0|                            // Rule at src/isa/x64/lower.isle line 612.
 8629|      0|                            let expr0_0: Type = I64;
 8630|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 8631|      0|                            let expr2_0 = C::shift_mask(ctx, pattern2_0);
 8632|      0|                            let expr3_0 = RegMemImm::Imm {
 8633|      0|                                simm32: expr2_0,
 8634|      0|                            };
 8635|      0|                            let expr4_0 = C::gpr_mem_imm_new(ctx, &expr3_0);
 8636|      0|                            let expr5_0 = constructor_x64_and(ctx, expr0_0, expr1_0, &expr4_0)?;
 8637|      0|                            let expr6_0 = C::gpr_to_reg(ctx, expr5_0);
 8638|      0|                            let expr7_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8639|      0|                            let expr8_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 8640|      0|                            let expr9_0 = constructor_mov_rmi_to_xmm(ctx, &expr8_0)?;
 8641|      0|                            let expr10_0 = constructor_x64_psrlw(ctx, expr7_0, &expr9_0)?;
 8642|      0|                            let expr11_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 8643|      0|                            let expr12_0 = constructor_ushr_i8x16_mask(ctx, &expr11_0)?;
 8644|      0|                            let expr13_0: Type = I8X16;
 8645|      0|                            let expr14_0 = ExtKind::None;
 8646|      0|                            let expr15_0 = constructor_x64_load(ctx, expr13_0, &expr12_0, &expr14_0)?;
 8647|      0|                            let expr16_0: Type = I8X16;
 8648|      0|                            let expr17_0 = RegMem::Reg {
 8649|      0|                                reg: expr15_0,
 8650|      0|                            };
 8651|      0|                            let expr18_0 = C::reg_mem_to_xmm_mem(ctx, &expr17_0);
 8652|      0|                            let expr19_0 = constructor_sse_and(ctx, expr16_0, expr10_0, &expr18_0)?;
 8653|      0|                            let expr20_0 = constructor_output_xmm(ctx, expr19_0)?;
 8654|      0|                            return Some(expr20_0);
 8655|       |                        }
 8656|       |                        &Opcode::Sshr  => {
 8657|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8658|      0|                            let pattern8_0 = C::value_type(ctx, pattern7_1);
 8659|       |                            // Rule at src/isa/x64/lower.isle line 733.
 8660|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8661|      0|                            let expr1_0: Type = I64;
 8662|      0|                            let expr2_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 8663|      0|                            let expr3_0 = C::shift_mask(ctx, pattern2_0);
 8664|      0|                            let expr4_0 = RegMemImm::Imm {
 8665|      0|                                simm32: expr3_0,
 8666|      0|                            };
 8667|      0|                            let expr5_0 = C::gpr_mem_imm_new(ctx, &expr4_0);
 8668|      0|                            let expr6_0 = constructor_x64_and(ctx, expr1_0, expr2_0, &expr5_0)?;
 8669|      0|                            let expr7_0 = C::gpr_to_reg(ctx, expr6_0);
 8670|      0|                            let expr8_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
 8671|      0|                            let expr9_0 = constructor_x64_punpcklbw(ctx, expr0_0, &expr8_0)?;
 8672|      0|                            let expr10_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
 8673|      0|                            let expr11_0 = constructor_x64_punpckhbw(ctx, expr0_0, &expr10_0)?;
 8674|      0|                            let expr12_0 = C::reg_to_reg_mem_imm(ctx, expr7_0);
 8675|      0|                            let expr13_0 = constructor_sshr_i8x16_bigger_shift(ctx, pattern8_0, &expr12_0)?;
 8676|      0|                            let expr14_0 = constructor_x64_psraw(ctx, expr9_0, &expr13_0)?;
 8677|      0|                            let expr15_0 = constructor_x64_psraw(ctx, expr11_0, &expr13_0)?;
 8678|      0|                            let expr16_0 = C::xmm_to_xmm_mem(ctx, expr15_0);
 8679|      0|                            let expr17_0 = constructor_x64_packsswb(ctx, expr14_0, &expr16_0)?;
 8680|      0|                            let expr18_0 = constructor_output_xmm(ctx, expr17_0)?;
 8681|      0|                            return Some(expr18_0);
 8682|       |                        }
 8683|       |                        &Opcode::Snarrow  => {
 8684|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8685|      0|                            let pattern8_0 = C::value_type(ctx, pattern7_0);
 8686|      0|                            if pattern8_0 == I16X8 {
 8687|       |                                // Rule at src/isa/x64/lower.isle line 3262.
 8688|      0|                                let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8689|      0|                                let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8690|      0|                                let expr2_0 = constructor_x64_packsswb(ctx, expr0_0, &expr1_0)?;
 8691|      0|                                let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8692|      0|                                return Some(expr3_0);
 8693|      0|                            }
 8694|       |                        }
 8695|       |                        &Opcode::Unarrow  => {
 8696|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8697|      0|                            let pattern8_0 = C::value_type(ctx, pattern7_0);
 8698|      0|                            if pattern8_0 == I16X8 {
 8699|       |                                // Rule at src/isa/x64/lower.isle line 3296.
 8700|      0|                                let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8701|      0|                                let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8702|      0|                                let expr2_0 = constructor_x64_packuswb(ctx, expr0_0, &expr1_0)?;
 8703|      0|                                let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8704|      0|                                return Some(expr3_0);
 8705|      0|                            }
 8706|       |                        }
 8707|      0|                        _ => {}
 8708|       |                    }
 8709|       |                }
 8710|      0|                _ => {}
 8711|       |            }
 8712|      8|        }
 8713|      8|        if pattern2_0 == I16X8 {
 8714|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 8715|      0|            match &pattern4_0 {
 8716|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 8717|      0|                    match pattern5_0 {
 8718|       |                        &Opcode::Ineg  => {
 8719|       |                            // Rule at src/isa/x64/lower.isle line 842.
 8720|      0|                            let expr0_0: Type = I16X8;
 8721|      0|                            let expr1_0: u64 = 0i128 as u64;
 8722|      0|                            let expr2_0 = constructor_imm(ctx, expr0_0, expr1_0)?;
 8723|      0|                            let expr3_0 = C::xmm_new(ctx, expr2_0);
 8724|      0|                            let expr4_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 8725|      0|                            let expr5_0 = constructor_x64_psubw(ctx, expr3_0, &expr4_0)?;
 8726|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8727|      0|                            return Some(expr6_0);
 8728|       |                        }
 8729|       |                        &Opcode::Iabs  => {
 8730|       |                            // Rule at src/isa/x64/lower.isle line 1163.
 8731|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 8732|      0|                            let expr1_0 = constructor_x64_pabsw(ctx, &expr0_0)?;
 8733|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 8734|      0|                            return Some(expr2_0);
 8735|       |                        }
 8736|       |                        &Opcode::SwidenLow  => {
 8737|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 8738|      0|                            if pattern7_0 == I8X16 {
 8739|       |                                // Rule at src/isa/x64/lower.isle line 3214.
 8740|      0|                                let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 8741|      0|                                let expr1_0 = constructor_x64_pmovsxbw(ctx, &expr0_0)?;
 8742|      0|                                let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 8743|      0|                                return Some(expr2_0);
 8744|      0|                            }
 8745|       |                        }
 8746|       |                        &Opcode::SwidenHigh  => {
 8747|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 8748|      0|                            if pattern7_0 == I8X16 {
 8749|       |                                // Rule at src/isa/x64/lower.isle line 3225.
 8750|      0|                                let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8751|      0|                                let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
 8752|      0|                                let expr2_0: u8 = 8i128 as u8;
 8753|      0|                                let expr3_0 = OperandSize::Size32;
 8754|      0|                                let expr4_0 = constructor_x64_palignr(ctx, expr0_0, &expr1_0, expr2_0, &expr3_0)?;
 8755|      0|                                let expr5_0 = C::xmm_to_xmm_mem(ctx, expr4_0);
 8756|      0|                                let expr6_0 = constructor_x64_pmovsxbw(ctx, &expr5_0)?;
 8757|      0|                                let expr7_0 = constructor_output_xmm(ctx, expr6_0)?;
 8758|      0|                                return Some(expr7_0);
 8759|      0|                            }
 8760|       |                        }
 8761|       |                        &Opcode::UwidenLow  => {
 8762|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 8763|      0|                            if pattern7_0 == I8X16 {
 8764|       |                                // Rule at src/isa/x64/lower.isle line 3238.
 8765|      0|                                let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 8766|      0|                                let expr1_0 = constructor_x64_pmovzxbw(ctx, &expr0_0)?;
 8767|      0|                                let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 8768|      0|                                return Some(expr2_0);
 8769|      0|                            }
 8770|       |                        }
 8771|       |                        &Opcode::UwidenHigh  => {
 8772|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 8773|      0|                            if pattern7_0 == I8X16 {
 8774|       |                                // Rule at src/isa/x64/lower.isle line 3249.
 8775|      0|                                let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 8776|      0|                                let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
 8777|      0|                                let expr2_0: u8 = 8i128 as u8;
 8778|      0|                                let expr3_0 = OperandSize::Size32;
 8779|      0|                                let expr4_0 = constructor_x64_palignr(ctx, expr0_0, &expr1_0, expr2_0, &expr3_0)?;
 8780|      0|                                let expr5_0 = C::xmm_to_xmm_mem(ctx, expr4_0);
 8781|      0|                                let expr6_0 = constructor_x64_pmovzxbw(ctx, &expr5_0)?;
 8782|      0|                                let expr7_0 = constructor_output_xmm(ctx, expr6_0)?;
 8783|      0|                                return Some(expr7_0);
 8784|      0|                            }
 8785|       |                        }
 8786|      0|                        _ => {}
 8787|       |                    }
 8788|       |                }
 8789|      0|                &InstructionData::Load { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2, offset: pattern5_3 } => {
 8790|      0|                    match pattern5_0 {
 8791|       |                        &Opcode::Uload8x8  => {
 8792|       |                            // Rule at src/isa/x64/lower.isle line 2550.
 8793|      0|                            let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
 8794|      0|                            let expr1_0 = constructor_amode_to_xmm_mem(ctx, &expr0_0)?;
 8795|      0|                            let expr2_0 = constructor_x64_pmovzxbw(ctx, &expr1_0)?;
 8796|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8797|      0|                            return Some(expr3_0);
 8798|       |                        }
 8799|       |                        &Opcode::Sload8x8  => {
 8800|       |                            // Rule at src/isa/x64/lower.isle line 2548.
 8801|      0|                            let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
 8802|      0|                            let expr1_0 = constructor_amode_to_xmm_mem(ctx, &expr0_0)?;
 8803|      0|                            let expr2_0 = constructor_x64_pmovsxbw(ctx, &expr1_0)?;
 8804|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8805|      0|                            return Some(expr3_0);
 8806|       |                        }
 8807|      0|                        _ => {}
 8808|       |                    }
 8809|       |                }
 8810|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 8811|      0|                    match pattern5_0 {
 8812|       |                        &Opcode::Imin  => {
 8813|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8814|       |                            // Rule at src/isa/x64/lower.isle line 1382.
 8815|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8816|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8817|      0|                            let expr2_0 = constructor_x64_pminsw(ctx, expr0_0, &expr1_0)?;
 8818|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8819|      0|                            return Some(expr3_0);
 8820|       |                        }
 8821|       |                        &Opcode::Umin  => {
 8822|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8823|       |                            // Rule at src/isa/x64/lower.isle line 1404.
 8824|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8825|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8826|      0|                            let expr2_0 = constructor_x64_pminuw(ctx, expr0_0, &expr1_0)?;
 8827|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8828|      0|                            return Some(expr3_0);
 8829|       |                        }
 8830|       |                        &Opcode::Imax  => {
 8831|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8832|       |                            // Rule at src/isa/x64/lower.isle line 1371.
 8833|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8834|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8835|      0|                            let expr2_0 = constructor_x64_pmaxsw(ctx, expr0_0, &expr1_0)?;
 8836|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8837|      0|                            return Some(expr3_0);
 8838|       |                        }
 8839|       |                        &Opcode::Umax  => {
 8840|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8841|       |                            // Rule at src/isa/x64/lower.isle line 1393.
 8842|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8843|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8844|      0|                            let expr2_0 = constructor_x64_pmaxuw(ctx, expr0_0, &expr1_0)?;
 8845|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8846|      0|                            return Some(expr3_0);
 8847|       |                        }
 8848|       |                        &Opcode::Ishl  => {
 8849|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8850|      0|                            // Rule at src/isa/x64/lower.isle line 552.
 8851|      0|                            let expr0_0: Type = I64;
 8852|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 8853|      0|                            let expr2_0 = C::shift_mask(ctx, pattern2_0);
 8854|      0|                            let expr3_0 = RegMemImm::Imm {
 8855|      0|                                simm32: expr2_0,
 8856|      0|                            };
 8857|      0|                            let expr4_0 = C::gpr_mem_imm_new(ctx, &expr3_0);
 8858|      0|                            let expr5_0 = constructor_x64_and(ctx, expr0_0, expr1_0, &expr4_0)?;
 8859|      0|                            let expr6_0 = C::gpr_to_reg(ctx, expr5_0);
 8860|      0|                            let expr7_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8861|      0|                            let expr8_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 8862|      0|                            let expr9_0 = constructor_mov_rmi_to_xmm(ctx, &expr8_0)?;
 8863|      0|                            let expr10_0 = constructor_x64_psllw(ctx, expr7_0, &expr9_0)?;
 8864|      0|                            let expr11_0 = constructor_output_xmm(ctx, expr10_0)?;
 8865|      0|                            return Some(expr11_0);
 8866|       |                        }
 8867|       |                        &Opcode::Ushr  => {
 8868|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8869|      0|                            // Rule at src/isa/x64/lower.isle line 659.
 8870|      0|                            let expr0_0: Type = I64;
 8871|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 8872|      0|                            let expr2_0 = C::shift_mask(ctx, pattern2_0);
 8873|      0|                            let expr3_0 = RegMemImm::Imm {
 8874|      0|                                simm32: expr2_0,
 8875|      0|                            };
 8876|      0|                            let expr4_0 = C::gpr_mem_imm_new(ctx, &expr3_0);
 8877|      0|                            let expr5_0 = constructor_x64_and(ctx, expr0_0, expr1_0, &expr4_0)?;
 8878|      0|                            let expr6_0 = C::gpr_to_reg(ctx, expr5_0);
 8879|      0|                            let expr7_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8880|      0|                            let expr8_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 8881|      0|                            let expr9_0 = constructor_mov_rmi_to_xmm(ctx, &expr8_0)?;
 8882|      0|                            let expr10_0 = constructor_x64_psrlw(ctx, expr7_0, &expr9_0)?;
 8883|      0|                            let expr11_0 = constructor_output_xmm(ctx, expr10_0)?;
 8884|      0|                            return Some(expr11_0);
 8885|       |                        }
 8886|       |                        &Opcode::Sshr  => {
 8887|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8888|      0|                            // Rule at src/isa/x64/lower.isle line 762.
 8889|      0|                            let expr0_0: Type = I64;
 8890|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 8891|      0|                            let expr2_0 = C::shift_mask(ctx, pattern2_0);
 8892|      0|                            let expr3_0 = RegMemImm::Imm {
 8893|      0|                                simm32: expr2_0,
 8894|      0|                            };
 8895|      0|                            let expr4_0 = C::gpr_mem_imm_new(ctx, &expr3_0);
 8896|      0|                            let expr5_0 = constructor_x64_and(ctx, expr0_0, expr1_0, &expr4_0)?;
 8897|      0|                            let expr6_0 = C::gpr_to_reg(ctx, expr5_0);
 8898|      0|                            let expr7_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8899|      0|                            let expr8_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 8900|      0|                            let expr9_0 = constructor_mov_rmi_to_xmm(ctx, &expr8_0)?;
 8901|      0|                            let expr10_0 = constructor_x64_psraw(ctx, expr7_0, &expr9_0)?;
 8902|      0|                            let expr11_0 = constructor_output_xmm(ctx, expr10_0)?;
 8903|      0|                            return Some(expr11_0);
 8904|       |                        }
 8905|       |                        &Opcode::Snarrow  => {
 8906|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8907|      0|                            let pattern8_0 = C::value_type(ctx, pattern7_0);
 8908|      0|                            if pattern8_0 == I32X4 {
 8909|       |                                // Rule at src/isa/x64/lower.isle line 3265.
 8910|      0|                                let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8911|      0|                                let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8912|      0|                                let expr2_0 = constructor_x64_packssdw(ctx, expr0_0, &expr1_0)?;
 8913|      0|                                let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8914|      0|                                return Some(expr3_0);
 8915|      0|                            }
 8916|       |                        }
 8917|       |                        &Opcode::Unarrow  => {
 8918|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8919|      0|                            let pattern8_0 = C::value_type(ctx, pattern7_0);
 8920|      0|                            if pattern8_0 == I32X4 {
 8921|       |                                // Rule at src/isa/x64/lower.isle line 3299.
 8922|      0|                                let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 8923|      0|                                let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 8924|      0|                                let expr2_0 = constructor_x64_packusdw(ctx, expr0_0, &expr1_0)?;
 8925|      0|                                let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 8926|      0|                                return Some(expr3_0);
 8927|      0|                            }
 8928|       |                        }
 8929|       |                        &Opcode::IaddPairwise  => {
 8930|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 8931|      0|                            if let Some(pattern8_0) = C::def_inst(ctx, pattern7_0) {
 8932|      0|                                let pattern9_0 = C::inst_data(ctx, pattern8_0);
 8933|      0|                                if let &InstructionData::Unary { opcode: ref pattern10_0, arg: pattern10_1 } = &pattern9_0 {
 8934|      0|                                    match pattern10_0 {
 8935|       |                                        &Opcode::SwidenLow  => {
 8936|      0|                                            let pattern12_0 = C::value_type(ctx, pattern10_1);
 8937|      0|                                            if pattern12_0 == I8X16 {
 8938|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern7_1) {
 8939|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
 8940|      0|                                                    if let &InstructionData::Unary { opcode: ref pattern16_0, arg: pattern16_1 } = &pattern15_0 {
 8941|      0|                                                        if let &Opcode::SwidenHigh  = pattern16_0 {
 8942|      0|                                                            if pattern16_1 == pattern10_1 {
 8943|       |                                                                // Rule at src/isa/x64/lower.isle line 3178.
 8944|      0|                                                                let expr0_0: Type = I8X16;
 8945|      0|                                                                let expr1_0 = C::iadd_pairwise_mul_const_16(ctx, );
 8946|      0|                                                                let expr2_0 = constructor_x64_xmm_load_const(ctx, expr0_0, expr1_0)?;
 8947|      0|                                                                let expr3_0 = C::put_in_xmm_mem(ctx, pattern10_1);
 8948|      0|                                                                let expr4_0 = constructor_x64_pmaddubsw(ctx, expr2_0, &expr3_0)?;
 8949|      0|                                                                let expr5_0 = constructor_output_xmm(ctx, expr4_0)?;
 8950|      0|                                                                return Some(expr5_0);
 8951|      0|                                                            }
 8952|      0|                                                        }
 8953|      0|                                                    }
 8954|      0|                                                }
 8955|      0|                                            }
 8956|       |                                        }
 8957|       |                                        &Opcode::UwidenLow  => {
 8958|      0|                                            let pattern12_0 = C::value_type(ctx, pattern10_1);
 8959|      0|                                            if pattern12_0 == I8X16 {
 8960|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern7_1) {
 8961|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
 8962|      0|                                                    if let &InstructionData::Unary { opcode: ref pattern16_0, arg: pattern16_1 } = &pattern15_0 {
 8963|      0|                                                        if let &Opcode::UwidenHigh  = pattern16_0 {
 8964|      0|                                                            if pattern16_1 == pattern10_1 {
 8965|       |                                                                // Rule at src/isa/x64/lower.isle line 3192.
 8966|      0|                                                                let expr0_0: Type = I8X16;
 8967|      0|                                                                let expr1_0 = C::iadd_pairwise_mul_const_16(ctx, );
 8968|      0|                                                                let expr2_0 = constructor_x64_xmm_load_const(ctx, expr0_0, expr1_0)?;
 8969|      0|                                                                let expr3_0 = constructor_put_in_xmm(ctx, pattern10_1)?;
 8970|      0|                                                                let expr4_0 = C::xmm_to_xmm_mem(ctx, expr2_0);
 8971|      0|                                                                let expr5_0 = constructor_x64_pmaddubsw(ctx, expr3_0, &expr4_0)?;
 8972|      0|                                                                let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 8973|      0|                                                                return Some(expr6_0);
 8974|      0|                                                            }
 8975|      0|                                                        }
 8976|      0|                                                    }
 8977|      0|                                                }
 8978|      0|                                            }
 8979|       |                                        }
 8980|      0|                                        _ => {}
 8981|       |                                    }
 8982|      0|                                }
 8983|      0|                            }
 8984|       |                        }
 8985|      0|                        _ => {}
 8986|       |                    }
 8987|       |                }
 8988|      0|                _ => {}
 8989|       |            }
 8990|      8|        }
 8991|      8|        if pattern2_0 == I32X4 {
 8992|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 8993|      0|            match &pattern4_0 {
 8994|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 8995|      0|                    match pattern5_0 {
 8996|       |                        &Opcode::Ineg  => {
 8997|       |                            // Rule at src/isa/x64/lower.isle line 845.
 8998|      0|                            let expr0_0: Type = I32X4;
 8999|      0|                            let expr1_0: u64 = 0i128 as u64;
 9000|      0|                            let expr2_0 = constructor_imm(ctx, expr0_0, expr1_0)?;
 9001|      0|                            let expr3_0 = C::xmm_new(ctx, expr2_0);
 9002|      0|                            let expr4_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 9003|      0|                            let expr5_0 = constructor_x64_psubd(ctx, expr3_0, &expr4_0)?;
 9004|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 9005|      0|                            return Some(expr6_0);
 9006|       |                        }
 9007|       |                        &Opcode::Iabs  => {
 9008|       |                            // Rule at src/isa/x64/lower.isle line 1166.
 9009|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 9010|      0|                            let expr1_0 = constructor_x64_pabsd(ctx, &expr0_0)?;
 9011|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 9012|      0|                            return Some(expr2_0);
 9013|       |                        }
 9014|       |                        &Opcode::SwidenLow  => {
 9015|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 9016|      0|                            if pattern7_0 == I16X8 {
 9017|       |                                // Rule at src/isa/x64/lower.isle line 3217.
 9018|      0|                                let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 9019|      0|                                let expr1_0 = constructor_x64_pmovsxwd(ctx, &expr0_0)?;
 9020|      0|                                let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 9021|      0|                                return Some(expr2_0);
 9022|      0|                            }
 9023|       |                        }
 9024|       |                        &Opcode::SwidenHigh  => {
 9025|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 9026|      0|                            if pattern7_0 == I16X8 {
 9027|       |                                // Rule at src/isa/x64/lower.isle line 3229.
 9028|      0|                                let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9029|      0|                                let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
 9030|      0|                                let expr2_0: u8 = 8i128 as u8;
 9031|      0|                                let expr3_0 = OperandSize::Size32;
 9032|      0|                                let expr4_0 = constructor_x64_palignr(ctx, expr0_0, &expr1_0, expr2_0, &expr3_0)?;
 9033|      0|                                let expr5_0 = C::xmm_to_xmm_mem(ctx, expr4_0);
 9034|      0|                                let expr6_0 = constructor_x64_pmovsxwd(ctx, &expr5_0)?;
 9035|      0|                                let expr7_0 = constructor_output_xmm(ctx, expr6_0)?;
 9036|      0|                                return Some(expr7_0);
 9037|      0|                            }
 9038|       |                        }
 9039|       |                        &Opcode::UwidenLow  => {
 9040|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 9041|      0|                            if pattern7_0 == I16X8 {
 9042|       |                                // Rule at src/isa/x64/lower.isle line 3241.
 9043|      0|                                let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 9044|      0|                                let expr1_0 = constructor_x64_pmovzxwd(ctx, &expr0_0)?;
 9045|      0|                                let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 9046|      0|                                return Some(expr2_0);
 9047|      0|                            }
 9048|       |                        }
 9049|       |                        &Opcode::UwidenHigh  => {
 9050|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 9051|      0|                            if pattern7_0 == I16X8 {
 9052|       |                                // Rule at src/isa/x64/lower.isle line 3253.
 9053|      0|                                let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9054|      0|                                let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
 9055|      0|                                let expr2_0: u8 = 8i128 as u8;
 9056|      0|                                let expr3_0 = OperandSize::Size32;
 9057|      0|                                let expr4_0 = constructor_x64_palignr(ctx, expr0_0, &expr1_0, expr2_0, &expr3_0)?;
 9058|      0|                                let expr5_0 = C::xmm_to_xmm_mem(ctx, expr4_0);
 9059|      0|                                let expr6_0 = constructor_x64_pmovzxwd(ctx, &expr5_0)?;
 9060|      0|                                let expr7_0 = constructor_output_xmm(ctx, expr6_0)?;
 9061|      0|                                return Some(expr7_0);
 9062|      0|                            }
 9063|       |                        }
 9064|       |                        &Opcode::FcvtToUintSat  => {
 9065|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 9066|      0|                            if pattern7_0 == F32X4 {
 9067|       |                                // Rule at src/isa/x64/lower.isle line 3131.
 9068|      0|                                let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9069|      0|                                let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
 9070|      0|                                let expr2_0 = constructor_x64_pxor(ctx, expr0_0, &expr1_0)?;
 9071|      0|                                let expr3_0 = constructor_x64_maxps(ctx, expr0_0, expr2_0)?;
 9072|      0|                                let expr4_0 = C::xmm_to_xmm_mem(ctx, expr2_0);
 9073|      0|                                let expr5_0 = constructor_x64_pcmpeqd(ctx, expr2_0, &expr4_0)?;
 9074|      0|                                let expr6_0: u32 = 1i128 as u32;
 9075|      0|                                let expr7_0 = RegMemImm::Imm {
 9076|      0|                                    simm32: expr6_0,
 9077|      0|                                };
 9078|      0|                                let expr8_0 = constructor_mov_rmi_to_xmm(ctx, &expr7_0)?;
 9079|      0|                                let expr9_0 = constructor_x64_psrld(ctx, expr5_0, &expr8_0)?;
 9080|      0|                                let expr10_0 = constructor_x64_cvtdq2ps(ctx, expr9_0)?;
 9081|      0|                                let expr11_0: Type = F32X4;
 9082|      0|                                let expr12_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
 9083|      0|                                let expr13_0 = constructor_x64_cvttps2dq(ctx, expr11_0, &expr12_0)?;
 9084|      0|                                let expr14_0 = C::xmm_to_xmm_mem(ctx, expr10_0);
 9085|      0|                                let expr15_0 = constructor_x64_subps(ctx, expr3_0, &expr14_0)?;
 9086|      0|                                let expr16_0 = C::xmm_to_xmm_mem(ctx, expr15_0);
 9087|      0|                                let expr17_0 = FcmpImm::LessThanOrEqual;
 9088|      0|                                let expr18_0 = constructor_x64_cmpps(ctx, expr10_0, &expr16_0, &expr17_0)?;
 9089|      0|                                let expr19_0: Type = F32X4;
 9090|      0|                                let expr20_0 = C::xmm_to_xmm_mem(ctx, expr15_0);
 9091|      0|                                let expr21_0 = constructor_x64_cvttps2dq(ctx, expr19_0, &expr20_0)?;
 9092|      0|                                let expr22_0 = C::xmm_to_xmm_mem(ctx, expr18_0);
 9093|      0|                                let expr23_0 = constructor_x64_pxor(ctx, expr21_0, &expr22_0)?;
 9094|      0|                                let expr24_0 = C::xmm_to_xmm_mem(ctx, expr18_0);
 9095|      0|                                let expr25_0 = constructor_x64_pxor(ctx, expr18_0, &expr24_0)?;
 9096|      0|                                let expr26_0 = C::xmm_to_xmm_mem(ctx, expr25_0);
 9097|      0|                                let expr27_0 = constructor_x64_pmaxsd(ctx, expr23_0, &expr26_0)?;
 9098|      0|                                let expr28_0 = C::xmm_to_xmm_mem(ctx, expr13_0);
 9099|      0|                                let expr29_0 = constructor_x64_paddd(ctx, expr27_0, &expr28_0)?;
 9100|      0|                                let expr30_0 = constructor_output_xmm(ctx, expr29_0)?;
 9101|      0|                                return Some(expr30_0);
 9102|      0|                            }
 9103|       |                        }
 9104|       |                        &Opcode::FcvtToSintSat  => {
 9105|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 9106|      0|                            if pattern7_0 == F32X4 {
 9107|       |                                // Rule at src/isa/x64/lower.isle line 3060.
 9108|      0|                                let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9109|      0|                                let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
 9110|      0|                                let expr2_0 = FcmpImm::Equal;
 9111|      0|                                let expr3_0 = constructor_x64_cmpps(ctx, expr0_0, &expr1_0, &expr2_0)?;
 9112|      0|                                let expr4_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
 9113|      0|                                let expr5_0 = constructor_x64_andps(ctx, expr0_0, &expr4_0)?;
 9114|      0|                                let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9115|      0|                                let expr7_0 = constructor_x64_pxor(ctx, expr3_0, &expr6_0)?;
 9116|      0|                                let expr8_0: Type = F32X4;
 9117|      0|                                let expr9_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9118|      0|                                let expr10_0 = constructor_x64_cvttps2dq(ctx, expr8_0, &expr9_0)?;
 9119|      0|                                let expr11_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
 9120|      0|                                let expr12_0 = constructor_x64_pand(ctx, expr10_0, &expr11_0)?;
 9121|      0|                                let expr13_0: u32 = 31i128 as u32;
 9122|      0|                                let expr14_0 = RegMemImm::Imm {
 9123|      0|                                    simm32: expr13_0,
 9124|      0|                                };
 9125|      0|                                let expr15_0 = constructor_mov_rmi_to_xmm(ctx, &expr14_0)?;
 9126|      0|                                let expr16_0 = constructor_x64_psrad(ctx, expr12_0, &expr15_0)?;
 9127|      0|                                let expr17_0 = C::xmm_to_xmm_mem(ctx, expr10_0);
 9128|      0|                                let expr18_0 = constructor_x64_pxor(ctx, expr16_0, &expr17_0)?;
 9129|      0|                                let expr19_0 = constructor_output_xmm(ctx, expr18_0)?;
 9130|      0|                                return Some(expr19_0);
 9131|      0|                            }
 9132|       |                        }
 9133|      0|                        _ => {}
 9134|       |                    }
 9135|       |                }
 9136|      0|                &InstructionData::Load { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2, offset: pattern5_3 } => {
 9137|      0|                    match pattern5_0 {
 9138|       |                        &Opcode::Uload16x4  => {
 9139|       |                            // Rule at src/isa/x64/lower.isle line 2554.
 9140|      0|                            let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
 9141|      0|                            let expr1_0 = constructor_amode_to_xmm_mem(ctx, &expr0_0)?;
 9142|      0|                            let expr2_0 = constructor_x64_pmovzxwd(ctx, &expr1_0)?;
 9143|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9144|      0|                            return Some(expr3_0);
 9145|       |                        }
 9146|       |                        &Opcode::Sload16x4  => {
 9147|       |                            // Rule at src/isa/x64/lower.isle line 2552.
 9148|      0|                            let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
 9149|      0|                            let expr1_0 = constructor_amode_to_xmm_mem(ctx, &expr0_0)?;
 9150|      0|                            let expr2_0 = constructor_x64_pmovsxwd(ctx, &expr1_0)?;
 9151|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9152|      0|                            return Some(expr3_0);
 9153|       |                        }
 9154|      0|                        _ => {}
 9155|       |                    }
 9156|       |                }
 9157|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 9158|      0|                    match pattern5_0 {
 9159|       |                        &Opcode::Imin  => {
 9160|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9161|       |                            // Rule at src/isa/x64/lower.isle line 1385.
 9162|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9163|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9164|      0|                            let expr2_0 = constructor_x64_pminsd(ctx, expr0_0, &expr1_0)?;
 9165|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9166|      0|                            return Some(expr3_0);
 9167|       |                        }
 9168|       |                        &Opcode::Umin  => {
 9169|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9170|       |                            // Rule at src/isa/x64/lower.isle line 1407.
 9171|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9172|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9173|      0|                            let expr2_0 = constructor_x64_pminud(ctx, expr0_0, &expr1_0)?;
 9174|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9175|      0|                            return Some(expr3_0);
 9176|       |                        }
 9177|       |                        &Opcode::Imax  => {
 9178|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9179|       |                            // Rule at src/isa/x64/lower.isle line 1374.
 9180|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9181|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9182|      0|                            let expr2_0 = constructor_x64_pmaxsd(ctx, expr0_0, &expr1_0)?;
 9183|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9184|      0|                            return Some(expr3_0);
 9185|       |                        }
 9186|       |                        &Opcode::Umax  => {
 9187|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9188|       |                            // Rule at src/isa/x64/lower.isle line 1396.
 9189|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9190|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9191|      0|                            let expr2_0 = constructor_x64_pmaxud(ctx, expr0_0, &expr1_0)?;
 9192|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9193|      0|                            return Some(expr3_0);
 9194|       |                        }
 9195|       |                        &Opcode::Ishl  => {
 9196|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9197|      0|                            // Rule at src/isa/x64/lower.isle line 556.
 9198|      0|                            let expr0_0: Type = I64;
 9199|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 9200|      0|                            let expr2_0 = C::shift_mask(ctx, pattern2_0);
 9201|      0|                            let expr3_0 = RegMemImm::Imm {
 9202|      0|                                simm32: expr2_0,
 9203|      0|                            };
 9204|      0|                            let expr4_0 = C::gpr_mem_imm_new(ctx, &expr3_0);
 9205|      0|                            let expr5_0 = constructor_x64_and(ctx, expr0_0, expr1_0, &expr4_0)?;
 9206|      0|                            let expr6_0 = C::gpr_to_reg(ctx, expr5_0);
 9207|      0|                            let expr7_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9208|      0|                            let expr8_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 9209|      0|                            let expr9_0 = constructor_mov_rmi_to_xmm(ctx, &expr8_0)?;
 9210|      0|                            let expr10_0 = constructor_x64_pslld(ctx, expr7_0, &expr9_0)?;
 9211|      0|                            let expr11_0 = constructor_output_xmm(ctx, expr10_0)?;
 9212|      0|                            return Some(expr11_0);
 9213|       |                        }
 9214|       |                        &Opcode::Ushr  => {
 9215|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9216|      0|                            // Rule at src/isa/x64/lower.isle line 663.
 9217|      0|                            let expr0_0: Type = I64;
 9218|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 9219|      0|                            let expr2_0 = C::shift_mask(ctx, pattern2_0);
 9220|      0|                            let expr3_0 = RegMemImm::Imm {
 9221|      0|                                simm32: expr2_0,
 9222|      0|                            };
 9223|      0|                            let expr4_0 = C::gpr_mem_imm_new(ctx, &expr3_0);
 9224|      0|                            let expr5_0 = constructor_x64_and(ctx, expr0_0, expr1_0, &expr4_0)?;
 9225|      0|                            let expr6_0 = C::gpr_to_reg(ctx, expr5_0);
 9226|      0|                            let expr7_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9227|      0|                            let expr8_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 9228|      0|                            let expr9_0 = constructor_mov_rmi_to_xmm(ctx, &expr8_0)?;
 9229|      0|                            let expr10_0 = constructor_x64_psrld(ctx, expr7_0, &expr9_0)?;
 9230|      0|                            let expr11_0 = constructor_output_xmm(ctx, expr10_0)?;
 9231|      0|                            return Some(expr11_0);
 9232|       |                        }
 9233|       |                        &Opcode::Sshr  => {
 9234|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9235|      0|                            // Rule at src/isa/x64/lower.isle line 766.
 9236|      0|                            let expr0_0: Type = I64;
 9237|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 9238|      0|                            let expr2_0 = C::shift_mask(ctx, pattern2_0);
 9239|      0|                            let expr3_0 = RegMemImm::Imm {
 9240|      0|                                simm32: expr2_0,
 9241|      0|                            };
 9242|      0|                            let expr4_0 = C::gpr_mem_imm_new(ctx, &expr3_0);
 9243|      0|                            let expr5_0 = constructor_x64_and(ctx, expr0_0, expr1_0, &expr4_0)?;
 9244|      0|                            let expr6_0 = C::gpr_to_reg(ctx, expr5_0);
 9245|      0|                            let expr7_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9246|      0|                            let expr8_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 9247|      0|                            let expr9_0 = constructor_mov_rmi_to_xmm(ctx, &expr8_0)?;
 9248|      0|                            let expr10_0 = constructor_x64_psrad(ctx, expr7_0, &expr9_0)?;
 9249|      0|                            let expr11_0 = constructor_output_xmm(ctx, expr10_0)?;
 9250|      0|                            return Some(expr11_0);
 9251|       |                        }
 9252|       |                        &Opcode::Snarrow  => {
 9253|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9254|      0|                            if let Some(pattern8_0) = C::def_inst(ctx, pattern7_0) {
 9255|      0|                                if let Some(pattern9_0) = C::first_result(ctx, pattern8_0) {
 9256|      0|                                    let pattern10_0 = C::value_type(ctx, pattern9_0);
 9257|      0|                                    if pattern10_0 == I64X2 {
 9258|      0|                                        let pattern12_0 = C::inst_data(ctx, pattern8_0);
 9259|      0|                                        if let &InstructionData::Unary { opcode: ref pattern13_0, arg: pattern13_1 } = &pattern12_0 {
 9260|      0|                                            if let &Opcode::FcvtToSintSat  = pattern13_0 {
 9261|      0|                                                if let Some(pattern15_0) = C::def_inst(ctx, pattern7_1) {
 9262|      0|                                                    let pattern16_0 = C::inst_data(ctx, pattern15_0);
 9263|      0|                                                    if let &InstructionData::UnaryConst { opcode: ref pattern17_0, constant_handle: pattern17_1 } = &pattern16_0 {
 9264|      0|                                                        if let &Opcode::Vconst  = pattern17_0 {
 9265|      0|                                                            if let Some(pattern19_0) = C::u128_from_constant(ctx, pattern17_1) {
 9266|      0|                                                                if pattern19_0 == 0i128 as u128  {
 9267|       |                                                                    // Rule at src/isa/x64/lower.isle line 3274.
 9268|      0|                                                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern13_1)?;
 9269|      0|                                                                    let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
 9270|      0|                                                                    let expr2_0 = FcmpImm::Equal;
 9271|      0|                                                                    let expr3_0 = constructor_x64_cmppd(ctx, expr0_0, &expr1_0, &expr2_0)?;
 9272|      0|                                                                    let expr4_0: Type = F64X2;
 9273|      0|                                                                    let expr5_0 = C::snarrow_umax_mask(ctx, );
 9274|      0|                                                                    let expr6_0 = constructor_x64_xmm_load_const(ctx, expr4_0, expr5_0)?;
 9275|      0|                                                                    let expr7_0 = C::xmm_to_xmm_mem(ctx, expr6_0);
 9276|      0|                                                                    let expr8_0 = constructor_x64_andps(ctx, expr3_0, &expr7_0)?;
 9277|      0|                                                                    let expr9_0 = constructor_x64_minpd(ctx, expr0_0, expr8_0)?;
 9278|      0|                                                                    let expr10_0 = C::xmm_to_xmm_mem(ctx, expr9_0);
 9279|      0|                                                                    let expr11_0 = constructor_x64_cvttpd2dq(ctx, &expr10_0)?;
 9280|      0|                                                                    let expr12_0 = constructor_output_xmm(ctx, expr11_0)?;
 9281|      0|                                                                    return Some(expr12_0);
 9282|      0|                                                                }
 9283|      0|                                                            }
 9284|      0|                                                        }
 9285|      0|                                                    }
 9286|      0|                                                }
 9287|      0|                                            }
 9288|      0|                                        }
 9289|      0|                                    }
 9290|      0|                                }
 9291|      0|                            }
 9292|       |                        }
 9293|       |                        &Opcode::IaddPairwise  => {
 9294|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9295|      0|                            if let Some(pattern8_0) = C::def_inst(ctx, pattern7_0) {
 9296|      0|                                let pattern9_0 = C::inst_data(ctx, pattern8_0);
 9297|      0|                                if let &InstructionData::Unary { opcode: ref pattern10_0, arg: pattern10_1 } = &pattern9_0 {
 9298|      0|                                    match pattern10_0 {
 9299|       |                                        &Opcode::SwidenLow  => {
 9300|      0|                                            let pattern12_0 = C::value_type(ctx, pattern10_1);
 9301|      0|                                            if pattern12_0 == I16X8 {
 9302|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern7_1) {
 9303|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
 9304|      0|                                                    if let &InstructionData::Unary { opcode: ref pattern16_0, arg: pattern16_1 } = &pattern15_0 {
 9305|      0|                                                        if let &Opcode::SwidenHigh  = pattern16_0 {
 9306|      0|                                                            if pattern16_1 == pattern10_1 {
 9307|       |                                                                // Rule at src/isa/x64/lower.isle line 3185.
 9308|      0|                                                                let expr0_0: Type = I16X8;
 9309|      0|                                                                let expr1_0 = C::iadd_pairwise_mul_const_32(ctx, );
 9310|      0|                                                                let expr2_0 = constructor_x64_xmm_load_const(ctx, expr0_0, expr1_0)?;
 9311|      0|                                                                let expr3_0 = constructor_put_in_xmm(ctx, pattern10_1)?;
 9312|      0|                                                                let expr4_0 = C::xmm_to_xmm_mem(ctx, expr2_0);
 9313|      0|                                                                let expr5_0 = constructor_x64_pmaddwd(ctx, expr3_0, &expr4_0)?;
 9314|      0|                                                                let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 9315|      0|                                                                return Some(expr6_0);
 9316|      0|                                                            }
 9317|      0|                                                        }
 9318|      0|                                                    }
 9319|      0|                                                }
 9320|      0|                                            }
 9321|       |                                        }
 9322|       |                                        &Opcode::UwidenLow  => {
 9323|      0|                                            let pattern12_0 = C::value_type(ctx, pattern10_1);
 9324|      0|                                            if pattern12_0 == I16X8 {
 9325|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern7_1) {
 9326|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
 9327|      0|                                                    if let &InstructionData::Unary { opcode: ref pattern16_0, arg: pattern16_1 } = &pattern15_0 {
 9328|      0|                                                        if let &Opcode::UwidenHigh  = pattern16_0 {
 9329|      0|                                                            if pattern16_1 == pattern10_1 {
 9330|       |                                                                // Rule at src/isa/x64/lower.isle line 3199.
 9331|      0|                                                                let expr0_0: Type = I16X8;
 9332|      0|                                                                let expr1_0 = C::iadd_pairwise_xor_const_32(ctx, );
 9333|      0|                                                                let expr2_0 = constructor_x64_xmm_load_const(ctx, expr0_0, expr1_0)?;
 9334|      0|                                                                let expr3_0 = constructor_put_in_xmm(ctx, pattern10_1)?;
 9335|      0|                                                                let expr4_0 = C::xmm_to_xmm_mem(ctx, expr2_0);
 9336|      0|                                                                let expr5_0 = constructor_x64_pxor(ctx, expr3_0, &expr4_0)?;
 9337|      0|                                                                let expr6_0: Type = I16X8;
 9338|      0|                                                                let expr7_0 = C::iadd_pairwise_mul_const_32(ctx, );
 9339|      0|                                                                let expr8_0 = constructor_x64_xmm_load_const(ctx, expr6_0, expr7_0)?;
 9340|      0|                                                                let expr9_0 = C::xmm_to_xmm_mem(ctx, expr8_0);
 9341|      0|                                                                let expr10_0 = constructor_x64_pmaddwd(ctx, expr5_0, &expr9_0)?;
 9342|      0|                                                                let expr11_0: Type = I16X8;
 9343|      0|                                                                let expr12_0 = C::iadd_pairwise_addd_const_32(ctx, );
 9344|      0|                                                                let expr13_0 = constructor_x64_xmm_load_const(ctx, expr11_0, expr12_0)?;
 9345|      0|                                                                let expr14_0 = C::xmm_to_xmm_mem(ctx, expr13_0);
 9346|      0|                                                                let expr15_0 = constructor_x64_paddd(ctx, expr10_0, &expr14_0)?;
 9347|      0|                                                                let expr16_0 = constructor_output_xmm(ctx, expr15_0)?;
 9348|      0|                                                                return Some(expr16_0);
 9349|      0|                                                            }
 9350|      0|                                                        }
 9351|      0|                                                    }
 9352|      0|                                                }
 9353|      0|                                            }
 9354|       |                                        }
 9355|      0|                                        _ => {}
 9356|       |                                    }
 9357|      0|                                }
 9358|      0|                            }
 9359|       |                        }
 9360|       |                        &Opcode::WideningPairwiseDotProductS  => {
 9361|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9362|       |                            // Rule at src/isa/x64/lower.isle line 2208.
 9363|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9364|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9365|      0|                            let expr2_0 = constructor_x64_pmaddwd(ctx, expr0_0, &expr1_0)?;
 9366|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9367|      0|                            return Some(expr3_0);
 9368|       |                        }
 9369|      0|                        _ => {}
 9370|       |                    }
 9371|       |                }
 9372|      0|                _ => {}
 9373|       |            }
 9374|      8|        }
 9375|      8|        if pattern2_0 == I64X2 {
 9376|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 9377|      0|            match &pattern4_0 {
 9378|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 9379|      0|                    match pattern5_0 {
 9380|       |                        &Opcode::Ineg  => {
 9381|       |                            // Rule at src/isa/x64/lower.isle line 848.
 9382|      0|                            let expr0_0: Type = I64X2;
 9383|      0|                            let expr1_0: u64 = 0i128 as u64;
 9384|      0|                            let expr2_0 = constructor_imm(ctx, expr0_0, expr1_0)?;
 9385|      0|                            let expr3_0 = C::xmm_new(ctx, expr2_0);
 9386|      0|                            let expr4_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 9387|      0|                            let expr5_0 = constructor_x64_psubq(ctx, expr3_0, &expr4_0)?;
 9388|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 9389|      0|                            return Some(expr6_0);
 9390|       |                        }
 9391|       |                        &Opcode::Iabs  => {
 9392|       |                            // Rule at src/isa/x64/lower.isle line 1180.
 9393|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9394|      0|                            let expr1_0: Type = I64X2;
 9395|      0|                            let expr2_0: u64 = 0i128 as u64;
 9396|      0|                            let expr3_0 = constructor_imm(ctx, expr1_0, expr2_0)?;
 9397|      0|                            let expr4_0 = C::xmm_new(ctx, expr3_0);
 9398|      0|                            let expr5_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
 9399|      0|                            let expr6_0 = constructor_x64_psubq(ctx, expr4_0, &expr5_0)?;
 9400|      0|                            let expr7_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
 9401|      0|                            let expr8_0 = constructor_x64_blendvpd(ctx, expr6_0, &expr7_0, expr6_0)?;
 9402|      0|                            let expr9_0 = constructor_output_xmm(ctx, expr8_0)?;
 9403|      0|                            return Some(expr9_0);
 9404|       |                        }
 9405|       |                        &Opcode::SwidenLow  => {
 9406|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 9407|      0|                            if pattern7_0 == I32X4 {
 9408|       |                                // Rule at src/isa/x64/lower.isle line 3220.
 9409|      0|                                let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 9410|      0|                                let expr1_0 = constructor_x64_pmovsxdq(ctx, &expr0_0)?;
 9411|      0|                                let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 9412|      0|                                return Some(expr2_0);
 9413|      0|                            }
 9414|       |                        }
 9415|       |                        &Opcode::SwidenHigh  => {
 9416|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 9417|      0|                            if pattern7_0 == I32X4 {
 9418|       |                                // Rule at src/isa/x64/lower.isle line 3233.
 9419|      0|                                let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 9420|      0|                                let expr1_0: u8 = 238i128 as u8;
 9421|      0|                                let expr2_0 = OperandSize::Size32;
 9422|      0|                                let expr3_0 = constructor_x64_pshufd(ctx, &expr0_0, expr1_0, &expr2_0)?;
 9423|      0|                                let expr4_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
 9424|      0|                                let expr5_0 = constructor_x64_pmovsxdq(ctx, &expr4_0)?;
 9425|      0|                                let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 9426|      0|                                return Some(expr6_0);
 9427|      0|                            }
 9428|       |                        }
 9429|       |                        &Opcode::UwidenLow  => {
 9430|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 9431|      0|                            if pattern7_0 == I32X4 {
 9432|       |                                // Rule at src/isa/x64/lower.isle line 3244.
 9433|      0|                                let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 9434|      0|                                let expr1_0 = constructor_x64_pmovzxdq(ctx, &expr0_0)?;
 9435|      0|                                let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 9436|      0|                                return Some(expr2_0);
 9437|      0|                            }
 9438|       |                        }
 9439|       |                        &Opcode::UwidenHigh  => {
 9440|      0|                            let pattern7_0 = C::value_type(ctx, pattern5_1);
 9441|      0|                            if pattern7_0 == I32X4 {
 9442|       |                                // Rule at src/isa/x64/lower.isle line 3257.
 9443|      0|                                let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
 9444|      0|                                let expr1_0: u8 = 238i128 as u8;
 9445|      0|                                let expr2_0 = OperandSize::Size32;
 9446|      0|                                let expr3_0 = constructor_x64_pshufd(ctx, &expr0_0, expr1_0, &expr2_0)?;
 9447|      0|                                let expr4_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
 9448|      0|                                let expr5_0 = constructor_x64_pmovzxdq(ctx, &expr4_0)?;
 9449|      0|                                let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
 9450|      0|                                return Some(expr6_0);
 9451|      0|                            }
 9452|       |                        }
 9453|      0|                        _ => {}
 9454|       |                    }
 9455|       |                }
 9456|      0|                &InstructionData::Load { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2, offset: pattern5_3 } => {
 9457|      0|                    match pattern5_0 {
 9458|       |                        &Opcode::Uload32x2  => {
 9459|       |                            // Rule at src/isa/x64/lower.isle line 2558.
 9460|      0|                            let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
 9461|      0|                            let expr1_0 = constructor_amode_to_xmm_mem(ctx, &expr0_0)?;
 9462|      0|                            let expr2_0 = constructor_x64_pmovzxdq(ctx, &expr1_0)?;
 9463|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9464|      0|                            return Some(expr3_0);
 9465|       |                        }
 9466|       |                        &Opcode::Sload32x2  => {
 9467|       |                            // Rule at src/isa/x64/lower.isle line 2556.
 9468|      0|                            let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
 9469|      0|                            let expr1_0 = constructor_amode_to_xmm_mem(ctx, &expr0_0)?;
 9470|      0|                            let expr2_0 = constructor_x64_pmovsxdq(ctx, &expr1_0)?;
 9471|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9472|      0|                            return Some(expr3_0);
 9473|       |                        }
 9474|      0|                        _ => {}
 9475|       |                    }
 9476|       |                }
 9477|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 9478|      0|                    match pattern5_0 {
 9479|       |                        &Opcode::Ishl  => {
 9480|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9481|      0|                            // Rule at src/isa/x64/lower.isle line 560.
 9482|      0|                            let expr0_0: Type = I64;
 9483|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 9484|      0|                            let expr2_0 = C::shift_mask(ctx, pattern2_0);
 9485|      0|                            let expr3_0 = RegMemImm::Imm {
 9486|      0|                                simm32: expr2_0,
 9487|      0|                            };
 9488|      0|                            let expr4_0 = C::gpr_mem_imm_new(ctx, &expr3_0);
 9489|      0|                            let expr5_0 = constructor_x64_and(ctx, expr0_0, expr1_0, &expr4_0)?;
 9490|      0|                            let expr6_0 = C::gpr_to_reg(ctx, expr5_0);
 9491|      0|                            let expr7_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9492|      0|                            let expr8_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 9493|      0|                            let expr9_0 = constructor_mov_rmi_to_xmm(ctx, &expr8_0)?;
 9494|      0|                            let expr10_0 = constructor_x64_psllq(ctx, expr7_0, &expr9_0)?;
 9495|      0|                            let expr11_0 = constructor_output_xmm(ctx, expr10_0)?;
 9496|      0|                            return Some(expr11_0);
 9497|       |                        }
 9498|       |                        &Opcode::Ushr  => {
 9499|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9500|      0|                            // Rule at src/isa/x64/lower.isle line 667.
 9501|      0|                            let expr0_0: Type = I64;
 9502|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
 9503|      0|                            let expr2_0 = C::shift_mask(ctx, pattern2_0);
 9504|      0|                            let expr3_0 = RegMemImm::Imm {
 9505|      0|                                simm32: expr2_0,
 9506|      0|                            };
 9507|      0|                            let expr4_0 = C::gpr_mem_imm_new(ctx, &expr3_0);
 9508|      0|                            let expr5_0 = constructor_x64_and(ctx, expr0_0, expr1_0, &expr4_0)?;
 9509|      0|                            let expr6_0 = C::gpr_to_reg(ctx, expr5_0);
 9510|      0|                            let expr7_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9511|      0|                            let expr8_0 = C::reg_to_reg_mem_imm(ctx, expr6_0);
 9512|      0|                            let expr9_0 = constructor_mov_rmi_to_xmm(ctx, &expr8_0)?;
 9513|      0|                            let expr10_0 = constructor_x64_psrlq(ctx, expr7_0, &expr9_0)?;
 9514|      0|                            let expr11_0 = constructor_output_xmm(ctx, expr10_0)?;
 9515|      0|                            return Some(expr11_0);
 9516|       |                        }
 9517|       |                        &Opcode::Sshr  => {
 9518|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9519|       |                            // Rule at src/isa/x64/lower.isle line 778.
 9520|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9521|      0|                            let expr1_0: Type = I64;
 9522|      0|                            let expr2_0: u8 = 0i128 as u8;
 9523|      0|                            let expr3_0 = constructor_x64_pextrd(ctx, expr1_0, expr0_0, expr2_0)?;
 9524|      0|                            let expr4_0: Type = I64;
 9525|      0|                            let expr5_0: u8 = 1i128 as u8;
 9526|      0|                            let expr6_0 = constructor_x64_pextrd(ctx, expr4_0, expr0_0, expr5_0)?;
 9527|      0|                            let expr7_0: Type = I64;
 9528|      0|                            let expr8_0 = constructor_put_masked_in_imm8_gpr(ctx, pattern7_1, expr7_0)?;
 9529|      0|                            let expr9_0: Type = I64;
 9530|      0|                            let expr10_0 = constructor_x64_sar(ctx, expr9_0, expr3_0, &expr8_0)?;
 9531|      0|                            let expr11_0: Type = I64;
 9532|      0|                            let expr12_0 = constructor_x64_sar(ctx, expr11_0, expr6_0, &expr8_0)?;
 9533|      0|                            let expr13_0 = C::gpr_to_gpr_mem(ctx, expr10_0);
 9534|      0|                            let expr14_0 = C::gpr_to_gpr_mem(ctx, expr12_0);
 9535|      0|                            let expr15_0 = constructor_make_i64x2_from_lanes(ctx, &expr13_0, &expr14_0)?;
 9536|      0|                            let expr16_0 = constructor_output_xmm(ctx, expr15_0)?;
 9537|      0|                            return Some(expr16_0);
 9538|       |                        }
 9539|      0|                        _ => {}
 9540|       |                    }
 9541|       |                }
 9542|      0|                _ => {}
 9543|       |            }
 9544|      8|        }
 9545|      8|        if pattern2_0 == F32X4 {
 9546|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 9547|      0|            match &pattern4_0 {
 9548|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 9549|      0|                    match pattern5_0 {
 9550|       |                        &Opcode::Sqrt  => {
 9551|       |                            // Rule at src/isa/x64/lower.isle line 2265.
 9552|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9553|      0|                            let expr1_0 = constructor_x64_sqrtps(ctx, expr0_0)?;
 9554|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 9555|      0|                            return Some(expr2_0);
 9556|       |                        }
 9557|       |                        &Opcode::Fneg  => {
 9558|       |                            // Rule at src/isa/x64/lower.isle line 1213.
 9559|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9560|      0|                            let expr1_0 = constructor_vector_all_ones(ctx, )?;
 9561|      0|                            let expr2_0: u32 = 31i128 as u32;
 9562|      0|                            let expr3_0 = RegMemImm::Imm {
 9563|      0|                                simm32: expr2_0,
 9564|      0|                            };
 9565|      0|                            let expr4_0 = constructor_mov_rmi_to_xmm(ctx, &expr3_0)?;
 9566|      0|                            let expr5_0 = constructor_x64_pslld(ctx, expr1_0, &expr4_0)?;
 9567|      0|                            let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9568|      0|                            let expr7_0 = constructor_x64_xorps(ctx, expr0_0, &expr6_0)?;
 9569|      0|                            let expr8_0 = constructor_output_xmm(ctx, expr7_0)?;
 9570|      0|                            return Some(expr8_0);
 9571|       |                        }
 9572|       |                        &Opcode::Fabs  => {
 9573|       |                            // Rule at src/isa/x64/lower.isle line 1194.
 9574|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9575|      0|                            let expr1_0 = constructor_vector_all_ones(ctx, )?;
 9576|      0|                            let expr2_0: u32 = 1i128 as u32;
 9577|      0|                            let expr3_0 = RegMemImm::Imm {
 9578|      0|                                simm32: expr2_0,
 9579|      0|                            };
 9580|      0|                            let expr4_0 = constructor_mov_rmi_to_xmm(ctx, &expr3_0)?;
 9581|      0|                            let expr5_0 = constructor_x64_psrld(ctx, expr1_0, &expr4_0)?;
 9582|      0|                            let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9583|      0|                            let expr7_0 = constructor_x64_andps(ctx, expr0_0, &expr6_0)?;
 9584|      0|                            let expr8_0 = constructor_output_xmm(ctx, expr7_0)?;
 9585|      0|                            return Some(expr8_0);
 9586|       |                        }
 9587|       |                        &Opcode::Fvdemote  => {
 9588|       |                            // Rule at src/isa/x64/lower.isle line 2283.
 9589|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9590|      0|                            let expr1_0 = constructor_x64_cvtpd2ps(ctx, expr0_0)?;
 9591|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 9592|      0|                            return Some(expr2_0);
 9593|       |                        }
 9594|       |                        &Opcode::FcvtFromUint  => {
 9595|       |                            // Rule at src/isa/x64/lower.isle line 3023.
 9596|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9597|      0|                            let expr1_0: u32 = 16i128 as u32;
 9598|      0|                            let expr2_0 = RegMemImm::Imm {
 9599|      0|                                simm32: expr1_0,
 9600|      0|                            };
 9601|      0|                            let expr3_0 = constructor_mov_rmi_to_xmm(ctx, &expr2_0)?;
 9602|      0|                            let expr4_0 = constructor_x64_pslld(ctx, expr0_0, &expr3_0)?;
 9603|      0|                            let expr5_0: u32 = 16i128 as u32;
 9604|      0|                            let expr6_0 = RegMemImm::Imm {
 9605|      0|                                simm32: expr5_0,
 9606|      0|                            };
 9607|      0|                            let expr7_0 = constructor_mov_rmi_to_xmm(ctx, &expr6_0)?;
 9608|      0|                            let expr8_0 = constructor_x64_psrld(ctx, expr4_0, &expr7_0)?;
 9609|      0|                            let expr9_0 = C::xmm_to_xmm_mem(ctx, expr8_0);
 9610|      0|                            let expr10_0 = constructor_x64_psubd(ctx, expr0_0, &expr9_0)?;
 9611|      0|                            let expr11_0 = constructor_x64_cvtdq2ps(ctx, expr8_0)?;
 9612|      0|                            let expr12_0: u32 = 1i128 as u32;
 9613|      0|                            let expr13_0 = RegMemImm::Imm {
 9614|      0|                                simm32: expr12_0,
 9615|      0|                            };
 9616|      0|                            let expr14_0 = constructor_mov_rmi_to_xmm(ctx, &expr13_0)?;
 9617|      0|                            let expr15_0 = constructor_x64_psrld(ctx, expr10_0, &expr14_0)?;
 9618|      0|                            let expr16_0 = constructor_x64_cvtdq2ps(ctx, expr15_0)?;
 9619|      0|                            let expr17_0 = C::xmm_to_xmm_mem(ctx, expr16_0);
 9620|      0|                            let expr18_0 = constructor_x64_addps(ctx, expr16_0, &expr17_0)?;
 9621|      0|                            let expr19_0 = C::xmm_to_xmm_mem(ctx, expr11_0);
 9622|      0|                            let expr20_0 = constructor_x64_addps(ctx, expr18_0, &expr19_0)?;
 9623|      0|                            let expr21_0 = constructor_output_xmm(ctx, expr20_0)?;
 9624|      0|                            return Some(expr21_0);
 9625|       |                        }
 9626|      0|                        _ => {}
 9627|       |                    }
 9628|       |                }
 9629|      0|                &InstructionData::Load { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2, offset: pattern5_3 } => {
 9630|      0|                    if let &Opcode::Load  = pattern5_0 {
 9631|       |                        // Rule at src/isa/x64/lower.isle line 2530.
 9632|      0|                        let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
 9633|      0|                        let expr1_0 = constructor_amode_to_xmm_mem(ctx, &expr0_0)?;
 9634|      0|                        let expr2_0 = constructor_x64_movups(ctx, &expr1_0)?;
 9635|      0|                        let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9636|      0|                        return Some(expr3_0);
 9637|      0|                    }
 9638|       |                }
 9639|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 9640|      0|                    match pattern5_0 {
 9641|       |                        &Opcode::Fadd  => {
 9642|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9643|       |                            // Rule at src/isa/x64/lower.isle line 2222.
 9644|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9645|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9646|      0|                            let expr2_0 = constructor_x64_addps(ctx, expr0_0, &expr1_0)?;
 9647|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9648|      0|                            return Some(expr3_0);
 9649|       |                        }
 9650|       |                        &Opcode::Fsub  => {
 9651|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9652|       |                            // Rule at src/isa/x64/lower.isle line 2233.
 9653|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9654|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9655|      0|                            let expr2_0 = constructor_x64_subps(ctx, expr0_0, &expr1_0)?;
 9656|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9657|      0|                            return Some(expr3_0);
 9658|       |                        }
 9659|       |                        &Opcode::Fmul  => {
 9660|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9661|       |                            // Rule at src/isa/x64/lower.isle line 2244.
 9662|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9663|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9664|      0|                            let expr2_0 = constructor_x64_mulps(ctx, expr0_0, &expr1_0)?;
 9665|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9666|      0|                            return Some(expr3_0);
 9667|       |                        }
 9668|       |                        &Opcode::Fdiv  => {
 9669|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9670|       |                            // Rule at src/isa/x64/lower.isle line 2255.
 9671|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9672|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9673|      0|                            let expr2_0 = constructor_x64_divps(ctx, expr0_0, &expr1_0)?;
 9674|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9675|      0|                            return Some(expr3_0);
 9676|       |                        }
 9677|       |                        &Opcode::Fmin  => {
 9678|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9679|       |                            // Rule at src/isa/x64/lower.isle line 2305.
 9680|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9681|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9682|      0|                            let expr2_0 = constructor_x64_minps(ctx, expr0_0, expr1_0)?;
 9683|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9684|      0|                            let expr4_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9685|      0|                            let expr5_0 = constructor_x64_minps(ctx, expr3_0, expr4_0)?;
 9686|      0|                            let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9687|      0|                            let expr7_0 = constructor_x64_orps(ctx, expr2_0, &expr6_0)?;
 9688|      0|                            let expr8_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9689|      0|                            let expr9_0 = FcmpImm::Unordered;
 9690|      0|                            let expr10_0 = constructor_x64_cmpps(ctx, expr7_0, &expr8_0, &expr9_0)?;
 9691|      0|                            let expr11_0 = C::xmm_to_xmm_mem(ctx, expr10_0);
 9692|      0|                            let expr12_0 = constructor_x64_orps(ctx, expr7_0, &expr11_0)?;
 9693|      0|                            let expr13_0: u32 = 10i128 as u32;
 9694|      0|                            let expr14_0 = RegMemImm::Imm {
 9695|      0|                                simm32: expr13_0,
 9696|      0|                            };
 9697|      0|                            let expr15_0 = constructor_mov_rmi_to_xmm(ctx, &expr14_0)?;
 9698|      0|                            let expr16_0 = constructor_x64_psrld(ctx, expr10_0, &expr15_0)?;
 9699|      0|                            let expr17_0 = C::xmm_to_xmm_mem(ctx, expr12_0);
 9700|      0|                            let expr18_0 = constructor_x64_andnps(ctx, expr16_0, &expr17_0)?;
 9701|      0|                            let expr19_0 = constructor_output_xmm(ctx, expr18_0)?;
 9702|      0|                            return Some(expr19_0);
 9703|       |                        }
 9704|       |                        &Opcode::FminPseudo  => {
 9705|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9706|       |                            // Rule at src/isa/x64/lower.isle line 2461.
 9707|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9708|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9709|      0|                            let expr2_0 = constructor_x64_minps(ctx, expr0_0, expr1_0)?;
 9710|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9711|      0|                            return Some(expr3_0);
 9712|       |                        }
 9713|       |                        &Opcode::Fmax  => {
 9714|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9715|       |                            // Rule at src/isa/x64/lower.isle line 2368.
 9716|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9717|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9718|      0|                            let expr2_0 = constructor_x64_maxps(ctx, expr0_0, expr1_0)?;
 9719|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9720|      0|                            let expr4_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9721|      0|                            let expr5_0 = constructor_x64_maxps(ctx, expr3_0, expr4_0)?;
 9722|      0|                            let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9723|      0|                            let expr7_0 = constructor_x64_xorps(ctx, expr2_0, &expr6_0)?;
 9724|      0|                            let expr8_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
 9725|      0|                            let expr9_0 = constructor_x64_orps(ctx, expr2_0, &expr8_0)?;
 9726|      0|                            let expr10_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
 9727|      0|                            let expr11_0 = constructor_x64_subps(ctx, expr9_0, &expr10_0)?;
 9728|      0|                            let expr12_0 = C::xmm_to_xmm_mem(ctx, expr9_0);
 9729|      0|                            let expr13_0 = FcmpImm::Unordered;
 9730|      0|                            let expr14_0 = constructor_x64_cmpps(ctx, expr9_0, &expr12_0, &expr13_0)?;
 9731|      0|                            let expr15_0: u32 = 10i128 as u32;
 9732|      0|                            let expr16_0 = RegMemImm::Imm {
 9733|      0|                                simm32: expr15_0,
 9734|      0|                            };
 9735|      0|                            let expr17_0 = constructor_mov_rmi_to_xmm(ctx, &expr16_0)?;
 9736|      0|                            let expr18_0 = constructor_x64_psrld(ctx, expr14_0, &expr17_0)?;
 9737|      0|                            let expr19_0 = C::xmm_to_xmm_mem(ctx, expr11_0);
 9738|      0|                            let expr20_0 = constructor_x64_andnps(ctx, expr18_0, &expr19_0)?;
 9739|      0|                            let expr21_0 = constructor_output_xmm(ctx, expr20_0)?;
 9740|      0|                            return Some(expr21_0);
 9741|       |                        }
 9742|       |                        &Opcode::FmaxPseudo  => {
 9743|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9744|       |                            // Rule at src/isa/x64/lower.isle line 2472.
 9745|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9746|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9747|      0|                            let expr2_0 = constructor_x64_maxps(ctx, expr0_0, expr1_0)?;
 9748|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9749|      0|                            return Some(expr3_0);
 9750|       |                        }
 9751|      0|                        _ => {}
 9752|       |                    }
 9753|       |                }
 9754|      0|                _ => {}
 9755|       |            }
 9756|      8|        }
 9757|      8|        if pattern2_0 == F64X2 {
 9758|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
 9759|      0|            match &pattern4_0 {
 9760|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 9761|      0|                    match pattern5_0 {
 9762|       |                        &Opcode::Sqrt  => {
 9763|       |                            // Rule at src/isa/x64/lower.isle line 2267.
 9764|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9765|      0|                            let expr1_0 = constructor_x64_sqrtpd(ctx, expr0_0)?;
 9766|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 9767|      0|                            return Some(expr2_0);
 9768|       |                        }
 9769|       |                        &Opcode::Fneg  => {
 9770|       |                            // Rule at src/isa/x64/lower.isle line 1218.
 9771|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9772|      0|                            let expr1_0 = constructor_vector_all_ones(ctx, )?;
 9773|      0|                            let expr2_0: u32 = 63i128 as u32;
 9774|      0|                            let expr3_0 = RegMemImm::Imm {
 9775|      0|                                simm32: expr2_0,
 9776|      0|                            };
 9777|      0|                            let expr4_0 = constructor_mov_rmi_to_xmm(ctx, &expr3_0)?;
 9778|      0|                            let expr5_0 = constructor_x64_psllq(ctx, expr1_0, &expr4_0)?;
 9779|      0|                            let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9780|      0|                            let expr7_0 = constructor_x64_xorpd(ctx, expr0_0, &expr6_0)?;
 9781|      0|                            let expr8_0 = constructor_output_xmm(ctx, expr7_0)?;
 9782|      0|                            return Some(expr8_0);
 9783|       |                        }
 9784|       |                        &Opcode::Fabs  => {
 9785|       |                            // Rule at src/isa/x64/lower.isle line 1200.
 9786|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9787|      0|                            let expr1_0 = constructor_vector_all_ones(ctx, )?;
 9788|      0|                            let expr2_0: u32 = 1i128 as u32;
 9789|      0|                            let expr3_0 = RegMemImm::Imm {
 9790|      0|                                simm32: expr2_0,
 9791|      0|                            };
 9792|      0|                            let expr4_0 = constructor_mov_rmi_to_xmm(ctx, &expr3_0)?;
 9793|      0|                            let expr5_0 = constructor_x64_psrlq(ctx, expr1_0, &expr4_0)?;
 9794|      0|                            let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9795|      0|                            let expr7_0 = constructor_x64_andpd(ctx, expr0_0, &expr6_0)?;
 9796|      0|                            let expr8_0 = constructor_output_xmm(ctx, expr7_0)?;
 9797|      0|                            return Some(expr8_0);
 9798|       |                        }
 9799|       |                        &Opcode::FvpromoteLow  => {
 9800|       |                            // Rule at src/isa/x64/lower.isle line 2275.
 9801|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
 9802|      0|                            let expr1_0 = constructor_x64_cvtps2pd(ctx, expr0_0)?;
 9803|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 9804|      0|                            return Some(expr2_0);
 9805|       |                        }
 9806|       |                        &Opcode::FcvtFromUint  => {
 9807|      0|                            if let Some(pattern7_0) = C::def_inst(ctx, pattern5_1) {
 9808|      0|                                let pattern8_0 = C::inst_data(ctx, pattern7_0);
 9809|      0|                                if let &InstructionData::Unary { opcode: ref pattern9_0, arg: pattern9_1 } = &pattern8_0 {
 9810|      0|                                    if let &Opcode::UwidenLow  = pattern9_0 {
 9811|      0|                                        let pattern11_0 = C::value_type(ctx, pattern9_1);
 9812|      0|                                        if pattern11_0 == I32X4 {
 9813|       |                                            // Rule at src/isa/x64/lower.isle line 2985.
 9814|      0|                                            let expr0_0: Type = I32X4;
 9815|      0|                                            let expr1_0 = C::fcvt_uint_mask_const(ctx, );
 9816|      0|                                            let expr2_0 = constructor_x64_xmm_load_const(ctx, expr0_0, expr1_0)?;
 9817|      0|                                            let expr3_0 = constructor_put_in_xmm(ctx, pattern9_1)?;
 9818|      0|                                            let expr4_0 = C::xmm_to_xmm_mem(ctx, expr2_0);
 9819|      0|                                            let expr5_0 = constructor_x64_unpcklps(ctx, expr3_0, &expr4_0)?;
 9820|      0|                                            let expr6_0: Type = I32X4;
 9821|      0|                                            let expr7_0 = C::fcvt_uint_mask_high_const(ctx, );
 9822|      0|                                            let expr8_0 = constructor_x64_xmm_load_const(ctx, expr6_0, expr7_0)?;
 9823|      0|                                            let expr9_0 = C::xmm_to_xmm_mem(ctx, expr8_0);
 9824|      0|                                            let expr10_0 = constructor_x64_subpd(ctx, expr5_0, &expr9_0)?;
 9825|      0|                                            let expr11_0 = constructor_output_xmm(ctx, expr10_0)?;
 9826|      0|                                            return Some(expr11_0);
 9827|      0|                                        }
 9828|      0|                                    }
 9829|      0|                                }
 9830|      0|                            }
 9831|       |                        }
 9832|      0|                        _ => {}
 9833|       |                    }
 9834|       |                }
 9835|      0|                &InstructionData::Load { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2, offset: pattern5_3 } => {
 9836|      0|                    if let &Opcode::Load  = pattern5_0 {
 9837|       |                        // Rule at src/isa/x64/lower.isle line 2532.
 9838|      0|                        let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
 9839|      0|                        let expr1_0 = constructor_amode_to_xmm_mem(ctx, &expr0_0)?;
 9840|      0|                        let expr2_0 = constructor_x64_movupd(ctx, &expr1_0)?;
 9841|      0|                        let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9842|      0|                        return Some(expr3_0);
 9843|      0|                    }
 9844|       |                }
 9845|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 9846|      0|                    match pattern5_0 {
 9847|       |                        &Opcode::Fadd  => {
 9848|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9849|       |                            // Rule at src/isa/x64/lower.isle line 2224.
 9850|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9851|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9852|      0|                            let expr2_0 = constructor_x64_addpd(ctx, expr0_0, &expr1_0)?;
 9853|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9854|      0|                            return Some(expr3_0);
 9855|       |                        }
 9856|       |                        &Opcode::Fsub  => {
 9857|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9858|       |                            // Rule at src/isa/x64/lower.isle line 2235.
 9859|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9860|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9861|      0|                            let expr2_0 = constructor_x64_subpd(ctx, expr0_0, &expr1_0)?;
 9862|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9863|      0|                            return Some(expr3_0);
 9864|       |                        }
 9865|       |                        &Opcode::Fmul  => {
 9866|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9867|       |                            // Rule at src/isa/x64/lower.isle line 2246.
 9868|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9869|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9870|      0|                            let expr2_0 = constructor_x64_mulpd(ctx, expr0_0, &expr1_0)?;
 9871|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9872|      0|                            return Some(expr3_0);
 9873|       |                        }
 9874|       |                        &Opcode::Fdiv  => {
 9875|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9876|       |                            // Rule at src/isa/x64/lower.isle line 2257.
 9877|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9878|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9879|      0|                            let expr2_0 = constructor_x64_divpd(ctx, expr0_0, &expr1_0)?;
 9880|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9881|      0|                            return Some(expr3_0);
 9882|       |                        }
 9883|       |                        &Opcode::Fmin  => {
 9884|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9885|       |                            // Rule at src/isa/x64/lower.isle line 2348.
 9886|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9887|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9888|      0|                            let expr2_0 = constructor_x64_minpd(ctx, expr0_0, expr1_0)?;
 9889|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9890|      0|                            let expr4_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9891|      0|                            let expr5_0 = constructor_x64_minpd(ctx, expr3_0, expr4_0)?;
 9892|      0|                            let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9893|      0|                            let expr7_0 = constructor_x64_orpd(ctx, expr2_0, &expr6_0)?;
 9894|      0|                            let expr8_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9895|      0|                            let expr9_0 = FcmpImm::Unordered;
 9896|      0|                            let expr10_0 = constructor_x64_cmppd(ctx, expr2_0, &expr8_0, &expr9_0)?;
 9897|      0|                            let expr11_0 = C::xmm_to_xmm_mem(ctx, expr10_0);
 9898|      0|                            let expr12_0 = constructor_x64_orpd(ctx, expr7_0, &expr11_0)?;
 9899|      0|                            let expr13_0: u32 = 13i128 as u32;
 9900|      0|                            let expr14_0 = RegMemImm::Imm {
 9901|      0|                                simm32: expr13_0,
 9902|      0|                            };
 9903|      0|                            let expr15_0 = constructor_mov_rmi_to_xmm(ctx, &expr14_0)?;
 9904|      0|                            let expr16_0 = constructor_x64_psrlq(ctx, expr10_0, &expr15_0)?;
 9905|      0|                            let expr17_0 = C::xmm_to_xmm_mem(ctx, expr12_0);
 9906|      0|                            let expr18_0 = constructor_x64_andnpd(ctx, expr16_0, &expr17_0)?;
 9907|      0|                            let expr19_0 = constructor_output_xmm(ctx, expr18_0)?;
 9908|      0|                            return Some(expr19_0);
 9909|       |                        }
 9910|       |                        &Opcode::FminPseudo  => {
 9911|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9912|       |                            // Rule at src/isa/x64/lower.isle line 2463.
 9913|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9914|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9915|      0|                            let expr2_0 = constructor_x64_minpd(ctx, expr0_0, expr1_0)?;
 9916|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9917|      0|                            return Some(expr3_0);
 9918|       |                        }
 9919|       |                        &Opcode::Fmax  => {
 9920|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9921|       |                            // Rule at src/isa/x64/lower.isle line 2411.
 9922|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9923|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9924|      0|                            let expr2_0 = constructor_x64_maxpd(ctx, expr0_0, expr1_0)?;
 9925|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9926|      0|                            let expr4_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9927|      0|                            let expr5_0 = constructor_x64_maxpd(ctx, expr3_0, expr4_0)?;
 9928|      0|                            let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
 9929|      0|                            let expr7_0 = constructor_x64_xorpd(ctx, expr2_0, &expr6_0)?;
 9930|      0|                            let expr8_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
 9931|      0|                            let expr9_0 = constructor_x64_orpd(ctx, expr2_0, &expr8_0)?;
 9932|      0|                            let expr10_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
 9933|      0|                            let expr11_0 = constructor_x64_subpd(ctx, expr9_0, &expr10_0)?;
 9934|      0|                            let expr12_0 = C::xmm_to_xmm_mem(ctx, expr9_0);
 9935|      0|                            let expr13_0 = FcmpImm::Unordered;
 9936|      0|                            let expr14_0 = constructor_x64_cmppd(ctx, expr9_0, &expr12_0, &expr13_0)?;
 9937|      0|                            let expr15_0: u32 = 13i128 as u32;
 9938|      0|                            let expr16_0 = RegMemImm::Imm {
 9939|      0|                                simm32: expr15_0,
 9940|      0|                            };
 9941|      0|                            let expr17_0 = constructor_mov_rmi_to_xmm(ctx, &expr16_0)?;
 9942|      0|                            let expr18_0 = constructor_x64_psrlq(ctx, expr14_0, &expr17_0)?;
 9943|      0|                            let expr19_0 = C::xmm_to_xmm_mem(ctx, expr11_0);
 9944|      0|                            let expr20_0 = constructor_x64_andnpd(ctx, expr18_0, &expr19_0)?;
 9945|      0|                            let expr21_0 = constructor_output_xmm(ctx, expr20_0)?;
 9946|      0|                            return Some(expr21_0);
 9947|       |                        }
 9948|       |                        &Opcode::FmaxPseudo  => {
 9949|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 9950|       |                            // Rule at src/isa/x64/lower.isle line 2474.
 9951|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
 9952|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
 9953|      0|                            let expr2_0 = constructor_x64_maxpd(ctx, expr0_0, expr1_0)?;
 9954|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9955|      0|                            return Some(expr3_0);
 9956|       |                        }
 9957|      0|                        _ => {}
 9958|       |                    }
 9959|       |                }
 9960|      0|                _ => {}
 9961|       |            }
 9962|      8|        }
 9963|      8|        if let Some(()) = C::avx512vl_enabled(ctx, pattern2_0) {
 9964|      0|            if let Some(()) = C::avx512dq_enabled(ctx, pattern2_0) {
 9965|      0|                if let Some((pattern5_0, pattern5_1)) = C::multi_lane(ctx, pattern2_0) {
 9966|      0|                    if pattern5_0 == 64i128 as u32  {
 9967|      0|                        if pattern5_1 == 2i128 as u32  {
 9968|      0|                            let pattern8_0 = C::inst_data(ctx, pattern0_0);
 9969|      0|                            if let &InstructionData::Binary { opcode: ref pattern9_0, args: ref pattern9_1 } = &pattern8_0 {
 9970|      0|                                if let &Opcode::Imul  = pattern9_0 {
 9971|      0|                                    let (pattern11_0, pattern11_1) = C::unpack_value_array_2(ctx, pattern9_1);
 9972|      0|                                    // Rule at src/isa/x64/lower.isle line 942.
 9973|      0|                                    let expr0_0 = C::put_in_xmm_mem(ctx, pattern11_0);
 9974|      0|                                    let expr1_0 = constructor_put_in_xmm(ctx, pattern11_1)?;
 9975|      0|                                    let expr2_0 = constructor_x64_vpmullq(ctx, &expr0_0, expr1_0)?;
 9976|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
 9977|      0|                                    return Some(expr3_0);
 9978|      0|                                }
 9979|      0|                            }
 9980|      0|                        }
 9981|      0|                    }
 9982|      0|                }
 9983|      0|            }
 9984|      0|            if let Some(()) = C::avx512f_enabled(ctx, pattern2_0) {
 9985|      0|                if pattern2_0 == I64X2 {
 9986|      0|                    let pattern6_0 = C::inst_data(ctx, pattern0_0);
 9987|      0|                    if let &InstructionData::Unary { opcode: ref pattern7_0, arg: pattern7_1 } = &pattern6_0 {
 9988|      0|                        if let &Opcode::Iabs  = pattern7_0 {
 9989|       |                            // Rule at src/isa/x64/lower.isle line 1170.
 9990|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern7_1);
 9991|      0|                            let expr1_0 = constructor_x64_vpabsq(ctx, &expr0_0)?;
 9992|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
 9993|      0|                            return Some(expr2_0);
 9994|      0|                        }
 9995|      0|                    }
 9996|      0|                }
 9997|      0|            }
 9998|      0|            if let Some(()) = C::avx512vbmi_enabled(ctx, pattern2_0) {
 9999|      0|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
10000|      0|                if let &InstructionData::Shuffle { opcode: ref pattern6_0, args: ref pattern6_1, imm: pattern6_2 } = &pattern5_0 {
10001|      0|                    if let &Opcode::Shuffle  = pattern6_0 {
10002|      0|                        let (pattern8_0, pattern8_1) = C::unpack_value_array_2(ctx, pattern6_1);
10003|      0|                        if let Some(pattern9_0) = C::vec_mask_from_immediate(ctx, pattern6_2) {
10004|      0|                            if let Some((pattern10_0, pattern10_1)) = C::perm_from_mask_with_zeros(ctx, &pattern9_0) {
10005|       |                                // Rule at src/isa/x64/lower.isle line 3509.
10006|      0|                                let expr0_0: Type = I8X16;
10007|      0|                                let expr1_0 = constructor_x64_xmm_load_const(ctx, expr0_0, pattern10_1)?;
10008|      0|                                let expr2_0 = constructor_put_in_xmm(ctx, pattern8_1)?;
10009|      0|                                let expr3_0 = constructor_put_in_xmm(ctx, pattern8_0)?;
10010|      0|                                let expr4_0: Type = I8X16;
10011|      0|                                let expr5_0 = constructor_x64_xmm_load_const(ctx, expr4_0, pattern10_0)?;
10012|      0|                                let expr6_0 = constructor_x64_vpermi2b(ctx, expr2_0, expr3_0, expr5_0)?;
10013|      0|                                let expr7_0 = C::xmm_to_xmm_mem(ctx, expr6_0);
10014|      0|                                let expr8_0 = constructor_x64_andps(ctx, expr1_0, &expr7_0)?;
10015|      0|                                let expr9_0 = constructor_output_xmm(ctx, expr8_0)?;
10016|      0|                                return Some(expr9_0);
10017|      0|                            }
10018|       |                            // Rule at src/isa/x64/lower.isle line 3518.
10019|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern8_1)?;
10020|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern8_0)?;
10021|      0|                            let expr2_0: Type = I8X16;
10022|      0|                            let expr3_0 = C::perm_from_mask(ctx, &pattern9_0);
10023|      0|                            let expr4_0 = constructor_x64_xmm_load_const(ctx, expr2_0, expr3_0)?;
10024|      0|                            let expr5_0 = constructor_x64_vpermi2b(ctx, expr0_0, expr1_0, expr4_0)?;
10025|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
10026|      0|                            return Some(expr6_0);
10027|      0|                        }
10028|      0|                    }
10029|      0|                }
10030|      0|            }
10031|      8|        }
10032|      8|        if let Some(()) = C::use_fma(ctx, pattern2_0) {
10033|      8|            if pattern2_0 == F32X4 {
10034|      0|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
10035|      0|                if let &InstructionData::Ternary { opcode: ref pattern6_0, args: ref pattern6_1 } = &pattern5_0 {
10036|      0|                    if let &Opcode::Fma  = pattern6_0 {
10037|      0|                        let (pattern8_0, pattern8_1, pattern8_2) = C::unpack_value_array_3(ctx, pattern6_1);
10038|       |                        // Rule at src/isa/x64/lower.isle line 2487.
10039|      0|                        let expr0_0 = constructor_put_in_xmm(ctx, pattern8_0)?;
10040|      0|                        let expr1_0 = constructor_put_in_xmm(ctx, pattern8_1)?;
10041|      0|                        let expr2_0 = constructor_put_in_xmm(ctx, pattern8_2)?;
10042|      0|                        let expr3_0 = constructor_x64_vfmadd213ps(ctx, expr0_0, expr1_0, expr2_0)?;
10043|      0|                        let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
10044|      0|                        return Some(expr4_0);
10045|      0|                    }
10046|      0|                }
10047|      8|            }
10048|      8|            if pattern2_0 == F64X2 {
10049|      0|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
10050|      0|                if let &InstructionData::Ternary { opcode: ref pattern6_0, args: ref pattern6_1 } = &pattern5_0 {
10051|      0|                    if let &Opcode::Fma  = pattern6_0 {
10052|      0|                        let (pattern8_0, pattern8_1, pattern8_2) = C::unpack_value_array_3(ctx, pattern6_1);
10053|       |                        // Rule at src/isa/x64/lower.isle line 2489.
10054|      0|                        let expr0_0 = constructor_put_in_xmm(ctx, pattern8_0)?;
10055|      0|                        let expr1_0 = constructor_put_in_xmm(ctx, pattern8_1)?;
10056|      0|                        let expr2_0 = constructor_put_in_xmm(ctx, pattern8_2)?;
10057|      0|                        let expr3_0 = constructor_x64_vfmadd213pd(ctx, expr0_0, expr1_0, expr2_0)?;
10058|      0|                        let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
10059|      0|                        return Some(expr4_0);
10060|      0|                    }
10061|      0|                }
10062|      8|            }
10063|      0|        }
10064|      8|        if let Some(()) = C::use_sse41(ctx, pattern2_0) {
10065|      8|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
10066|      8|            if let &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } = &pattern4_0 {
10067|      0|                match pattern5_0 {
10068|       |                    &Opcode::Ceil  => {
10069|      0|                        let pattern7_0 = C::value_type(ctx, pattern5_1);
10070|      0|                        if pattern7_0 == F32 {
10071|       |                            // Rule at src/isa/x64/lower.isle line 3335.
10072|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10073|      0|                            let expr1_0 = RoundImm::RoundUp;
10074|      0|                            let expr2_0 = constructor_x64_roundss(ctx, &expr0_0, &expr1_0)?;
10075|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10076|      0|                            return Some(expr3_0);
10077|      0|                        }
10078|      0|                        if pattern7_0 == F64 {
10079|       |                            // Rule at src/isa/x64/lower.isle line 3341.
10080|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10081|      0|                            let expr1_0 = RoundImm::RoundUp;
10082|      0|                            let expr2_0 = constructor_x64_roundsd(ctx, &expr0_0, &expr1_0)?;
10083|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10084|      0|                            return Some(expr3_0);
10085|      0|                        }
10086|      0|                        if pattern7_0 == F32X4 {
10087|       |                            // Rule at src/isa/x64/lower.isle line 3347.
10088|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10089|      0|                            let expr1_0 = RoundImm::RoundUp;
10090|      0|                            let expr2_0 = constructor_x64_roundps(ctx, &expr0_0, &expr1_0)?;
10091|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10092|      0|                            return Some(expr3_0);
10093|      0|                        }
10094|      0|                        if pattern7_0 == F64X2 {
10095|       |                            // Rule at src/isa/x64/lower.isle line 3350.
10096|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10097|      0|                            let expr1_0 = RoundImm::RoundUp;
10098|      0|                            let expr2_0 = constructor_x64_roundpd(ctx, &expr0_0, &expr1_0)?;
10099|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10100|      0|                            return Some(expr3_0);
10101|      0|                        }
10102|       |                    }
10103|       |                    &Opcode::Floor  => {
10104|      0|                        let pattern7_0 = C::value_type(ctx, pattern5_1);
10105|      0|                        if pattern7_0 == F32 {
10106|       |                            // Rule at src/isa/x64/lower.isle line 3355.
10107|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10108|      0|                            let expr1_0 = RoundImm::RoundDown;
10109|      0|                            let expr2_0 = constructor_x64_roundss(ctx, &expr0_0, &expr1_0)?;
10110|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10111|      0|                            return Some(expr3_0);
10112|      0|                        }
10113|      0|                        if pattern7_0 == F64 {
10114|       |                            // Rule at src/isa/x64/lower.isle line 3361.
10115|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10116|      0|                            let expr1_0 = RoundImm::RoundDown;
10117|      0|                            let expr2_0 = constructor_x64_roundsd(ctx, &expr0_0, &expr1_0)?;
10118|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10119|      0|                            return Some(expr3_0);
10120|      0|                        }
10121|      0|                        if pattern7_0 == F32X4 {
10122|       |                            // Rule at src/isa/x64/lower.isle line 3367.
10123|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10124|      0|                            let expr1_0 = RoundImm::RoundDown;
10125|      0|                            let expr2_0 = constructor_x64_roundps(ctx, &expr0_0, &expr1_0)?;
10126|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10127|      0|                            return Some(expr3_0);
10128|      0|                        }
10129|      0|                        if pattern7_0 == F64X2 {
10130|       |                            // Rule at src/isa/x64/lower.isle line 3370.
10131|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10132|      0|                            let expr1_0 = RoundImm::RoundDown;
10133|      0|                            let expr2_0 = constructor_x64_roundpd(ctx, &expr0_0, &expr1_0)?;
10134|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10135|      0|                            return Some(expr3_0);
10136|      0|                        }
10137|       |                    }
10138|       |                    &Opcode::Trunc  => {
10139|      0|                        let pattern7_0 = C::value_type(ctx, pattern5_1);
10140|      0|                        if pattern7_0 == F32 {
10141|       |                            // Rule at src/isa/x64/lower.isle line 3395.
10142|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10143|      0|                            let expr1_0 = RoundImm::RoundZero;
10144|      0|                            let expr2_0 = constructor_x64_roundss(ctx, &expr0_0, &expr1_0)?;
10145|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10146|      0|                            return Some(expr3_0);
10147|      0|                        }
10148|      0|                        if pattern7_0 == F64 {
10149|       |                            // Rule at src/isa/x64/lower.isle line 3401.
10150|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10151|      0|                            let expr1_0 = RoundImm::RoundZero;
10152|      0|                            let expr2_0 = constructor_x64_roundsd(ctx, &expr0_0, &expr1_0)?;
10153|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10154|      0|                            return Some(expr3_0);
10155|      0|                        }
10156|      0|                        if pattern7_0 == F32X4 {
10157|       |                            // Rule at src/isa/x64/lower.isle line 3407.
10158|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10159|      0|                            let expr1_0 = RoundImm::RoundZero;
10160|      0|                            let expr2_0 = constructor_x64_roundps(ctx, &expr0_0, &expr1_0)?;
10161|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10162|      0|                            return Some(expr3_0);
10163|      0|                        }
10164|      0|                        if pattern7_0 == F64X2 {
10165|       |                            // Rule at src/isa/x64/lower.isle line 3410.
10166|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10167|      0|                            let expr1_0 = RoundImm::RoundZero;
10168|      0|                            let expr2_0 = constructor_x64_roundpd(ctx, &expr0_0, &expr1_0)?;
10169|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10170|      0|                            return Some(expr3_0);
10171|      0|                        }
10172|       |                    }
10173|       |                    &Opcode::Nearest  => {
10174|      0|                        let pattern7_0 = C::value_type(ctx, pattern5_1);
10175|      0|                        if pattern7_0 == F32 {
10176|       |                            // Rule at src/isa/x64/lower.isle line 3375.
10177|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10178|      0|                            let expr1_0 = RoundImm::RoundNearest;
10179|      0|                            let expr2_0 = constructor_x64_roundss(ctx, &expr0_0, &expr1_0)?;
10180|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10181|      0|                            return Some(expr3_0);
10182|      0|                        }
10183|      0|                        if pattern7_0 == F64 {
10184|       |                            // Rule at src/isa/x64/lower.isle line 3381.
10185|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10186|      0|                            let expr1_0 = RoundImm::RoundNearest;
10187|      0|                            let expr2_0 = constructor_x64_roundsd(ctx, &expr0_0, &expr1_0)?;
10188|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10189|      0|                            return Some(expr3_0);
10190|      0|                        }
10191|      0|                        if pattern7_0 == F32X4 {
10192|       |                            // Rule at src/isa/x64/lower.isle line 3387.
10193|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10194|      0|                            let expr1_0 = RoundImm::RoundNearest;
10195|      0|                            let expr2_0 = constructor_x64_roundps(ctx, &expr0_0, &expr1_0)?;
10196|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10197|      0|                            return Some(expr3_0);
10198|      0|                        }
10199|      0|                        if pattern7_0 == F64X2 {
10200|       |                            // Rule at src/isa/x64/lower.isle line 3390.
10201|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern5_1);
10202|      0|                            let expr1_0 = RoundImm::RoundNearest;
10203|      0|                            let expr2_0 = constructor_x64_roundpd(ctx, &expr0_0, &expr1_0)?;
10204|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10205|      0|                            return Some(expr3_0);
10206|      0|                        }
10207|       |                    }
10208|      0|                    _ => {}
10209|       |                }
10210|      8|            }
10211|      0|        }
10212|      8|        if let Some((pattern3_0, pattern3_1)) = C::multi_lane(ctx, pattern2_0) {
10213|      0|            if pattern3_0 == 8i128 as u32  {
10214|      0|                if pattern3_1 == 16i128 as u32  {
10215|      0|                    let pattern6_0 = C::inst_data(ctx, pattern0_0);
10216|      0|                    match &pattern6_0 {
10217|      0|                        &InstructionData::Unary { opcode: ref pattern7_0, arg: pattern7_1 } => {
10218|      0|                            if let &Opcode::Splat  = pattern7_0 {
10219|       |                                // Rule at src/isa/x64/lower.isle line 3598.
10220|      0|                                let expr0_0: Type = I8X16;
10221|      0|                                let expr1_0 = constructor_xmm_uninit_value(ctx, )?;
10222|      0|                                let expr2_0 = C::put_in_reg_mem(ctx, pattern7_1);
10223|      0|                                let expr3_0: u8 = 0i128 as u8;
10224|      0|                                let expr4_0 = constructor_vec_insert_lane(ctx, expr0_0, expr1_0, &expr2_0, expr3_0)?;
10225|      0|                                let expr5_0 = C::xmm_to_xmm_mem(ctx, expr4_0);
10226|      0|                                let expr6_0 = constructor_x64_pxor(ctx, expr4_0, &expr5_0)?;
10227|      0|                                let expr7_0 = C::xmm_to_xmm_mem(ctx, expr6_0);
10228|      0|                                let expr8_0 = constructor_x64_pshufb(ctx, expr4_0, &expr7_0)?;
10229|      0|                                let expr9_0 = constructor_output_xmm(ctx, expr8_0)?;
10230|      0|                                return Some(expr9_0);
10231|      0|                            }
10232|       |                        }
10233|      0|                        &InstructionData::Binary { opcode: ref pattern7_0, args: ref pattern7_1 } => {
10234|      0|                            match pattern7_0 {
10235|       |                                &Opcode::AvgRound  => {
10236|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10237|       |                                    // Rule at src/isa/x64/lower.isle line 853.
10238|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10239|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10240|      0|                                    let expr2_0 = constructor_x64_pavgb(ctx, expr0_0, &expr1_0)?;
10241|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10242|      0|                                    return Some(expr3_0);
10243|       |                                }
10244|       |                                &Opcode::UaddSat  => {
10245|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10246|       |                                    // Rule at src/isa/x64/lower.isle line 141.
10247|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10248|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10249|      0|                                    let expr2_0 = constructor_x64_paddusb(ctx, expr0_0, &expr1_0)?;
10250|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10251|      0|                                    return Some(expr3_0);
10252|       |                                }
10253|       |                                &Opcode::SaddSat  => {
10254|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10255|       |                                    // Rule at src/isa/x64/lower.isle line 131.
10256|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10257|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10258|      0|                                    let expr2_0 = constructor_x64_paddsb(ctx, expr0_0, &expr1_0)?;
10259|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10260|      0|                                    return Some(expr3_0);
10261|       |                                }
10262|       |                                &Opcode::UsubSat  => {
10263|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10264|       |                                    // Rule at src/isa/x64/lower.isle line 256.
10265|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10266|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10267|      0|                                    let expr2_0 = constructor_x64_psubusb(ctx, expr0_0, &expr1_0)?;
10268|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10269|      0|                                    return Some(expr3_0);
10270|       |                                }
10271|       |                                &Opcode::SsubSat  => {
10272|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10273|       |                                    // Rule at src/isa/x64/lower.isle line 246.
10274|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10275|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10276|      0|                                    let expr2_0 = constructor_x64_psubsb(ctx, expr0_0, &expr1_0)?;
10277|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10278|      0|                                    return Some(expr3_0);
10279|       |                                }
10280|       |                                &Opcode::Iadd  => {
10281|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10282|       |                                    // Rule at src/isa/x64/lower.isle line 99.
10283|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10284|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10285|      0|                                    let expr2_0 = constructor_x64_paddb(ctx, expr0_0, &expr1_0)?;
10286|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10287|      0|                                    return Some(expr3_0);
10288|       |                                }
10289|       |                                &Opcode::Isub  => {
10290|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10291|       |                                    // Rule at src/isa/x64/lower.isle line 214.
10292|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10293|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10294|      0|                                    let expr2_0 = constructor_x64_psubb(ctx, expr0_0, &expr1_0)?;
10295|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10296|      0|                                    return Some(expr3_0);
10297|       |                                }
10298|      0|                                _ => {}
10299|       |                            }
10300|       |                        }
10301|      0|                        _ => {}
10302|       |                    }
10303|      0|                }
10304|      0|            }
10305|      0|            if pattern3_0 == 16i128 as u32  {
10306|      0|                if pattern3_1 == 8i128 as u32  {
10307|      0|                    let pattern6_0 = C::inst_data(ctx, pattern0_0);
10308|      0|                    match &pattern6_0 {
10309|      0|                        &InstructionData::Unary { opcode: ref pattern7_0, arg: pattern7_1 } => {
10310|      0|                            if let &Opcode::Splat  = pattern7_0 {
10311|       |                                // Rule at src/isa/x64/lower.isle line 3604.
10312|      0|                                let expr0_0 = C::put_in_reg(ctx, pattern7_1);
10313|      0|                                let expr1_0 = RegMem::Reg {
10314|      0|                                    reg: expr0_0,
10315|      0|                                };
10316|      0|                                let expr2_0: Type = I16X8;
10317|      0|                                let expr3_0 = constructor_xmm_uninit_value(ctx, )?;
10318|      0|                                let expr4_0: u8 = 0i128 as u8;
10319|      0|                                let expr5_0 = constructor_vec_insert_lane(ctx, expr2_0, expr3_0, &expr1_0, expr4_0)?;
10320|      0|                                let expr6_0: Type = I16X8;
10321|      0|                                let expr7_0: u8 = 1i128 as u8;
10322|      0|                                let expr8_0 = constructor_vec_insert_lane(ctx, expr6_0, expr5_0, &expr1_0, expr7_0)?;
10323|      0|                                let expr9_0 = C::xmm_to_xmm_mem(ctx, expr8_0);
10324|      0|                                let expr10_0: u8 = 0i128 as u8;
10325|      0|                                let expr11_0 = OperandSize::Size32;
10326|      0|                                let expr12_0 = constructor_x64_pshufd(ctx, &expr9_0, expr10_0, &expr11_0)?;
10327|      0|                                let expr13_0 = constructor_output_xmm(ctx, expr12_0)?;
10328|      0|                                return Some(expr13_0);
10329|      0|                            }
10330|       |                        }
10331|      0|                        &InstructionData::Binary { opcode: ref pattern7_0, args: ref pattern7_1 } => {
10332|      0|                            match pattern7_0 {
10333|       |                                &Opcode::AvgRound  => {
10334|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10335|       |                                    // Rule at src/isa/x64/lower.isle line 857.
10336|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10337|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10338|      0|                                    let expr2_0 = constructor_x64_pavgw(ctx, expr0_0, &expr1_0)?;
10339|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10340|      0|                                    return Some(expr3_0);
10341|       |                                }
10342|       |                                &Opcode::UaddSat  => {
10343|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10344|       |                                    // Rule at src/isa/x64/lower.isle line 145.
10345|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10346|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10347|      0|                                    let expr2_0 = constructor_x64_paddusw(ctx, expr0_0, &expr1_0)?;
10348|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10349|      0|                                    return Some(expr3_0);
10350|       |                                }
10351|       |                                &Opcode::SaddSat  => {
10352|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10353|       |                                    // Rule at src/isa/x64/lower.isle line 135.
10354|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10355|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10356|      0|                                    let expr2_0 = constructor_x64_paddsw(ctx, expr0_0, &expr1_0)?;
10357|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10358|      0|                                    return Some(expr3_0);
10359|       |                                }
10360|       |                                &Opcode::UsubSat  => {
10361|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10362|       |                                    // Rule at src/isa/x64/lower.isle line 260.
10363|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10364|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10365|      0|                                    let expr2_0 = constructor_x64_psubusw(ctx, expr0_0, &expr1_0)?;
10366|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10367|      0|                                    return Some(expr3_0);
10368|       |                                }
10369|       |                                &Opcode::SsubSat  => {
10370|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10371|       |                                    // Rule at src/isa/x64/lower.isle line 250.
10372|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10373|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10374|      0|                                    let expr2_0 = constructor_x64_psubsw(ctx, expr0_0, &expr1_0)?;
10375|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10376|      0|                                    return Some(expr3_0);
10377|       |                                }
10378|       |                                &Opcode::Iadd  => {
10379|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10380|       |                                    // Rule at src/isa/x64/lower.isle line 103.
10381|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10382|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10383|      0|                                    let expr2_0 = constructor_x64_paddw(ctx, expr0_0, &expr1_0)?;
10384|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10385|      0|                                    return Some(expr3_0);
10386|       |                                }
10387|       |                                &Opcode::Isub  => {
10388|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10389|       |                                    // Rule at src/isa/x64/lower.isle line 218.
10390|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10391|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10392|      0|                                    let expr2_0 = constructor_x64_psubw(ctx, expr0_0, &expr1_0)?;
10393|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10394|      0|                                    return Some(expr3_0);
10395|       |                                }
10396|       |                                &Opcode::Imul  => {
10397|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10398|      0|                                    if let Some(pattern10_0) = C::def_inst(ctx, pattern9_0) {
10399|      0|                                        let pattern11_0 = C::inst_data(ctx, pattern10_0);
10400|      0|                                        if let &InstructionData::Unary { opcode: ref pattern12_0, arg: pattern12_1 } = &pattern11_0 {
10401|      0|                                            match pattern12_0 {
10402|       |                                                &Opcode::SwidenLow  => {
10403|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10404|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10405|      0|                                                        if pattern15_0 == 8i128 as u32  {
10406|      0|                                                            if pattern15_1 == 16i128 as u32  {
10407|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10408|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10409|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10410|      0|                                                                        if let &Opcode::SwidenLow  = pattern20_0 {
10411|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10412|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10413|      0|                                                                                if pattern23_0 == 8i128 as u32  {
10414|      0|                                                                                    if pattern23_1 == 16i128 as u32  {
10415|       |                                                                                        // Rule at src/isa/x64/lower.isle line 1030.
10416|      0|                                                                                        let expr0_0 = C::put_in_xmm_mem(ctx, pattern12_1);
10417|      0|                                                                                        let expr1_0 = constructor_x64_pmovsxbw(ctx, &expr0_0)?;
10418|      0|                                                                                        let expr2_0 = C::put_in_xmm_mem(ctx, pattern20_1);
10419|      0|                                                                                        let expr3_0 = constructor_x64_pmovsxbw(ctx, &expr2_0)?;
10420|      0|                                                                                        let expr4_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
10421|      0|                                                                                        let expr5_0 = constructor_x64_pmullw(ctx, expr1_0, &expr4_0)?;
10422|      0|                                                                                        let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
10423|      0|                                                                                        return Some(expr6_0);
10424|      0|                                                                                    }
10425|      0|                                                                                }
10426|      0|                                                                            }
10427|      0|                                                                        }
10428|      0|                                                                    }
10429|      0|                                                                }
10430|      0|                                                            }
10431|      0|                                                        }
10432|      0|                                                    }
10433|       |                                                }
10434|       |                                                &Opcode::SwidenHigh  => {
10435|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10436|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10437|      0|                                                        if pattern15_0 == 8i128 as u32  {
10438|      0|                                                            if pattern15_1 == 16i128 as u32  {
10439|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10440|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10441|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10442|      0|                                                                        if let &Opcode::SwidenHigh  = pattern20_0 {
10443|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10444|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10445|      0|                                                                                if pattern23_0 == 8i128 as u32  {
10446|      0|                                                                                    if pattern23_1 == 16i128 as u32  {
10447|       |                                                                                        // Rule at src/isa/x64/lower.isle line 990.
10448|      0|                                                                                        let expr0_0 = constructor_put_in_xmm(ctx, pattern12_1)?;
10449|      0|                                                                                        let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
10450|      0|                                                                                        let expr2_0: u8 = 8i128 as u8;
10451|      0|                                                                                        let expr3_0 = OperandSize::Size32;
10452|      0|                                                                                        let expr4_0 = constructor_x64_palignr(ctx, expr0_0, &expr1_0, expr2_0, &expr3_0)?;
10453|      0|                                                                                        let expr5_0 = C::xmm_to_xmm_mem(ctx, expr4_0);
10454|      0|                                                                                        let expr6_0 = constructor_x64_pmovsxbw(ctx, &expr5_0)?;
10455|      0|                                                                                        let expr7_0 = constructor_put_in_xmm(ctx, pattern20_1)?;
10456|      0|                                                                                        let expr8_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
10457|      0|                                                                                        let expr9_0: u8 = 8i128 as u8;
10458|      0|                                                                                        let expr10_0 = OperandSize::Size32;
10459|      0|                                                                                        let expr11_0 = constructor_x64_palignr(ctx, expr7_0, &expr8_0, expr9_0, &expr10_0)?;
10460|      0|                                                                                        let expr12_0 = C::xmm_to_xmm_mem(ctx, expr11_0);
10461|      0|                                                                                        let expr13_0 = constructor_x64_pmovsxbw(ctx, &expr12_0)?;
10462|      0|                                                                                        let expr14_0 = C::xmm_to_xmm_mem(ctx, expr13_0);
10463|      0|                                                                                        let expr15_0 = constructor_x64_pmullw(ctx, expr6_0, &expr14_0)?;
10464|      0|                                                                                        let expr16_0 = constructor_output_xmm(ctx, expr15_0)?;
10465|      0|                                                                                        return Some(expr16_0);
10466|      0|                                                                                    }
10467|      0|                                                                                }
10468|      0|                                                                            }
10469|      0|                                                                        }
10470|      0|                                                                    }
10471|      0|                                                                }
10472|      0|                                                            }
10473|      0|                                                        }
10474|      0|                                                    }
10475|       |                                                }
10476|       |                                                &Opcode::UwidenLow  => {
10477|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10478|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10479|      0|                                                        if pattern15_0 == 8i128 as u32  {
10480|      0|                                                            if pattern15_1 == 16i128 as u32  {
10481|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10482|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10483|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10484|      0|                                                                        if let &Opcode::UwidenLow  = pattern20_0 {
10485|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10486|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10487|      0|                                                                                if pattern23_0 == 8i128 as u32  {
10488|      0|                                                                                    if pattern23_1 == 16i128 as u32  {
10489|       |                                                                                        // Rule at src/isa/x64/lower.isle line 1106.
10490|      0|                                                                                        let expr0_0 = C::put_in_xmm_mem(ctx, pattern12_1);
10491|      0|                                                                                        let expr1_0 = constructor_x64_pmovzxbw(ctx, &expr0_0)?;
10492|      0|                                                                                        let expr2_0 = C::put_in_xmm_mem(ctx, pattern20_1);
10493|      0|                                                                                        let expr3_0 = constructor_x64_pmovzxbw(ctx, &expr2_0)?;
10494|      0|                                                                                        let expr4_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
10495|      0|                                                                                        let expr5_0 = constructor_x64_pmullw(ctx, expr1_0, &expr4_0)?;
10496|      0|                                                                                        let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
10497|      0|                                                                                        return Some(expr6_0);
10498|      0|                                                                                    }
10499|      0|                                                                                }
10500|      0|                                                                            }
10501|      0|                                                                        }
10502|      0|                                                                    }
10503|      0|                                                                }
10504|      0|                                                            }
10505|      0|                                                        }
10506|      0|                                                    }
10507|       |                                                }
10508|       |                                                &Opcode::UwidenHigh  => {
10509|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10510|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10511|      0|                                                        if pattern15_0 == 8i128 as u32  {
10512|      0|                                                            if pattern15_1 == 16i128 as u32  {
10513|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10514|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10515|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10516|      0|                                                                        if let &Opcode::UwidenHigh  = pattern20_0 {
10517|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10518|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10519|      0|                                                                                if pattern23_0 == 8i128 as u32  {
10520|      0|                                                                                    if pattern23_1 == 16i128 as u32  {
10521|       |                                                                                        // Rule at src/isa/x64/lower.isle line 1066.
10522|      0|                                                                                        let expr0_0 = constructor_put_in_xmm(ctx, pattern12_1)?;
10523|      0|                                                                                        let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
10524|      0|                                                                                        let expr2_0: u8 = 8i128 as u8;
10525|      0|                                                                                        let expr3_0 = OperandSize::Size32;
10526|      0|                                                                                        let expr4_0 = constructor_x64_palignr(ctx, expr0_0, &expr1_0, expr2_0, &expr3_0)?;
10527|      0|                                                                                        let expr5_0 = C::xmm_to_xmm_mem(ctx, expr4_0);
10528|      0|                                                                                        let expr6_0 = constructor_x64_pmovzxbw(ctx, &expr5_0)?;
10529|      0|                                                                                        let expr7_0 = constructor_put_in_xmm(ctx, pattern20_1)?;
10530|      0|                                                                                        let expr8_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
10531|      0|                                                                                        let expr9_0: u8 = 8i128 as u8;
10532|      0|                                                                                        let expr10_0 = OperandSize::Size32;
10533|      0|                                                                                        let expr11_0 = constructor_x64_palignr(ctx, expr7_0, &expr8_0, expr9_0, &expr10_0)?;
10534|      0|                                                                                        let expr12_0 = C::xmm_to_xmm_mem(ctx, expr11_0);
10535|      0|                                                                                        let expr13_0 = constructor_x64_pmovzxbw(ctx, &expr12_0)?;
10536|      0|                                                                                        let expr14_0 = C::xmm_to_xmm_mem(ctx, expr13_0);
10537|      0|                                                                                        let expr15_0 = constructor_x64_pmullw(ctx, expr6_0, &expr14_0)?;
10538|      0|                                                                                        let expr16_0 = constructor_output_xmm(ctx, expr15_0)?;
10539|      0|                                                                                        return Some(expr16_0);
10540|      0|                                                                                    }
10541|      0|                                                                                }
10542|      0|                                                                            }
10543|      0|                                                                        }
10544|      0|                                                                    }
10545|      0|                                                                }
10546|      0|                                                            }
10547|      0|                                                        }
10548|      0|                                                    }
10549|       |                                                }
10550|      0|                                                _ => {}
10551|       |                                            }
10552|      0|                                        }
10553|      0|                                    }
10554|       |                                    // Rule at src/isa/x64/lower.isle line 934.
10555|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10556|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10557|      0|                                    let expr2_0 = constructor_x64_pmullw(ctx, expr0_0, &expr1_0)?;
10558|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10559|      0|                                    return Some(expr3_0);
10560|       |                                }
10561|      0|                                _ => {}
10562|       |                            }
10563|       |                        }
10564|      0|                        _ => {}
10565|       |                    }
10566|      0|                }
10567|      0|            }
10568|      0|            if pattern3_0 == 32i128 as u32  {
10569|      0|                if pattern3_1 == 4i128 as u32  {
10570|      0|                    let pattern6_0 = C::inst_data(ctx, pattern0_0);
10571|      0|                    match &pattern6_0 {
10572|      0|                        &InstructionData::Unary { opcode: ref pattern7_0, arg: pattern7_1 } => {
10573|      0|                            if let &Opcode::Splat  = pattern7_0 {
10574|      0|                                let pattern9_0 = C::value_type(ctx, pattern7_1);
10575|      0|                                if let Some(pattern10_0) = C::ty_scalar_float(ctx, pattern9_0) {
10576|       |                                    // Rule at src/isa/x64/lower.isle line 3613.
10577|      0|                                    let expr0_0: Type = F32X4;
10578|      0|                                    let expr1_0 = constructor_lower_splat_32x4(ctx, expr0_0, pattern7_1)?;
10579|      0|                                    let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
10580|      0|                                    return Some(expr2_0);
10581|      0|                                }
10582|      0|                                // Rule at src/isa/x64/lower.isle line 3616.
10583|      0|                                let expr0_0: Type = I32X4;
10584|      0|                                let expr1_0 = constructor_lower_splat_32x4(ctx, expr0_0, pattern7_1)?;
10585|      0|                                let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
10586|      0|                                return Some(expr2_0);
10587|      0|                            }
10588|       |                        }
10589|      0|                        &InstructionData::Binary { opcode: ref pattern7_0, args: ref pattern7_1 } => {
10590|      0|                            match pattern7_0 {
10591|       |                                &Opcode::Iadd  => {
10592|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10593|       |                                    // Rule at src/isa/x64/lower.isle line 107.
10594|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10595|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10596|      0|                                    let expr2_0 = constructor_x64_paddd(ctx, expr0_0, &expr1_0)?;
10597|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10598|      0|                                    return Some(expr3_0);
10599|       |                                }
10600|       |                                &Opcode::Isub  => {
10601|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10602|       |                                    // Rule at src/isa/x64/lower.isle line 222.
10603|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10604|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10605|      0|                                    let expr2_0 = constructor_x64_psubd(ctx, expr0_0, &expr1_0)?;
10606|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10607|      0|                                    return Some(expr3_0);
10608|       |                                }
10609|       |                                &Opcode::Imul  => {
10610|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10611|      0|                                    if let Some(pattern10_0) = C::def_inst(ctx, pattern9_0) {
10612|      0|                                        let pattern11_0 = C::inst_data(ctx, pattern10_0);
10613|      0|                                        if let &InstructionData::Unary { opcode: ref pattern12_0, arg: pattern12_1 } = &pattern11_0 {
10614|      0|                                            match pattern12_0 {
10615|       |                                                &Opcode::SwidenLow  => {
10616|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10617|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10618|      0|                                                        if pattern15_0 == 16i128 as u32  {
10619|      0|                                                            if pattern15_1 == 8i128 as u32  {
10620|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10621|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10622|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10623|      0|                                                                        if let &Opcode::SwidenLow  = pattern20_0 {
10624|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10625|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10626|      0|                                                                                if pattern23_0 == 16i128 as u32  {
10627|      0|                                                                                    if pattern23_1 == 8i128 as u32  {
10628|       |                                                                                        // Rule at src/isa/x64/lower.isle line 1040.
10629|      0|                                                                                        let expr0_0 = constructor_put_in_xmm(ctx, pattern12_1)?;
10630|      0|                                                                                        let expr1_0 = constructor_put_in_xmm(ctx, pattern20_1)?;
10631|      0|                                                                                        let expr2_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
10632|      0|                                                                                        let expr3_0 = constructor_x64_pmullw(ctx, expr0_0, &expr2_0)?;
10633|      0|                                                                                        let expr4_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
10634|      0|                                                                                        let expr5_0 = constructor_x64_pmulhw(ctx, expr0_0, &expr4_0)?;
10635|      0|                                                                                        let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
10636|      0|                                                                                        let expr7_0 = constructor_x64_punpcklwd(ctx, expr3_0, &expr6_0)?;
10637|      0|                                                                                        let expr8_0 = constructor_output_xmm(ctx, expr7_0)?;
10638|      0|                                                                                        return Some(expr8_0);
10639|      0|                                                                                    }
10640|      0|                                                                                }
10641|      0|                                                                            }
10642|      0|                                                                        }
10643|      0|                                                                    }
10644|      0|                                                                }
10645|      0|                                                            }
10646|      0|                                                        }
10647|      0|                                                    }
10648|       |                                                }
10649|       |                                                &Opcode::SwidenHigh  => {
10650|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10651|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10652|      0|                                                        if pattern15_0 == 16i128 as u32  {
10653|      0|                                                            if pattern15_1 == 8i128 as u32  {
10654|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10655|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10656|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10657|      0|                                                                        if let &Opcode::SwidenHigh  = pattern20_0 {
10658|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10659|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10660|      0|                                                                                if pattern23_0 == 16i128 as u32  {
10661|      0|                                                                                    if pattern23_1 == 8i128 as u32  {
10662|       |                                                                                        // Rule at src/isa/x64/lower.isle line 1004.
10663|      0|                                                                                        let expr0_0 = constructor_put_in_xmm(ctx, pattern12_1)?;
10664|      0|                                                                                        let expr1_0 = constructor_put_in_xmm(ctx, pattern20_1)?;
10665|      0|                                                                                        let expr2_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
10666|      0|                                                                                        let expr3_0 = constructor_x64_pmullw(ctx, expr0_0, &expr2_0)?;
10667|      0|                                                                                        let expr4_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
10668|      0|                                                                                        let expr5_0 = constructor_x64_pmulhw(ctx, expr0_0, &expr4_0)?;
10669|      0|                                                                                        let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
10670|      0|                                                                                        let expr7_0 = constructor_x64_punpckhwd(ctx, expr3_0, &expr6_0)?;
10671|      0|                                                                                        let expr8_0 = constructor_output_xmm(ctx, expr7_0)?;
10672|      0|                                                                                        return Some(expr8_0);
10673|      0|                                                                                    }
10674|      0|                                                                                }
10675|      0|                                                                            }
10676|      0|                                                                        }
10677|      0|                                                                    }
10678|      0|                                                                }
10679|      0|                                                            }
10680|      0|                                                        }
10681|      0|                                                    }
10682|       |                                                }
10683|       |                                                &Opcode::UwidenLow  => {
10684|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10685|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10686|      0|                                                        if pattern15_0 == 16i128 as u32  {
10687|      0|                                                            if pattern15_1 == 8i128 as u32  {
10688|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10689|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10690|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10691|      0|                                                                        if let &Opcode::UwidenLow  = pattern20_0 {
10692|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10693|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10694|      0|                                                                                if pattern23_0 == 16i128 as u32  {
10695|      0|                                                                                    if pattern23_1 == 8i128 as u32  {
10696|       |                                                                                        // Rule at src/isa/x64/lower.isle line 1116.
10697|      0|                                                                                        let expr0_0 = constructor_put_in_xmm(ctx, pattern12_1)?;
10698|      0|                                                                                        let expr1_0 = constructor_put_in_xmm(ctx, pattern20_1)?;
10699|      0|                                                                                        let expr2_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
10700|      0|                                                                                        let expr3_0 = constructor_x64_pmullw(ctx, expr0_0, &expr2_0)?;
10701|      0|                                                                                        let expr4_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
10702|      0|                                                                                        let expr5_0 = constructor_x64_pmulhuw(ctx, expr0_0, &expr4_0)?;
10703|      0|                                                                                        let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
10704|      0|                                                                                        let expr7_0 = constructor_x64_punpcklwd(ctx, expr3_0, &expr6_0)?;
10705|      0|                                                                                        let expr8_0 = constructor_output_xmm(ctx, expr7_0)?;
10706|      0|                                                                                        return Some(expr8_0);
10707|      0|                                                                                    }
10708|      0|                                                                                }
10709|      0|                                                                            }
10710|      0|                                                                        }
10711|      0|                                                                    }
10712|      0|                                                                }
10713|      0|                                                            }
10714|      0|                                                        }
10715|      0|                                                    }
10716|       |                                                }
10717|       |                                                &Opcode::UwidenHigh  => {
10718|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10719|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10720|      0|                                                        if pattern15_0 == 16i128 as u32  {
10721|      0|                                                            if pattern15_1 == 8i128 as u32  {
10722|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10723|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10724|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10725|      0|                                                                        if let &Opcode::UwidenHigh  = pattern20_0 {
10726|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10727|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10728|      0|                                                                                if pattern23_0 == 16i128 as u32  {
10729|      0|                                                                                    if pattern23_1 == 8i128 as u32  {
10730|       |                                                                                        // Rule at src/isa/x64/lower.isle line 1080.
10731|      0|                                                                                        let expr0_0 = constructor_put_in_xmm(ctx, pattern12_1)?;
10732|      0|                                                                                        let expr1_0 = constructor_put_in_xmm(ctx, pattern20_1)?;
10733|      0|                                                                                        let expr2_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
10734|      0|                                                                                        let expr3_0 = constructor_x64_pmullw(ctx, expr0_0, &expr2_0)?;
10735|      0|                                                                                        let expr4_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
10736|      0|                                                                                        let expr5_0 = constructor_x64_pmulhuw(ctx, expr0_0, &expr4_0)?;
10737|      0|                                                                                        let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
10738|      0|                                                                                        let expr7_0 = constructor_x64_punpckhwd(ctx, expr3_0, &expr6_0)?;
10739|      0|                                                                                        let expr8_0 = constructor_output_xmm(ctx, expr7_0)?;
10740|      0|                                                                                        return Some(expr8_0);
10741|      0|                                                                                    }
10742|      0|                                                                                }
10743|      0|                                                                            }
10744|      0|                                                                        }
10745|      0|                                                                    }
10746|      0|                                                                }
10747|      0|                                                            }
10748|      0|                                                        }
10749|      0|                                                    }
10750|       |                                                }
10751|      0|                                                _ => {}
10752|       |                                            }
10753|      0|                                        }
10754|      0|                                    }
10755|       |                                    // Rule at src/isa/x64/lower.isle line 937.
10756|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10757|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10758|      0|                                    let expr2_0 = constructor_x64_pmulld(ctx, expr0_0, &expr1_0)?;
10759|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10760|      0|                                    return Some(expr3_0);
10761|       |                                }
10762|      0|                                _ => {}
10763|       |                            }
10764|       |                        }
10765|      0|                        _ => {}
10766|       |                    }
10767|      0|                }
10768|      0|            }
10769|      0|            if pattern3_0 == 64i128 as u32  {
10770|      0|                if pattern3_1 == 2i128 as u32  {
10771|      0|                    let pattern6_0 = C::inst_data(ctx, pattern0_0);
10772|      0|                    match &pattern6_0 {
10773|      0|                        &InstructionData::Unary { opcode: ref pattern7_0, arg: pattern7_1 } => {
10774|      0|                            if let &Opcode::Splat  = pattern7_0 {
10775|      0|                                let pattern9_0 = C::value_type(ctx, pattern7_1);
10776|      0|                                if let Some(pattern10_0) = C::ty_scalar_float(ctx, pattern9_0) {
10777|       |                                    // Rule at src/isa/x64/lower.isle line 3626.
10778|      0|                                    let expr0_0: Type = F64X2;
10779|      0|                                    let expr1_0 = constructor_lower_splat_64x2(ctx, expr0_0, pattern7_1)?;
10780|      0|                                    let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
10781|      0|                                    return Some(expr2_0);
10782|      0|                                }
10783|      0|                                // Rule at src/isa/x64/lower.isle line 3629.
10784|      0|                                let expr0_0: Type = I64X2;
10785|      0|                                let expr1_0 = constructor_lower_splat_64x2(ctx, expr0_0, pattern7_1)?;
10786|      0|                                let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
10787|      0|                                return Some(expr2_0);
10788|      0|                            }
10789|       |                        }
10790|      0|                        &InstructionData::Binary { opcode: ref pattern7_0, args: ref pattern7_1 } => {
10791|      0|                            match pattern7_0 {
10792|       |                                &Opcode::Iadd  => {
10793|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10794|       |                                    // Rule at src/isa/x64/lower.isle line 111.
10795|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10796|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10797|      0|                                    let expr2_0 = constructor_x64_paddq(ctx, expr0_0, &expr1_0)?;
10798|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10799|      0|                                    return Some(expr3_0);
10800|       |                                }
10801|       |                                &Opcode::Isub  => {
10802|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10803|       |                                    // Rule at src/isa/x64/lower.isle line 226.
10804|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10805|      0|                                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern9_1);
10806|      0|                                    let expr2_0 = constructor_x64_psubq(ctx, expr0_0, &expr1_0)?;
10807|      0|                                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
10808|      0|                                    return Some(expr3_0);
10809|       |                                }
10810|       |                                &Opcode::Imul  => {
10811|      0|                                    let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
10812|      0|                                    if let Some(pattern10_0) = C::def_inst(ctx, pattern9_0) {
10813|      0|                                        let pattern11_0 = C::inst_data(ctx, pattern10_0);
10814|      0|                                        if let &InstructionData::Unary { opcode: ref pattern12_0, arg: pattern12_1 } = &pattern11_0 {
10815|      0|                                            match pattern12_0 {
10816|       |                                                &Opcode::SwidenLow  => {
10817|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10818|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10819|      0|                                                        if pattern15_0 == 32i128 as u32  {
10820|      0|                                                            if pattern15_1 == 4i128 as u32  {
10821|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10822|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10823|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10824|      0|                                                                        if let &Opcode::SwidenLow  = pattern20_0 {
10825|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10826|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10827|      0|                                                                                if pattern23_0 == 32i128 as u32  {
10828|      0|                                                                                    if pattern23_1 == 4i128 as u32  {
10829|       |                                                                                        // Rule at src/isa/x64/lower.isle line 1052.
10830|      0|                                                                                        let expr0_0 = C::put_in_xmm_mem(ctx, pattern12_1);
10831|      0|                                                                                        let expr1_0: u8 = 80i128 as u8;
10832|      0|                                                                                        let expr2_0 = OperandSize::Size32;
10833|      0|                                                                                        let expr3_0 = constructor_x64_pshufd(ctx, &expr0_0, expr1_0, &expr2_0)?;
10834|      0|                                                                                        let expr4_0 = C::put_in_xmm_mem(ctx, pattern20_1);
10835|      0|                                                                                        let expr5_0: u8 = 80i128 as u8;
10836|      0|                                                                                        let expr6_0 = OperandSize::Size32;
10837|      0|                                                                                        let expr7_0 = constructor_x64_pshufd(ctx, &expr4_0, expr5_0, &expr6_0)?;
10838|      0|                                                                                        let expr8_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
10839|      0|                                                                                        let expr9_0 = constructor_x64_pmuldq(ctx, expr3_0, &expr8_0)?;
10840|      0|                                                                                        let expr10_0 = constructor_output_xmm(ctx, expr9_0)?;
10841|      0|                                                                                        return Some(expr10_0);
10842|      0|                                                                                    }
10843|      0|                                                                                }
10844|      0|                                                                            }
10845|      0|                                                                        }
10846|      0|                                                                    }
10847|      0|                                                                }
10848|      0|                                                            }
10849|      0|                                                        }
10850|      0|                                                    }
10851|       |                                                }
10852|       |                                                &Opcode::SwidenHigh  => {
10853|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10854|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10855|      0|                                                        if pattern15_0 == 32i128 as u32  {
10856|      0|                                                            if pattern15_1 == 4i128 as u32  {
10857|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10858|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10859|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10860|      0|                                                                        if let &Opcode::SwidenHigh  = pattern20_0 {
10861|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10862|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10863|      0|                                                                                if pattern23_0 == 32i128 as u32  {
10864|      0|                                                                                    if pattern23_1 == 4i128 as u32  {
10865|       |                                                                                        // Rule at src/isa/x64/lower.isle line 1016.
10866|      0|                                                                                        let expr0_0 = C::put_in_xmm_mem(ctx, pattern12_1);
10867|      0|                                                                                        let expr1_0: u8 = 250i128 as u8;
10868|      0|                                                                                        let expr2_0 = OperandSize::Size32;
10869|      0|                                                                                        let expr3_0 = constructor_x64_pshufd(ctx, &expr0_0, expr1_0, &expr2_0)?;
10870|      0|                                                                                        let expr4_0 = C::put_in_xmm_mem(ctx, pattern20_1);
10871|      0|                                                                                        let expr5_0: u8 = 250i128 as u8;
10872|      0|                                                                                        let expr6_0 = OperandSize::Size32;
10873|      0|                                                                                        let expr7_0 = constructor_x64_pshufd(ctx, &expr4_0, expr5_0, &expr6_0)?;
10874|      0|                                                                                        let expr8_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
10875|      0|                                                                                        let expr9_0 = constructor_x64_pmuldq(ctx, expr3_0, &expr8_0)?;
10876|      0|                                                                                        let expr10_0 = constructor_output_xmm(ctx, expr9_0)?;
10877|      0|                                                                                        return Some(expr10_0);
10878|      0|                                                                                    }
10879|      0|                                                                                }
10880|      0|                                                                            }
10881|      0|                                                                        }
10882|      0|                                                                    }
10883|      0|                                                                }
10884|      0|                                                            }
10885|      0|                                                        }
10886|      0|                                                    }
10887|       |                                                }
10888|       |                                                &Opcode::UwidenLow  => {
10889|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10890|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10891|      0|                                                        if pattern15_0 == 32i128 as u32  {
10892|      0|                                                            if pattern15_1 == 4i128 as u32  {
10893|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10894|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10895|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10896|      0|                                                                        if let &Opcode::UwidenLow  = pattern20_0 {
10897|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10898|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10899|      0|                                                                                if pattern23_0 == 32i128 as u32  {
10900|      0|                                                                                    if pattern23_1 == 4i128 as u32  {
10901|       |                                                                                        // Rule at src/isa/x64/lower.isle line 1128.
10902|      0|                                                                                        let expr0_0 = C::put_in_xmm_mem(ctx, pattern12_1);
10903|      0|                                                                                        let expr1_0: u8 = 80i128 as u8;
10904|      0|                                                                                        let expr2_0 = OperandSize::Size32;
10905|      0|                                                                                        let expr3_0 = constructor_x64_pshufd(ctx, &expr0_0, expr1_0, &expr2_0)?;
10906|      0|                                                                                        let expr4_0 = C::put_in_xmm_mem(ctx, pattern20_1);
10907|      0|                                                                                        let expr5_0: u8 = 80i128 as u8;
10908|      0|                                                                                        let expr6_0 = OperandSize::Size32;
10909|      0|                                                                                        let expr7_0 = constructor_x64_pshufd(ctx, &expr4_0, expr5_0, &expr6_0)?;
10910|      0|                                                                                        let expr8_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
10911|      0|                                                                                        let expr9_0 = constructor_x64_pmuludq(ctx, expr3_0, &expr8_0)?;
10912|      0|                                                                                        let expr10_0 = constructor_output_xmm(ctx, expr9_0)?;
10913|      0|                                                                                        return Some(expr10_0);
10914|      0|                                                                                    }
10915|      0|                                                                                }
10916|      0|                                                                            }
10917|      0|                                                                        }
10918|      0|                                                                    }
10919|      0|                                                                }
10920|      0|                                                            }
10921|      0|                                                        }
10922|      0|                                                    }
10923|       |                                                }
10924|       |                                                &Opcode::UwidenHigh  => {
10925|      0|                                                    let pattern14_0 = C::value_type(ctx, pattern12_1);
10926|      0|                                                    if let Some((pattern15_0, pattern15_1)) = C::multi_lane(ctx, pattern14_0) {
10927|      0|                                                        if pattern15_0 == 32i128 as u32  {
10928|      0|                                                            if pattern15_1 == 4i128 as u32  {
10929|      0|                                                                if let Some(pattern18_0) = C::def_inst(ctx, pattern9_1) {
10930|      0|                                                                    let pattern19_0 = C::inst_data(ctx, pattern18_0);
10931|      0|                                                                    if let &InstructionData::Unary { opcode: ref pattern20_0, arg: pattern20_1 } = &pattern19_0 {
10932|      0|                                                                        if let &Opcode::UwidenHigh  = pattern20_0 {
10933|      0|                                                                            let pattern22_0 = C::value_type(ctx, pattern20_1);
10934|      0|                                                                            if let Some((pattern23_0, pattern23_1)) = C::multi_lane(ctx, pattern22_0) {
10935|      0|                                                                                if pattern23_0 == 32i128 as u32  {
10936|      0|                                                                                    if pattern23_1 == 4i128 as u32  {
10937|       |                                                                                        // Rule at src/isa/x64/lower.isle line 1092.
10938|      0|                                                                                        let expr0_0 = C::put_in_xmm_mem(ctx, pattern12_1);
10939|      0|                                                                                        let expr1_0: u8 = 250i128 as u8;
10940|      0|                                                                                        let expr2_0 = OperandSize::Size32;
10941|      0|                                                                                        let expr3_0 = constructor_x64_pshufd(ctx, &expr0_0, expr1_0, &expr2_0)?;
10942|      0|                                                                                        let expr4_0 = C::put_in_xmm_mem(ctx, pattern20_1);
10943|      0|                                                                                        let expr5_0: u8 = 250i128 as u8;
10944|      0|                                                                                        let expr6_0 = OperandSize::Size32;
10945|      0|                                                                                        let expr7_0 = constructor_x64_pshufd(ctx, &expr4_0, expr5_0, &expr6_0)?;
10946|      0|                                                                                        let expr8_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
10947|      0|                                                                                        let expr9_0 = constructor_x64_pmuludq(ctx, expr3_0, &expr8_0)?;
10948|      0|                                                                                        let expr10_0 = constructor_output_xmm(ctx, expr9_0)?;
10949|      0|                                                                                        return Some(expr10_0);
10950|      0|                                                                                    }
10951|      0|                                                                                }
10952|      0|                                                                            }
10953|      0|                                                                        }
10954|      0|                                                                    }
10955|      0|                                                                }
10956|      0|                                                            }
10957|      0|                                                        }
10958|      0|                                                    }
10959|       |                                                }
10960|      0|                                                _ => {}
10961|       |                                            }
10962|      0|                                        }
10963|      0|                                    }
10964|       |                                    // Rule at src/isa/x64/lower.isle line 968.
10965|      0|                                    let expr0_0 = constructor_put_in_xmm(ctx, pattern9_0)?;
10966|      0|                                    let expr1_0 = constructor_put_in_xmm(ctx, pattern9_1)?;
10967|      0|                                    let expr2_0: u32 = 32i128 as u32;
10968|      0|                                    let expr3_0 = RegMemImm::Imm {
10969|      0|                                        simm32: expr2_0,
10970|      0|                                    };
10971|      0|                                    let expr4_0 = constructor_mov_rmi_to_xmm(ctx, &expr3_0)?;
10972|      0|                                    let expr5_0 = constructor_x64_psrlq(ctx, expr0_0, &expr4_0)?;
10973|      0|                                    let expr6_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
10974|      0|                                    let expr7_0 = constructor_x64_pmuludq(ctx, expr5_0, &expr6_0)?;
10975|      0|                                    let expr8_0: u32 = 32i128 as u32;
10976|      0|                                    let expr9_0 = RegMemImm::Imm {
10977|      0|                                        simm32: expr8_0,
10978|      0|                                    };
10979|      0|                                    let expr10_0 = constructor_mov_rmi_to_xmm(ctx, &expr9_0)?;
10980|      0|                                    let expr11_0 = constructor_x64_psrlq(ctx, expr1_0, &expr10_0)?;
10981|      0|                                    let expr12_0 = C::xmm_to_xmm_mem(ctx, expr11_0);
10982|      0|                                    let expr13_0 = constructor_x64_pmuludq(ctx, expr0_0, &expr12_0)?;
10983|      0|                                    let expr14_0 = C::xmm_to_xmm_mem(ctx, expr13_0);
10984|      0|                                    let expr15_0 = constructor_x64_paddq(ctx, expr7_0, &expr14_0)?;
10985|      0|                                    let expr16_0: u32 = 32i128 as u32;
10986|      0|                                    let expr17_0 = RegMemImm::Imm {
10987|      0|                                        simm32: expr16_0,
10988|      0|                                    };
10989|      0|                                    let expr18_0 = constructor_mov_rmi_to_xmm(ctx, &expr17_0)?;
10990|      0|                                    let expr19_0 = constructor_x64_psllq(ctx, expr15_0, &expr18_0)?;
10991|      0|                                    let expr20_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
10992|      0|                                    let expr21_0 = constructor_x64_pmuludq(ctx, expr0_0, &expr20_0)?;
10993|      0|                                    let expr22_0 = C::xmm_to_xmm_mem(ctx, expr19_0);
10994|      0|                                    let expr23_0 = constructor_x64_paddq(ctx, expr21_0, &expr22_0)?;
10995|      0|                                    let expr24_0 = constructor_output_xmm(ctx, expr23_0)?;
10996|      0|                                    return Some(expr24_0);
10997|       |                                }
10998|      0|                                _ => {}
10999|       |                            }
11000|       |                        }
11001|      0|                        _ => {}
11002|       |                    }
11003|      0|                }
11004|      0|            }
11005|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
11006|      0|            match &pattern4_0 {
11007|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
11008|      0|                    if let &Opcode::Bnot  = pattern5_0 {
11009|       |                        // Rule at src/isa/x64/lower.isle line 1248.
11010|      0|                        let expr0_0 = constructor_put_in_xmm(ctx, pattern5_1)?;
11011|      0|                        let expr1_0 = constructor_vector_all_ones(ctx, )?;
11012|      0|                        let expr2_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
11013|      0|                        let expr3_0 = constructor_sse_xor(ctx, pattern2_0, expr0_0, &expr2_0)?;
11014|      0|                        let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
11015|      0|                        return Some(expr4_0);
11016|      0|                    }
11017|       |                }
11018|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
11019|      0|                    match pattern5_0 {
11020|       |                        &Opcode::Band  => {
11021|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11022|       |                            // Rule at src/isa/x64/lower.isle line 302.
11023|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
11024|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
11025|      0|                            let expr2_0 = constructor_sse_and(ctx, pattern2_0, expr0_0, &expr1_0)?;
11026|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
11027|      0|                            return Some(expr3_0);
11028|       |                        }
11029|       |                        &Opcode::Bor  => {
11030|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11031|       |                            // Rule at src/isa/x64/lower.isle line 366.
11032|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
11033|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
11034|      0|                            let expr2_0 = constructor_sse_or(ctx, pattern2_0, expr0_0, &expr1_0)?;
11035|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
11036|      0|                            return Some(expr3_0);
11037|       |                        }
11038|       |                        &Opcode::Bxor  => {
11039|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11040|       |                            // Rule at src/isa/x64/lower.isle line 427.
11041|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
11042|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
11043|      0|                            let expr2_0 = constructor_sse_xor(ctx, pattern2_0, expr0_0, &expr1_0)?;
11044|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
11045|      0|                            return Some(expr3_0);
11046|       |                        }
11047|      0|                        _ => {}
11048|       |                    }
11049|       |                }
11050|      0|                &InstructionData::Ternary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
11051|      0|                    match pattern5_0 {
11052|       |                        &Opcode::Bitselect  => {
11053|      0|                            let (pattern7_0, pattern7_1, pattern7_2) = C::unpack_value_array_3(ctx, pattern5_1);
11054|       |                            // Rule at src/isa/x64/lower.isle line 1253.
11055|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern7_0)?;
11056|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
11057|      0|                            let expr2_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
11058|      0|                            let expr3_0 = constructor_sse_and(ctx, pattern2_0, expr1_0, &expr2_0)?;
11059|      0|                            let expr4_0 = C::put_in_xmm_mem(ctx, pattern7_2);
11060|      0|                            let expr5_0 = constructor_sse_and_not(ctx, pattern2_0, expr0_0, &expr4_0)?;
11061|      0|                            let expr6_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
11062|      0|                            let expr7_0 = constructor_sse_or(ctx, pattern2_0, expr5_0, &expr6_0)?;
11063|      0|                            let expr8_0 = constructor_output_xmm(ctx, expr7_0)?;
11064|      0|                            return Some(expr8_0);
11065|       |                        }
11066|       |                        &Opcode::Vselect  => {
11067|      0|                            let (pattern7_0, pattern7_1, pattern7_2) = C::unpack_value_array_3(ctx, pattern5_1);
11068|      0|                            // Rule at src/isa/x64/lower.isle line 1267.
11069|      0|                            let expr0_0 = C::put_in_xmm_mem(ctx, pattern7_0);
11070|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern7_1);
11071|      0|                            let expr2_0 = constructor_put_in_xmm(ctx, pattern7_2)?;
11072|      0|                            let expr3_0 = constructor_x64_blend(ctx, pattern2_0, &expr0_0, &expr1_0, expr2_0)?;
11073|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
11074|      0|                            return Some(expr4_0);
11075|       |                        }
11076|      0|                        _ => {}
11077|       |                    }
11078|       |                }
11079|      0|                _ => {}
11080|       |            }
11081|      8|        }
11082|      8|        if let Some(pattern3_0) = C::fits_in_32(ctx, pattern2_0) {
11083|      5|            if let Some(pattern4_0) = C::ty_int(ctx, pattern2_0) {
11084|      5|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
11085|      5|                if let &InstructionData::LoadNoOffset { opcode: ref pattern6_0, arg: pattern6_1, flags: pattern6_2 } = &pattern5_0 {
11086|      0|                    if let &Opcode::AtomicLoad  = pattern6_0 {
11087|       |                        // Rule at src/isa/x64/lower.isle line 2791.
11088|      0|                        let expr0_0 = C::ty_bits_u16(ctx, pattern3_0);
11089|      0|                        let expr1_0: u16 = 64i128 as u16;
11090|      0|                        let expr2_0 = C::ext_mode(ctx, expr0_0, expr1_0);
11091|      0|                        let expr3_0 = C::zero_offset(ctx, );
11092|      0|                        let expr4_0 = constructor_to_amode(ctx, pattern6_2, pattern6_1, expr3_0)?;
11093|      0|                        let expr5_0 = constructor_amode_to_gpr_mem(ctx, &expr4_0)?;
11094|      0|                        let expr6_0 = constructor_x64_movzx(ctx, &expr2_0, &expr5_0)?;
11095|      0|                        let expr7_0 = constructor_output_gpr(ctx, expr6_0)?;
11096|      0|                        return Some(expr7_0);
11097|      0|                    }
11098|      5|                }
11099|      0|            }
11100|      5|            if let Some(pattern4_0) = C::is_gpr_type(ctx, pattern2_0) {
11101|      5|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
11102|      5|                if let &InstructionData::Load { opcode: ref pattern6_0, arg: pattern6_1, flags: pattern6_2, offset: pattern6_3 } = &pattern5_0 {
11103|      2|                    if let &Opcode::Load  = pattern6_0 {
11104|       |                        // Rule at src/isa/x64/lower.isle line 2500.
11105|      2|                        let expr0_0 = C::ty_bits_u16(ctx, pattern3_0);
11106|      2|                        let expr1_0: u16 = 64i128 as u16;
11107|      2|                        let expr2_0 = C::ext_mode(ctx, expr0_0, expr1_0);
11108|      2|                        let expr3_0 = constructor_to_amode(ctx, pattern6_2, pattern6_1, pattern6_3)?;
11109|      2|                        let expr4_0 = constructor_amode_to_gpr_mem(ctx, &expr3_0)?;
11110|      2|                        let expr5_0 = constructor_x64_movzx(ctx, &expr2_0, &expr4_0)?;
11111|      2|                        let expr6_0 = constructor_output_gpr(ctx, expr5_0)?;
11112|      2|                        return Some(expr6_0);
11113|      0|                    }
11114|      3|                }
11115|      0|            }
11116|      3|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
11117|      3|            if let &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } = &pattern4_0 {
11118|      0|                if let &Opcode::Uextend  = pattern5_0 {
11119|      0|                    let pattern7_0 = C::value_type(ctx, pattern5_1);
11120|      0|                    if let Some(pattern8_0) = C::fits_in_32(ctx, pattern7_0) {
11121|       |                        // Rule at src/isa/x64/lower.isle line 2079.
11122|      0|                        let expr0_0: Type = I32;
11123|      0|                        let expr1_0 = ExtendKind::Zero;
11124|      0|                        let expr2_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr0_0, &expr1_0)?;
11125|      0|                        let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11126|      0|                        return Some(expr3_0);
11127|      0|                    }
11128|      0|                }
11129|      3|            }
11130|      3|        }
11131|      6|        if let Some(pattern3_0) = C::fits_in_64(ctx, pattern2_0) {
11132|      6|            if let Some(pattern4_0) = C::ty_int(ctx, pattern2_0) {
11133|      6|                let pattern5_0 = C::inst_data(ctx, pattern0_0);
11134|      6|                match &pattern5_0 {
11135|      0|                    &InstructionData::AtomicRmw { opcode: ref pattern6_0, args: ref pattern6_1, flags: pattern6_2, op: ref pattern6_3 } => {
11136|      0|                        if let &Opcode::AtomicRmw  = pattern6_0 {
11137|      0|                            let (pattern8_0, pattern8_1) = C::unpack_value_array_2(ctx, pattern6_1);
11138|      0|                            // Rule at src/isa/x64/lower.isle line 2824.
11139|      0|                            let expr0_0 = C::atomic_rmw_op_to_mach_atomic_rmw_op(ctx, pattern6_3);
11140|      0|                            let expr1_0 = C::zero_offset(ctx, );
11141|      0|                            let expr2_0 = constructor_to_amode(ctx, pattern6_2, pattern8_0, expr1_0)?;
11142|      0|                            let expr3_0 = C::amode_to_synthetic_amode(ctx, &expr2_0);
11143|      0|                            let expr4_0 = constructor_put_in_gpr(ctx, pattern8_1)?;
11144|      0|                            let expr5_0 = constructor_x64_atomic_rmw_seq(ctx, pattern3_0, &expr0_0, &expr3_0, expr4_0)?;
11145|      0|                            let expr6_0 = constructor_output_gpr(ctx, expr5_0)?;
11146|      0|                            return Some(expr6_0);
11147|      0|                        }
11148|       |                    }
11149|      0|                    &InstructionData::AtomicCas { opcode: ref pattern6_0, args: ref pattern6_1, flags: pattern6_2 } => {
11150|      0|                        if let &Opcode::AtomicCas  = pattern6_0 {
11151|      0|                            let (pattern8_0, pattern8_1, pattern8_2) = C::unpack_value_array_3(ctx, pattern6_1);
11152|       |                            // Rule at src/isa/x64/lower.isle line 2808.
11153|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern8_1)?;
11154|      0|                            let expr1_0 = constructor_put_in_gpr(ctx, pattern8_2)?;
11155|      0|                            let expr2_0 = C::zero_offset(ctx, );
11156|      0|                            let expr3_0 = constructor_to_amode(ctx, pattern6_2, pattern8_0, expr2_0)?;
11157|      0|                            let expr4_0 = C::amode_to_synthetic_amode(ctx, &expr3_0);
11158|      0|                            let expr5_0 = constructor_x64_cmpxchg(ctx, pattern3_0, expr0_0, expr1_0, &expr4_0)?;
11159|      0|                            let expr6_0 = constructor_output_gpr(ctx, expr5_0)?;
11160|      0|                            return Some(expr6_0);
11161|      0|                        }
11162|       |                    }
11163|      6|                    _ => {}
11164|       |                }
11165|      0|            }
11166|      6|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
11167|      6|            match &pattern4_0 {
11168|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
11169|      0|                    match pattern5_0 {
11170|       |                        &Opcode::Ineg  => {
11171|       |                            // Rule at src/isa/x64/lower.isle line 834.
11172|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
11173|      0|                            let expr1_0 = constructor_x64_neg(ctx, pattern3_0, expr0_0)?;
11174|      0|                            let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11175|      0|                            return Some(expr2_0);
11176|       |                        }
11177|       |                        &Opcode::Bnot  => {
11178|       |                            // Rule at src/isa/x64/lower.isle line 1227.
11179|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
11180|      0|                            let expr1_0 = constructor_x64_not(ctx, pattern3_0, expr0_0)?;
11181|      0|                            let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11182|      0|                            return Some(expr2_0);
11183|       |                        }
11184|       |                        &Opcode::Breduce  => {
11185|       |                            // Rule at src/isa/x64/lower.isle line 2184.
11186|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern5_1);
11187|      0|                            let expr1_0: usize = 0i128 as usize;
11188|      0|                            let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
11189|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11190|      0|                            return Some(expr3_0);
11191|       |                        }
11192|       |                        &Opcode::Bint  => {
11193|       |                            // Rule at src/isa/x64/lower.isle line 2192.
11194|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
11195|      0|                            let expr1_0: u32 = 1i128 as u32;
11196|      0|                            let expr2_0 = RegMemImm::Imm {
11197|      0|                                simm32: expr1_0,
11198|      0|                            };
11199|      0|                            let expr3_0 = C::gpr_mem_imm_new(ctx, &expr2_0);
11200|      0|                            let expr4_0 = constructor_x64_and(ctx, pattern3_0, expr0_0, &expr3_0)?;
11201|      0|                            let expr5_0 = constructor_output_gpr(ctx, expr4_0)?;
11202|      0|                            return Some(expr5_0);
11203|       |                        }
11204|       |                        &Opcode::Ireduce  => {
11205|       |                            // Rule at src/isa/x64/lower.isle line 2176.
11206|      0|                            let expr0_0 = C::put_in_regs(ctx, pattern5_1);
11207|      0|                            let expr1_0: usize = 0i128 as usize;
11208|      0|                            let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
11209|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11210|      0|                            return Some(expr3_0);
11211|       |                        }
11212|      0|                        _ => {}
11213|       |                    }
11214|       |                }
11215|      0|                &InstructionData::UnaryImm { opcode: ref pattern5_0, imm: pattern5_1 } => {
11216|      0|                    if let &Opcode::Iconst  = pattern5_0 {
11217|      0|                        let pattern7_0 = C::u64_from_imm64(ctx, pattern5_1);
11218|       |                        // Rule at src/isa/x64/lower.isle line 15.
11219|      0|                        let expr0_0 = constructor_imm(ctx, pattern3_0, pattern7_0)?;
11220|      0|                        let expr1_0 = constructor_output_reg(ctx, expr0_0)?;
11221|      0|                        return Some(expr1_0);
11222|      0|                    }
11223|       |                }
11224|      0|                &InstructionData::UnaryBool { opcode: ref pattern5_0, imm: pattern5_1 } => {
11225|      0|                    if let &Opcode::Bconst  = pattern5_0 {
11226|      0|                        if pattern5_1 == true {
11227|       |                            // Rule at src/isa/x64/lower.isle line 33.
11228|      0|                            let expr0_0: u64 = 1i128 as u64;
11229|      0|                            let expr1_0 = constructor_imm(ctx, pattern3_0, expr0_0)?;
11230|      0|                            let expr2_0 = constructor_output_reg(ctx, expr1_0)?;
11231|      0|                            return Some(expr2_0);
11232|      0|                        }
11233|      0|                        if pattern5_1 == false {
11234|       |                            // Rule at src/isa/x64/lower.isle line 29.
11235|      0|                            let expr0_0: u64 = 0i128 as u64;
11236|      0|                            let expr1_0 = constructor_imm(ctx, pattern3_0, expr0_0)?;
11237|      0|                            let expr2_0 = constructor_output_reg(ctx, expr1_0)?;
11238|      0|                            return Some(expr2_0);
11239|      0|                        }
11240|      0|                    }
11241|       |                }
11242|      2|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
11243|      2|                    match pattern5_0 {
11244|       |                        &Opcode::Imin  => {
11245|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11246|      0|                            // Rule at src/isa/x64/lower.isle line 1360.
11247|      0|                            let expr0_0 = CC::L;
11248|      0|                            let expr1_0 = constructor_cmp_and_choose(ctx, pattern3_0, &expr0_0, pattern7_0, pattern7_1)?;
11249|      0|                            let expr2_0 = C::output(ctx, expr1_0);
11250|      0|                            return Some(expr2_0);
11251|       |                        }
11252|       |                        &Opcode::Umin  => {
11253|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11254|      0|                            // Rule at src/isa/x64/lower.isle line 1354.
11255|      0|                            let expr0_0 = CC::B;
11256|      0|                            let expr1_0 = constructor_cmp_and_choose(ctx, pattern3_0, &expr0_0, pattern7_0, pattern7_1)?;
11257|      0|                            let expr2_0 = C::output(ctx, expr1_0);
11258|      0|                            return Some(expr2_0);
11259|       |                        }
11260|       |                        &Opcode::Imax  => {
11261|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11262|      0|                            // Rule at src/isa/x64/lower.isle line 1363.
11263|      0|                            let expr0_0 = CC::NL;
11264|      0|                            let expr1_0 = constructor_cmp_and_choose(ctx, pattern3_0, &expr0_0, pattern7_0, pattern7_1)?;
11265|      0|                            let expr2_0 = C::output(ctx, expr1_0);
11266|      0|                            return Some(expr2_0);
11267|       |                        }
11268|       |                        &Opcode::Umax  => {
11269|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11270|      0|                            // Rule at src/isa/x64/lower.isle line 1357.
11271|      0|                            let expr0_0 = CC::NB;
11272|      0|                            let expr1_0 = constructor_cmp_and_choose(ctx, pattern3_0, &expr0_0, pattern7_0, pattern7_1)?;
11273|      0|                            let expr2_0 = C::output(ctx, expr1_0);
11274|      0|                            return Some(expr2_0);
11275|       |                        }
11276|       |                        &Opcode::Iadd  => {
11277|      1|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11278|      1|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_0) {
11279|       |                                // Rule at src/isa/x64/lower.isle line 79.
11280|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11281|      0|                                let expr1_0 = constructor_x64_add(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11282|      0|                                let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11283|      0|                                return Some(expr2_0);
11284|      1|                            }
11285|      1|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_0) {
11286|       |                                // Rule at src/isa/x64/lower.isle line 91.
11287|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11288|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11289|      0|                                let expr2_0 = constructor_x64_add(ctx, pattern3_0, expr0_0, &expr1_0)?;
11290|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11291|      0|                                return Some(expr3_0);
11292|      1|                            }
11293|      1|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_1) {
11294|       |                                // Rule at src/isa/x64/lower.isle line 75.
11295|      1|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11296|      1|                                let expr1_0 = constructor_x64_add(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11297|      1|                                let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11298|      1|                                return Some(expr2_0);
11299|      0|                            }
11300|      0|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_1) {
11301|       |                                // Rule at src/isa/x64/lower.isle line 85.
11302|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11303|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11304|      0|                                let expr2_0 = constructor_x64_add(ctx, pattern3_0, expr0_0, &expr1_0)?;
11305|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11306|      0|                                return Some(expr3_0);
11307|      0|                            }
11308|       |                            // Rule at src/isa/x64/lower.isle line 69.
11309|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11310|      0|                            let expr1_0 = constructor_put_in_gpr_mem_imm(ctx, pattern7_1)?;
11311|      0|                            let expr2_0 = constructor_x64_add(ctx, pattern3_0, expr0_0, &expr1_0)?;
11312|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11313|      0|                            return Some(expr3_0);
11314|       |                        }
11315|       |                        &Opcode::Isub  => {
11316|      1|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11317|      1|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_1) {
11318|       |                                // Rule at src/isa/x64/lower.isle line 202.
11319|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11320|      0|                                let expr1_0 = constructor_x64_sub(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11321|      0|                                let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11322|      0|                                return Some(expr2_0);
11323|      1|                            }
11324|      1|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_1) {
11325|       |                                // Rule at src/isa/x64/lower.isle line 207.
11326|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11327|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11328|      0|                                let expr2_0 = constructor_x64_sub(ctx, pattern3_0, expr0_0, &expr1_0)?;
11329|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11330|      0|                                return Some(expr3_0);
11331|      1|                            }
11332|       |                            // Rule at src/isa/x64/lower.isle line 197.
11333|      1|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11334|      1|                            let expr1_0 = constructor_put_in_gpr_mem_imm(ctx, pattern7_1)?;
11335|      1|                            let expr2_0 = constructor_x64_sub(ctx, pattern3_0, expr0_0, &expr1_0)?;
11336|      1|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11337|      1|                            return Some(expr3_0);
11338|       |                        }
11339|       |                        &Opcode::Imul  => {
11340|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11341|      0|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_0) {
11342|       |                                // Rule at src/isa/x64/lower.isle line 875.
11343|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11344|      0|                                let expr1_0 = constructor_x64_mul(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11345|      0|                                let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11346|      0|                                return Some(expr2_0);
11347|      0|                            }
11348|      0|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_0) {
11349|       |                                // Rule at src/isa/x64/lower.isle line 887.
11350|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11351|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11352|      0|                                let expr2_0 = constructor_x64_mul(ctx, pattern3_0, expr0_0, &expr1_0)?;
11353|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11354|      0|                                return Some(expr3_0);
11355|      0|                            }
11356|      0|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_1) {
11357|       |                                // Rule at src/isa/x64/lower.isle line 871.
11358|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11359|      0|                                let expr1_0 = constructor_x64_mul(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11360|      0|                                let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11361|      0|                                return Some(expr2_0);
11362|      0|                            }
11363|      0|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_1) {
11364|       |                                // Rule at src/isa/x64/lower.isle line 881.
11365|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11366|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11367|      0|                                let expr2_0 = constructor_x64_mul(ctx, pattern3_0, expr0_0, &expr1_0)?;
11368|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11369|      0|                                return Some(expr3_0);
11370|      0|                            }
11371|       |                            // Rule at src/isa/x64/lower.isle line 866.
11372|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11373|      0|                            let expr1_0 = constructor_put_in_gpr_mem_imm(ctx, pattern7_1)?;
11374|      0|                            let expr2_0 = constructor_x64_mul(ctx, pattern3_0, expr0_0, &expr1_0)?;
11375|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11376|      0|                            return Some(expr3_0);
11377|       |                        }
11378|       |                        &Opcode::IaddIfcout  => {
11379|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11380|      0|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_0) {
11381|       |                                // Rule at src/isa/x64/lower.isle line 176.
11382|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11383|      0|                                let expr1_0 = constructor_x64_add(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11384|      0|                                let expr2_0 = C::gpr_to_reg(ctx, expr1_0);
11385|      0|                                let expr3_0 = constructor_output_ifcout(ctx, expr2_0)?;
11386|      0|                                return Some(expr3_0);
11387|      0|                            }
11388|      0|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_0) {
11389|       |                                // Rule at src/isa/x64/lower.isle line 186.
11390|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11391|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11392|      0|                                let expr2_0 = constructor_x64_add(ctx, pattern3_0, expr0_0, &expr1_0)?;
11393|      0|                                let expr3_0 = C::gpr_to_reg(ctx, expr2_0);
11394|      0|                                let expr4_0 = constructor_output_ifcout(ctx, expr3_0)?;
11395|      0|                                return Some(expr4_0);
11396|      0|                            }
11397|      0|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_1) {
11398|       |                                // Rule at src/isa/x64/lower.isle line 172.
11399|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11400|      0|                                let expr1_0 = constructor_x64_add(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11401|      0|                                let expr2_0 = C::gpr_to_reg(ctx, expr1_0);
11402|      0|                                let expr3_0 = constructor_output_ifcout(ctx, expr2_0)?;
11403|      0|                                return Some(expr3_0);
11404|      0|                            }
11405|      0|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_1) {
11406|       |                                // Rule at src/isa/x64/lower.isle line 182.
11407|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11408|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11409|      0|                                let expr2_0 = constructor_x64_add(ctx, pattern3_0, expr0_0, &expr1_0)?;
11410|      0|                                let expr3_0 = C::gpr_to_reg(ctx, expr2_0);
11411|      0|                                let expr4_0 = constructor_output_ifcout(ctx, expr3_0)?;
11412|      0|                                return Some(expr4_0);
11413|      0|                            }
11414|       |                            // Rule at src/isa/x64/lower.isle line 166.
11415|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11416|      0|                            let expr1_0 = constructor_put_in_gpr_mem_imm(ctx, pattern7_1)?;
11417|      0|                            let expr2_0 = constructor_x64_add(ctx, pattern3_0, expr0_0, &expr1_0)?;
11418|      0|                            let expr3_0 = C::gpr_to_reg(ctx, expr2_0);
11419|      0|                            let expr4_0 = constructor_output_ifcout(ctx, expr3_0)?;
11420|      0|                            return Some(expr4_0);
11421|       |                        }
11422|       |                        &Opcode::Band  => {
11423|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11424|      0|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_0) {
11425|       |                                // Rule at src/isa/x64/lower.isle line 291.
11426|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11427|      0|                                let expr1_0 = constructor_x64_and(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11428|      0|                                let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11429|      0|                                return Some(expr2_0);
11430|      0|                            }
11431|      0|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_0) {
11432|       |                                // Rule at src/isa/x64/lower.isle line 279.
11433|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11434|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11435|      0|                                let expr2_0 = constructor_x64_and(ctx, pattern3_0, expr0_0, &expr1_0)?;
11436|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11437|      0|                                return Some(expr3_0);
11438|      0|                            }
11439|      0|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_1) {
11440|       |                                // Rule at src/isa/x64/lower.isle line 287.
11441|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11442|      0|                                let expr1_0 = constructor_x64_and(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11443|      0|                                let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11444|      0|                                return Some(expr2_0);
11445|      0|                            }
11446|      0|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_1) {
11447|       |                                // Rule at src/isa/x64/lower.isle line 274.
11448|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11449|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11450|      0|                                let expr2_0 = constructor_x64_and(ctx, pattern3_0, expr0_0, &expr1_0)?;
11451|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11452|      0|                                return Some(expr3_0);
11453|      0|                            }
11454|       |                            // Rule at src/isa/x64/lower.isle line 269.
11455|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11456|      0|                            let expr1_0 = constructor_put_in_gpr_mem_imm(ctx, pattern7_1)?;
11457|      0|                            let expr2_0 = constructor_x64_and(ctx, pattern3_0, expr0_0, &expr1_0)?;
11458|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11459|      0|                            return Some(expr3_0);
11460|       |                        }
11461|       |                        &Opcode::Bor  => {
11462|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11463|      0|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_0) {
11464|       |                                // Rule at src/isa/x64/lower.isle line 355.
11465|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11466|      0|                                let expr1_0 = constructor_x64_or(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11467|      0|                                let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11468|      0|                                return Some(expr2_0);
11469|      0|                            }
11470|      0|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_0) {
11471|       |                                // Rule at src/isa/x64/lower.isle line 344.
11472|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11473|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11474|      0|                                let expr2_0 = constructor_x64_or(ctx, pattern3_0, expr0_0, &expr1_0)?;
11475|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11476|      0|                                return Some(expr3_0);
11477|      0|                            }
11478|      0|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_1) {
11479|       |                                // Rule at src/isa/x64/lower.isle line 351.
11480|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11481|      0|                                let expr1_0 = constructor_x64_or(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11482|      0|                                let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11483|      0|                                return Some(expr2_0);
11484|      0|                            }
11485|      0|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_1) {
11486|       |                                // Rule at src/isa/x64/lower.isle line 339.
11487|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11488|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11489|      0|                                let expr2_0 = constructor_x64_or(ctx, pattern3_0, expr0_0, &expr1_0)?;
11490|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11491|      0|                                return Some(expr3_0);
11492|      0|                            }
11493|       |                            // Rule at src/isa/x64/lower.isle line 334.
11494|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11495|      0|                            let expr1_0 = constructor_put_in_gpr_mem_imm(ctx, pattern7_1)?;
11496|      0|                            let expr2_0 = constructor_x64_or(ctx, pattern3_0, expr0_0, &expr1_0)?;
11497|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11498|      0|                            return Some(expr3_0);
11499|       |                        }
11500|       |                        &Opcode::Bxor  => {
11501|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11502|      0|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_0) {
11503|       |                                // Rule at src/isa/x64/lower.isle line 421.
11504|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11505|      0|                                let expr1_0 = constructor_x64_xor(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11506|      0|                                let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11507|      0|                                return Some(expr2_0);
11508|      0|                            }
11509|      0|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_0) {
11510|       |                                // Rule at src/isa/x64/lower.isle line 410.
11511|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_1)?;
11512|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11513|      0|                                let expr2_0 = constructor_x64_xor(ctx, pattern3_0, expr0_0, &expr1_0)?;
11514|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11515|      0|                                return Some(expr3_0);
11516|      0|                            }
11517|      0|                            if let Some(pattern8_0) = C::simm32_from_value(ctx, pattern7_1) {
11518|       |                                // Rule at src/isa/x64/lower.isle line 417.
11519|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11520|      0|                                let expr1_0 = constructor_x64_xor(ctx, pattern3_0, expr0_0, &pattern8_0)?;
11521|      0|                                let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11522|      0|                                return Some(expr2_0);
11523|      0|                            }
11524|      0|                            if let Some(pattern8_0) = C::sinkable_load(ctx, pattern7_1) {
11525|       |                                // Rule at src/isa/x64/lower.isle line 405.
11526|      0|                                let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11527|      0|                                let expr1_0 = constructor_sink_load_to_gpr_mem_imm(ctx, &pattern8_0)?;
11528|      0|                                let expr2_0 = constructor_x64_xor(ctx, pattern3_0, expr0_0, &expr1_0)?;
11529|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11530|      0|                                return Some(expr3_0);
11531|      0|                            }
11532|       |                            // Rule at src/isa/x64/lower.isle line 400.
11533|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11534|      0|                            let expr1_0 = constructor_put_in_gpr_mem_imm(ctx, pattern7_1)?;
11535|      0|                            let expr2_0 = constructor_x64_xor(ctx, pattern3_0, expr0_0, &expr1_0)?;
11536|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11537|      0|                            return Some(expr3_0);
11538|       |                        }
11539|       |                        &Opcode::Rotl  => {
11540|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11541|       |                            // Rule at src/isa/x64/lower.isle line 793.
11542|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11543|      0|                            let expr1_0 = constructor_put_masked_in_imm8_gpr(ctx, pattern7_1, pattern3_0)?;
11544|      0|                            let expr2_0 = constructor_x64_rotl(ctx, pattern3_0, expr0_0, &expr1_0)?;
11545|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11546|      0|                            return Some(expr3_0);
11547|       |                        }
11548|       |                        &Opcode::Rotr  => {
11549|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11550|       |                            // Rule at src/isa/x64/lower.isle line 814.
11551|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11552|      0|                            let expr1_0 = constructor_put_masked_in_imm8_gpr(ctx, pattern7_1, pattern3_0)?;
11553|      0|                            let expr2_0 = constructor_x64_rotr(ctx, pattern3_0, expr0_0, &expr1_0)?;
11554|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11555|      0|                            return Some(expr3_0);
11556|       |                        }
11557|       |                        &Opcode::Ishl  => {
11558|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11559|       |                            // Rule at src/isa/x64/lower.isle line 457.
11560|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
11561|      0|                            let expr1_0 = constructor_put_masked_in_imm8_gpr(ctx, pattern7_1, pattern3_0)?;
11562|      0|                            let expr2_0 = constructor_x64_shl(ctx, pattern3_0, expr0_0, &expr1_0)?;
11563|      0|                            let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
11564|      0|                            return Some(expr3_0);
11565|       |                        }
11566|       |                        &Opcode::Ushr  => {
11567|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11568|      0|                            // Rule at src/isa/x64/lower.isle line 568.
11569|      0|                            let expr0_0 = ExtendKind::Zero;
11570|      0|                            let expr1_0 = constructor_extend_to_gpr(ctx, pattern7_0, pattern3_0, &expr0_0)?;
11571|      0|                            let expr2_0 = constructor_put_masked_in_imm8_gpr(ctx, pattern7_1, pattern3_0)?;
11572|      0|                            let expr3_0 = constructor_x64_shr(ctx, pattern3_0, expr1_0, &expr2_0)?;
11573|      0|                            let expr4_0 = constructor_output_gpr(ctx, expr3_0)?;
11574|      0|                            return Some(expr4_0);
11575|       |                        }
11576|       |                        &Opcode::Sshr  => {
11577|      0|                            let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
11578|      0|                            // Rule at src/isa/x64/lower.isle line 675.
11579|      0|                            let expr0_0 = ExtendKind::Sign;
11580|      0|                            let expr1_0 = constructor_extend_to_gpr(ctx, pattern7_0, pattern3_0, &expr0_0)?;
11581|      0|                            let expr2_0 = constructor_put_masked_in_imm8_gpr(ctx, pattern7_1, pattern3_0)?;
11582|      0|                            let expr3_0 = constructor_x64_sar(ctx, pattern3_0, expr1_0, &expr2_0)?;
11583|      0|                            let expr4_0 = constructor_output_gpr(ctx, expr3_0)?;
11584|      0|                            return Some(expr4_0);
11585|       |                        }
11586|      0|                        _ => {}
11587|       |                    }
11588|       |                }
11589|      4|                _ => {}
11590|       |            }
11591|      0|        }
11592|      4|        if let Some(pattern3_0) = C::ty_32_or_64(ctx, pattern2_0) {
11593|      4|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
11594|      4|            if let &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } = &pattern4_0 {
11595|      0|                match pattern5_0 {
11596|       |                    &Opcode::Clz  => {
11597|       |                        // Rule at src/isa/x64/lower.isle line 1740.
11598|      0|                        let expr0_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
11599|      0|                        let expr1_0 = constructor_do_clz(ctx, pattern3_0, pattern3_0, expr0_0)?;
11600|      0|                        let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11601|      0|                        return Some(expr2_0);
11602|       |                    }
11603|       |                    &Opcode::Ctz  => {
11604|       |                        // Rule at src/isa/x64/lower.isle line 1782.
11605|      0|                        let expr0_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
11606|      0|                        let expr1_0 = constructor_do_ctz(ctx, pattern3_0, pattern3_0, expr0_0)?;
11607|      0|                        let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11608|      0|                        return Some(expr2_0);
11609|       |                    }
11610|       |                    &Opcode::Popcnt  => {
11611|       |                        // Rule at src/isa/x64/lower.isle line 1834.
11612|      0|                        let expr0_0 = constructor_put_in_gpr(ctx, pattern5_1)?;
11613|      0|                        let expr1_0 = constructor_do_popcnt(ctx, pattern3_0, expr0_0)?;
11614|      0|                        let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11615|      0|                        return Some(expr2_0);
11616|       |                    }
11617|      0|                    _ => {}
11618|       |                }
11619|      4|            }
11620|      0|        }
11621|      4|        if let Some(pattern3_0) = C::ty_8_or_16(ctx, pattern2_0) {
11622|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
11623|      0|            if let &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } = &pattern4_0 {
11624|      0|                match pattern5_0 {
11625|       |                    &Opcode::Clz  => {
11626|       |                        // Rule at src/isa/x64/lower.isle line 1745.
11627|      0|                        let expr0_0: Type = I32;
11628|      0|                        let expr1_0: Type = I32;
11629|      0|                        let expr2_0 = ExtendKind::Zero;
11630|      0|                        let expr3_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr1_0, &expr2_0)?;
11631|      0|                        let expr4_0 = constructor_do_clz(ctx, expr0_0, pattern3_0, expr3_0)?;
11632|      0|                        let expr5_0 = constructor_output_gpr(ctx, expr4_0)?;
11633|      0|                        return Some(expr5_0);
11634|       |                    }
11635|       |                    &Opcode::Ctz  => {
11636|       |                        // Rule at src/isa/x64/lower.isle line 1787.
11637|      0|                        let expr0_0: Type = I32;
11638|      0|                        let expr1_0: Type = I32;
11639|      0|                        let expr2_0 = ExtendKind::Zero;
11640|      0|                        let expr3_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr1_0, &expr2_0)?;
11641|      0|                        let expr4_0 = constructor_do_ctz(ctx, expr0_0, pattern3_0, expr3_0)?;
11642|      0|                        let expr5_0 = constructor_output_gpr(ctx, expr4_0)?;
11643|      0|                        return Some(expr5_0);
11644|       |                    }
11645|       |                    &Opcode::Popcnt  => {
11646|       |                        // Rule at src/isa/x64/lower.isle line 1839.
11647|      0|                        let expr0_0: Type = I32;
11648|      0|                        let expr1_0: Type = I32;
11649|      0|                        let expr2_0 = ExtendKind::Zero;
11650|      0|                        let expr3_0 = constructor_extend_to_gpr(ctx, pattern5_1, expr1_0, &expr2_0)?;
11651|      0|                        let expr4_0 = constructor_do_popcnt(ctx, expr0_0, expr3_0)?;
11652|      0|                        let expr5_0 = constructor_output_gpr(ctx, expr4_0)?;
11653|      0|                        return Some(expr5_0);
11654|       |                    }
11655|      0|                    _ => {}
11656|       |                }
11657|      0|            }
11658|      4|        }
11659|      4|        if let Some(pattern3_0) = C::ty_int_bool_ref_64(ctx, pattern2_0) {
11660|      2|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
11661|      2|            if let &InstructionData::Load { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2, offset: pattern5_3 } = &pattern4_0 {
11662|      2|                if let &Opcode::Load  = pattern5_0 {
11663|       |                    // Rule at src/isa/x64/lower.isle line 2504.
11664|      2|                    let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
11665|      2|                    let expr1_0 = constructor_x64_mov(ctx, &expr0_0)?;
11666|      2|                    let expr2_0 = constructor_output_reg(ctx, expr1_0)?;
11667|      2|                    return Some(expr2_0);
11668|      0|                }
11669|      0|            }
11670|      2|        }
11671|      2|        if let Some(pattern3_0) = C::ty_int_bool_128(ctx, pattern2_0) {
11672|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
11673|      0|            if let &InstructionData::Load { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2, offset: pattern5_3 } = &pattern4_0 {
11674|      0|                if let &Opcode::Load  = pattern5_0 {
11675|       |                    // Rule at src/isa/x64/lower.isle line 2538.
11676|      0|                    let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
11677|      0|                    let expr1_0: u32 = 8i128 as u32;
11678|      0|                    let expr2_0 = C::amode_offset(ctx, &expr0_0, expr1_0);
11679|      0|                    let expr3_0 = constructor_x64_mov(ctx, &expr0_0)?;
11680|      0|                    let expr4_0 = constructor_x64_mov(ctx, &expr2_0)?;
11681|      0|                    let expr5_0 = C::value_regs(ctx, expr3_0, expr4_0);
11682|      0|                    let expr6_0 = C::output(ctx, expr5_0);
11683|      0|                    return Some(expr6_0);
11684|      0|                }
11685|      0|            }
11686|      2|        }
11687|      2|        if let Some(pattern3_0) = C::ty_scalar_float(ctx, pattern2_0) {
11688|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
11689|      0|            if let &InstructionData::BinaryImm8 { opcode: ref pattern5_0, arg: pattern5_1, imm: pattern5_2 } = &pattern4_0 {
11690|      0|                if let &Opcode::Extractlane  = pattern5_0 {
11691|      0|                    let pattern7_0 = C::u8_from_uimm8(ctx, pattern5_2);
11692|      0|                    if pattern7_0 == 0i128 as u8  {
11693|       |                        // Rule at src/isa/x64/lower.isle line 3549.
11694|      0|                        let expr0_0 = constructor_output_value(ctx, pattern5_1)?;
11695|      0|                        return Some(expr0_0);
11696|      0|                    }
11697|      0|                }
11698|      0|            }
11699|      2|        }
11700|      2|        if let Some(pattern3_0) = C::ty_vec128(ctx, pattern2_0) {
11701|      0|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
11702|      0|            if let &InstructionData::Load { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2, offset: pattern5_3 } = &pattern4_0 {
11703|      0|                if let &Opcode::Load  = pattern5_0 {
11704|       |                    // Rule at src/isa/x64/lower.isle line 2534.
11705|      0|                    let expr0_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
11706|      0|                    let expr1_0 = constructor_amode_to_xmm_mem(ctx, &expr0_0)?;
11707|      0|                    let expr2_0 = constructor_x64_movdqu(ctx, &expr1_0)?;
11708|      0|                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
11709|      0|                    return Some(expr3_0);
11710|      0|                }
11711|      0|            }
11712|      2|        }
11713|      2|        if let Some(pattern3_0) = C::is_gpr_type(ctx, pattern2_0) {
11714|      2|            let pattern4_0 = C::inst_data(ctx, pattern0_0);
11715|      2|            if let &InstructionData::Load { opcode: ref pattern5_0, arg: pattern5_1, flags: pattern5_2, offset: pattern5_3 } = &pattern4_0 {
11716|      0|                match pattern5_0 {
11717|       |                    &Opcode::Uload8  => {
11718|       |                        // Rule at src/isa/x64/lower.isle line 2509.
11719|      0|                        let expr0_0 = ExtMode::BQ;
11720|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
11721|      0|                        let expr2_0 = constructor_amode_to_gpr_mem(ctx, &expr1_0)?;
11722|      0|                        let expr3_0 = constructor_x64_movzx(ctx, &expr0_0, &expr2_0)?;
11723|      0|                        let expr4_0 = constructor_output_gpr(ctx, expr3_0)?;
11724|      0|                        return Some(expr4_0);
11725|       |                    }
11726|       |                    &Opcode::Sload8  => {
11727|       |                        // Rule at src/isa/x64/lower.isle line 2511.
11728|      0|                        let expr0_0 = ExtMode::BQ;
11729|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
11730|      0|                        let expr2_0 = constructor_amode_to_gpr_mem(ctx, &expr1_0)?;
11731|      0|                        let expr3_0 = constructor_x64_movsx(ctx, &expr0_0, &expr2_0)?;
11732|      0|                        let expr4_0 = constructor_output_gpr(ctx, expr3_0)?;
11733|      0|                        return Some(expr4_0);
11734|       |                    }
11735|       |                    &Opcode::Uload16  => {
11736|       |                        // Rule at src/isa/x64/lower.isle line 2513.
11737|      0|                        let expr0_0 = ExtMode::WQ;
11738|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
11739|      0|                        let expr2_0 = constructor_amode_to_gpr_mem(ctx, &expr1_0)?;
11740|      0|                        let expr3_0 = constructor_x64_movzx(ctx, &expr0_0, &expr2_0)?;
11741|      0|                        let expr4_0 = constructor_output_gpr(ctx, expr3_0)?;
11742|      0|                        return Some(expr4_0);
11743|       |                    }
11744|       |                    &Opcode::Sload16  => {
11745|       |                        // Rule at src/isa/x64/lower.isle line 2515.
11746|      0|                        let expr0_0 = ExtMode::WQ;
11747|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
11748|      0|                        let expr2_0 = constructor_amode_to_gpr_mem(ctx, &expr1_0)?;
11749|      0|                        let expr3_0 = constructor_x64_movsx(ctx, &expr0_0, &expr2_0)?;
11750|      0|                        let expr4_0 = constructor_output_gpr(ctx, expr3_0)?;
11751|      0|                        return Some(expr4_0);
11752|       |                    }
11753|       |                    &Opcode::Uload32  => {
11754|       |                        // Rule at src/isa/x64/lower.isle line 2517.
11755|      0|                        let expr0_0 = ExtMode::LQ;
11756|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
11757|      0|                        let expr2_0 = constructor_amode_to_gpr_mem(ctx, &expr1_0)?;
11758|      0|                        let expr3_0 = constructor_x64_movzx(ctx, &expr0_0, &expr2_0)?;
11759|      0|                        let expr4_0 = constructor_output_gpr(ctx, expr3_0)?;
11760|      0|                        return Some(expr4_0);
11761|       |                    }
11762|       |                    &Opcode::Sload32  => {
11763|       |                        // Rule at src/isa/x64/lower.isle line 2519.
11764|      0|                        let expr0_0 = ExtMode::LQ;
11765|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern5_2, pattern5_1, pattern5_3)?;
11766|      0|                        let expr2_0 = constructor_amode_to_gpr_mem(ctx, &expr1_0)?;
11767|      0|                        let expr3_0 = constructor_x64_movsx(ctx, &expr0_0, &expr2_0)?;
11768|      0|                        let expr4_0 = constructor_output_gpr(ctx, expr3_0)?;
11769|      0|                        return Some(expr4_0);
11770|       |                    }
11771|      0|                    _ => {}
11772|       |                }
11773|      2|            }
11774|      0|        }
11775|      2|        let pattern3_0 = C::inst_data(ctx, pattern0_0);
11776|      2|        match &pattern3_0 {
11777|      0|            &InstructionData::NullAry { opcode: ref pattern4_0 } => {
11778|      0|                if let &Opcode::Null  = pattern4_0 {
11779|       |                    // Rule at src/isa/x64/lower.isle line 61.
11780|      0|                    let expr0_0: u64 = 0i128 as u64;
11781|      0|                    let expr1_0 = constructor_imm(ctx, pattern2_0, expr0_0)?;
11782|      0|                    let expr2_0 = constructor_output_reg(ctx, expr1_0)?;
11783|      0|                    return Some(expr2_0);
11784|      0|                }
11785|       |            }
11786|      0|            &InstructionData::Unary { opcode: ref pattern4_0, arg: pattern4_1 } => {
11787|      0|                match pattern4_0 {
11788|       |                    &Opcode::Breduce  => {
11789|      0|                        let pattern6_0 = C::value_type(ctx, pattern4_1);
11790|      0|                        if pattern6_0 == pattern2_0 {
11791|       |                            // Rule at src/isa/x64/lower.isle line 2181.
11792|      0|                            let expr0_0 = constructor_output_value(ctx, pattern4_1)?;
11793|      0|                            return Some(expr0_0);
11794|      0|                        }
11795|       |                    }
11796|       |                    &Opcode::Bextend  => {
11797|      0|                        let pattern6_0 = C::value_type(ctx, pattern4_1);
11798|       |                        // Rule at src/isa/x64/lower.isle line 2162.
11799|      0|                        let expr0_0 = constructor_generic_sextend(ctx, pattern4_1, pattern6_0, pattern2_0)?;
11800|      0|                        return Some(expr0_0);
11801|       |                    }
11802|       |                    &Opcode::Ireduce  => {
11803|      0|                        let pattern6_0 = C::value_type(ctx, pattern4_1);
11804|      0|                        if pattern6_0 == pattern2_0 {
11805|       |                            // Rule at src/isa/x64/lower.isle line 2170.
11806|      0|                            let expr0_0 = constructor_output_value(ctx, pattern4_1)?;
11807|      0|                            return Some(expr0_0);
11808|      0|                        }
11809|       |                    }
11810|       |                    &Opcode::Uextend  => {
11811|      0|                        let pattern6_0 = C::value_type(ctx, pattern4_1);
11812|      0|                        if pattern6_0 == pattern2_0 {
11813|       |                            // Rule at src/isa/x64/lower.isle line 2063.
11814|      0|                            let expr0_0 = constructor_output_value(ctx, pattern4_1)?;
11815|      0|                            return Some(expr0_0);
11816|      0|                        }
11817|       |                    }
11818|       |                    &Opcode::Sextend  => {
11819|      0|                        let pattern6_0 = C::value_type(ctx, pattern4_1);
11820|       |                        // Rule at src/isa/x64/lower.isle line 2156.
11821|      0|                        let expr0_0 = constructor_generic_sextend(ctx, pattern4_1, pattern6_0, pattern2_0)?;
11822|      0|                        return Some(expr0_0);
11823|       |                    }
11824|       |                    &Opcode::FcvtToUint  => {
11825|      0|                        let pattern6_0 = C::value_type(ctx, pattern4_1);
11826|      0|                        if let Some(pattern7_0) = C::ty_scalar_float(ctx, pattern6_0) {
11827|       |                            // Rule at src/isa/x64/lower.isle line 3047.
11828|      0|                            let expr0_0: bool = false;
11829|      0|                            let expr1_0 = constructor_cvt_float_to_uint_seq(ctx, pattern2_0, pattern4_1, expr0_0)?;
11830|      0|                            let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11831|      0|                            return Some(expr2_0);
11832|      0|                        }
11833|       |                    }
11834|       |                    &Opcode::FcvtToSint  => {
11835|      0|                        let pattern6_0 = C::value_type(ctx, pattern4_1);
11836|      0|                        if let Some(pattern7_0) = C::ty_scalar_float(ctx, pattern6_0) {
11837|       |                            // Rule at src/isa/x64/lower.isle line 3053.
11838|      0|                            let expr0_0: bool = false;
11839|      0|                            let expr1_0 = constructor_cvt_float_to_sint_seq(ctx, pattern2_0, pattern4_1, expr0_0)?;
11840|      0|                            let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11841|      0|                            return Some(expr2_0);
11842|      0|                        }
11843|       |                    }
11844|       |                    &Opcode::FcvtToUintSat  => {
11845|      0|                        let pattern6_0 = C::value_type(ctx, pattern4_1);
11846|      0|                        if let Some(pattern7_0) = C::ty_scalar_float(ctx, pattern6_0) {
11847|       |                            // Rule at src/isa/x64/lower.isle line 3050.
11848|      0|                            let expr0_0: bool = true;
11849|      0|                            let expr1_0 = constructor_cvt_float_to_uint_seq(ctx, pattern2_0, pattern4_1, expr0_0)?;
11850|      0|                            let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11851|      0|                            return Some(expr2_0);
11852|      0|                        }
11853|       |                    }
11854|       |                    &Opcode::FcvtToSintSat  => {
11855|      0|                        let pattern6_0 = C::value_type(ctx, pattern4_1);
11856|      0|                        if let Some(pattern7_0) = C::ty_scalar_float(ctx, pattern6_0) {
11857|       |                            // Rule at src/isa/x64/lower.isle line 3056.
11858|      0|                            let expr0_0: bool = true;
11859|      0|                            let expr1_0 = constructor_cvt_float_to_sint_seq(ctx, pattern2_0, pattern4_1, expr0_0)?;
11860|      0|                            let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
11861|      0|                            return Some(expr2_0);
11862|      0|                        }
11863|       |                    }
11864|       |                    &Opcode::FcvtFromUint  => {
11865|      0|                        let pattern6_0 = C::value_type(ctx, pattern4_1);
11866|      0|                        if pattern6_0 == I64 {
11867|       |                            // Rule at src/isa/x64/lower.isle line 2978.
11868|      0|                            let expr0_0 = constructor_put_in_gpr(ctx, pattern4_1)?;
11869|      0|                            let expr1_0 = constructor_cvt_u64_to_float_seq(ctx, pattern2_0, expr0_0)?;
11870|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
11871|      0|                            return Some(expr2_0);
11872|      0|                        }
11873|       |                    }
11874|      0|                    _ => {}
11875|       |                }
11876|       |            }
11877|      0|            &InstructionData::UnaryConst { opcode: ref pattern4_0, constant_handle: pattern4_1 } => {
11878|      0|                if let &Opcode::Vconst  = pattern4_0 {
11879|       |                    // Rule at src/isa/x64/lower.isle line 3484.
11880|      0|                    let expr0_0 = C::const_to_vconst(ctx, pattern4_1);
11881|      0|                    let expr1_0 = constructor_x64_xmm_load_const(ctx, pattern2_0, expr0_0)?;
11882|      0|                    let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
11883|      0|                    return Some(expr2_0);
11884|      0|                }
11885|       |            }
11886|      0|            &InstructionData::Binary { opcode: ref pattern4_0, args: ref pattern4_1 } => {
11887|      0|                if let &Opcode::BandNot  = pattern4_0 {
11888|      0|                    let (pattern6_0, pattern6_1) = C::unpack_value_array_2(ctx, pattern4_1);
11889|       |                    // Rule at src/isa/x64/lower.isle line 1155.
11890|      0|                    let expr0_0 = constructor_put_in_xmm(ctx, pattern6_1)?;
11891|      0|                    let expr1_0 = C::put_in_xmm_mem(ctx, pattern6_0);
11892|      0|                    let expr2_0 = constructor_sse_and_not(ctx, pattern2_0, expr0_0, &expr1_0)?;
11893|      0|                    let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
11894|      0|                    return Some(expr3_0);
11895|      0|                }
11896|       |            }
11897|      0|            &InstructionData::Ternary { opcode: ref pattern4_0, args: ref pattern4_1 } => {
11898|      0|                if let &Opcode::Select  = pattern4_0 {
11899|      0|                    let (pattern6_0, pattern6_1, pattern6_2) = C::unpack_value_array_3(ctx, pattern4_1);
11900|      0|                    if let Some(pattern7_0) = C::def_inst(ctx, pattern6_0) {
11901|      0|                        let pattern8_0 = C::inst_data(ctx, pattern7_0);
11902|      0|                        match &pattern8_0 {
11903|      0|                            &InstructionData::FloatCompare { opcode: ref pattern9_0, args: ref pattern9_1, cond: ref pattern9_2 } => {
11904|      0|                                if let &Opcode::Fcmp  = pattern9_0 {
11905|      0|                                    let (pattern11_0, pattern11_1) = C::unpack_value_array_2(ctx, pattern9_1);
11906|      0|                                    match pattern9_2 {
11907|       |                                        &FloatCC::Equal  => {
11908|       |                                            // Rule at src/isa/x64/lower.isle line 1695.
11909|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_0, pattern11_1)?;
11910|      0|                                            let expr1_0 = CC::NZ;
11911|      0|                                            let expr2_0 = CC::P;
11912|      0|                                            let expr3_0 = constructor_cmove_or_from_values(ctx, pattern2_0, &expr1_0, &expr2_0, pattern6_2, pattern6_1)?;
11913|      0|                                            let expr4_0 = constructor_with_flags(ctx, &expr0_0, &expr3_0)?;
11914|      0|                                            let expr5_0 = C::output(ctx, expr4_0);
11915|      0|                                            return Some(expr5_0);
11916|       |                                        }
11917|       |                                        &FloatCC::GreaterThan  => {
11918|       |                                            // Rule at src/isa/x64/lower.isle line 1647.
11919|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_1, pattern11_0)?;
11920|      0|                                            let expr1_0 = CC::NBE;
11921|      0|                                            let expr2_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr1_0, pattern6_1, pattern6_2)?;
11922|      0|                                            let expr3_0 = constructor_with_flags(ctx, &expr0_0, &expr2_0)?;
11923|      0|                                            let expr4_0 = C::output(ctx, expr3_0);
11924|      0|                                            return Some(expr4_0);
11925|       |                                        }
11926|       |                                        &FloatCC::GreaterThanOrEqual  => {
11927|       |                                            // Rule at src/isa/x64/lower.isle line 1650.
11928|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_1, pattern11_0)?;
11929|      0|                                            let expr1_0 = CC::NB;
11930|      0|                                            let expr2_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr1_0, pattern6_1, pattern6_2)?;
11931|      0|                                            let expr3_0 = constructor_with_flags(ctx, &expr0_0, &expr2_0)?;
11932|      0|                                            let expr4_0 = C::output(ctx, expr3_0);
11933|      0|                                            return Some(expr4_0);
11934|       |                                        }
11935|       |                                        &FloatCC::LessThan  => {
11936|       |                                            // Rule at src/isa/x64/lower.isle line 1670.
11937|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_0, pattern11_1)?;
11938|      0|                                            let expr1_0 = CC::NBE;
11939|      0|                                            let expr2_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr1_0, pattern6_1, pattern6_2)?;
11940|      0|                                            let expr3_0 = constructor_with_flags(ctx, &expr0_0, &expr2_0)?;
11941|      0|                                            let expr4_0 = C::output(ctx, expr3_0);
11942|      0|                                            return Some(expr4_0);
11943|       |                                        }
11944|       |                                        &FloatCC::LessThanOrEqual  => {
11945|       |                                            // Rule at src/isa/x64/lower.isle line 1673.
11946|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_0, pattern11_1)?;
11947|      0|                                            let expr1_0 = CC::NB;
11948|      0|                                            let expr2_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr1_0, pattern6_1, pattern6_2)?;
11949|      0|                                            let expr3_0 = constructor_with_flags(ctx, &expr0_0, &expr2_0)?;
11950|      0|                                            let expr4_0 = C::output(ctx, expr3_0);
11951|      0|                                            return Some(expr4_0);
11952|       |                                        }
11953|       |                                        &FloatCC::NotEqual  => {
11954|       |                                            // Rule at src/isa/x64/lower.isle line 1698.
11955|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_0, pattern11_1)?;
11956|      0|                                            let expr1_0 = CC::NZ;
11957|      0|                                            let expr2_0 = CC::P;
11958|      0|                                            let expr3_0 = constructor_cmove_or_from_values(ctx, pattern2_0, &expr1_0, &expr2_0, pattern6_1, pattern6_2)?;
11959|      0|                                            let expr4_0 = constructor_with_flags(ctx, &expr0_0, &expr3_0)?;
11960|      0|                                            let expr5_0 = C::output(ctx, expr4_0);
11961|      0|                                            return Some(expr5_0);
11962|       |                                        }
11963|       |                                        &FloatCC::Ordered  => {
11964|       |                                            // Rule at src/isa/x64/lower.isle line 1641.
11965|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_1, pattern11_0)?;
11966|      0|                                            let expr1_0 = CC::NP;
11967|      0|                                            let expr2_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr1_0, pattern6_1, pattern6_2)?;
11968|      0|                                            let expr3_0 = constructor_with_flags(ctx, &expr0_0, &expr2_0)?;
11969|      0|                                            let expr4_0 = C::output(ctx, expr3_0);
11970|      0|                                            return Some(expr4_0);
11971|       |                                        }
11972|       |                                        &FloatCC::Unordered  => {
11973|       |                                            // Rule at src/isa/x64/lower.isle line 1644.
11974|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_1, pattern11_0)?;
11975|      0|                                            let expr1_0 = CC::P;
11976|      0|                                            let expr2_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr1_0, pattern6_1, pattern6_2)?;
11977|      0|                                            let expr3_0 = constructor_with_flags(ctx, &expr0_0, &expr2_0)?;
11978|      0|                                            let expr4_0 = C::output(ctx, expr3_0);
11979|      0|                                            return Some(expr4_0);
11980|       |                                        }
11981|       |                                        &FloatCC::UnorderedOrGreaterThan  => {
11982|       |                                            // Rule at src/isa/x64/lower.isle line 1676.
11983|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_0, pattern11_1)?;
11984|      0|                                            let expr1_0 = CC::B;
11985|      0|                                            let expr2_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr1_0, pattern6_1, pattern6_2)?;
11986|      0|                                            let expr3_0 = constructor_with_flags(ctx, &expr0_0, &expr2_0)?;
11987|      0|                                            let expr4_0 = C::output(ctx, expr3_0);
11988|      0|                                            return Some(expr4_0);
11989|       |                                        }
11990|       |                                        &FloatCC::UnorderedOrGreaterThanOrEqual  => {
11991|       |                                            // Rule at src/isa/x64/lower.isle line 1679.
11992|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_0, pattern11_1)?;
11993|      0|                                            let expr1_0 = CC::BE;
11994|      0|                                            let expr2_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr1_0, pattern6_1, pattern6_2)?;
11995|      0|                                            let expr3_0 = constructor_with_flags(ctx, &expr0_0, &expr2_0)?;
11996|      0|                                            let expr4_0 = C::output(ctx, expr3_0);
11997|      0|                                            return Some(expr4_0);
11998|       |                                        }
11999|       |                                        &FloatCC::UnorderedOrLessThan  => {
12000|       |                                            // Rule at src/isa/x64/lower.isle line 1653.
12001|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_1, pattern11_0)?;
12002|      0|                                            let expr1_0 = CC::B;
12003|      0|                                            let expr2_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr1_0, pattern6_1, pattern6_2)?;
12004|      0|                                            let expr3_0 = constructor_with_flags(ctx, &expr0_0, &expr2_0)?;
12005|      0|                                            let expr4_0 = C::output(ctx, expr3_0);
12006|      0|                                            return Some(expr4_0);
12007|       |                                        }
12008|       |                                        &FloatCC::UnorderedOrLessThanOrEqual  => {
12009|       |                                            // Rule at src/isa/x64/lower.isle line 1656.
12010|      0|                                            let expr0_0 = constructor_x64_ucomis(ctx, pattern11_1, pattern11_0)?;
12011|      0|                                            let expr1_0 = CC::BE;
12012|      0|                                            let expr2_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr1_0, pattern6_1, pattern6_2)?;
12013|      0|                                            let expr3_0 = constructor_with_flags(ctx, &expr0_0, &expr2_0)?;
12014|      0|                                            let expr4_0 = C::output(ctx, expr3_0);
12015|      0|                                            return Some(expr4_0);
12016|       |                                        }
12017|      0|                                        _ => {}
12018|       |                                    }
12019|      0|                                }
12020|       |                            }
12021|      0|                            &InstructionData::IntCompare { opcode: ref pattern9_0, args: ref pattern9_1, cond: ref pattern9_2 } => {
12022|      0|                                if let &Opcode::Icmp  = pattern9_0 {
12023|      0|                                    let (pattern11_0, pattern11_1) = C::unpack_value_array_2(ctx, pattern9_1);
12024|      0|                                    let pattern12_0 = C::value_type(ctx, pattern11_0);
12025|      0|                                    if let Some(pattern13_0) = C::fits_in_64(ctx, pattern12_0) {
12026|       |                                        // Rule at src/isa/x64/lower.isle line 1706.
12027|      0|                                        let expr0_0 = C::raw_operand_size_of_type(ctx, pattern13_0);
12028|      0|                                        let expr1_0 = constructor_put_in_gpr_mem_imm(ctx, pattern11_1)?;
12029|      0|                                        let expr2_0 = constructor_put_in_gpr(ctx, pattern11_0)?;
12030|      0|                                        let expr3_0 = constructor_x64_cmp(ctx, &expr0_0, &expr1_0, expr2_0)?;
12031|      0|                                        let expr4_0 = C::intcc_to_cc(ctx, pattern9_2);
12032|      0|                                        let expr5_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr4_0, pattern6_1, pattern6_2)?;
12033|      0|                                        let expr6_0 = constructor_with_flags(ctx, &expr3_0, &expr5_0)?;
12034|      0|                                        let expr7_0 = C::output(ctx, expr6_0);
12035|      0|                                        return Some(expr7_0);
12036|      0|                                    }
12037|      0|                                }
12038|       |                            }
12039|      0|                            _ => {}
12040|       |                        }
12041|      0|                    }
12042|      0|                    let pattern7_0 = C::value_type(ctx, pattern6_0);
12043|      0|                    if pattern7_0 == B1 {
12044|       |                        // Rule at src/isa/x64/lower.isle line 1713.
12045|      0|                        let expr0_0: Type = B1;
12046|      0|                        let expr1_0 = C::raw_operand_size_of_type(ctx, expr0_0);
12047|      0|                        let expr2_0 = constructor_put_in_gpr(ctx, pattern6_0)?;
12048|      0|                        let expr3_0: u32 = 1i128 as u32;
12049|      0|                        let expr4_0 = RegMemImm::Imm {
12050|      0|                            simm32: expr3_0,
12051|      0|                        };
12052|      0|                        let expr5_0 = C::gpr_mem_imm_new(ctx, &expr4_0);
12053|      0|                        let expr6_0 = constructor_x64_test(ctx, &expr1_0, &expr5_0, expr2_0)?;
12054|      0|                        let expr7_0 = CC::NZ;
12055|      0|                        let expr8_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr7_0, pattern6_1, pattern6_2)?;
12056|      0|                        let expr9_0 = constructor_with_flags(ctx, &expr6_0, &expr8_0)?;
12057|      0|                        let expr10_0 = C::output(ctx, expr9_0);
12058|      0|                        return Some(expr10_0);
12059|      0|                    }
12060|      0|                    if let Some(pattern8_0) = C::fits_in_64(ctx, pattern7_0) {
12061|       |                        // Rule at src/isa/x64/lower.isle line 1720.
12062|      0|                        let expr0_0 = C::raw_operand_size_of_type(ctx, pattern8_0);
12063|      0|                        let expr1_0 = constructor_put_in_gpr(ctx, pattern6_0)?;
12064|      0|                        let expr2_0 = C::gpr_to_gpr_mem_imm(ctx, expr1_0);
12065|      0|                        let expr3_0 = constructor_x64_test(ctx, &expr0_0, &expr2_0, expr1_0)?;
12066|      0|                        let expr4_0 = CC::NZ;
12067|      0|                        let expr5_0 = constructor_cmove_from_values(ctx, pattern2_0, &expr4_0, pattern6_1, pattern6_2)?;
12068|      0|                        let expr6_0 = constructor_with_flags(ctx, &expr3_0, &expr5_0)?;
12069|      0|                        let expr7_0 = C::output(ctx, expr6_0);
12070|      0|                        return Some(expr7_0);
12071|      0|                    }
12072|      0|                }
12073|       |            }
12074|      2|            _ => {}
12075|       |        }
12076|     12|    }
12077|     14|    let pattern1_0 = C::inst_data(ctx, pattern0_0);
12078|     14|    match &pattern1_0 {
12079|      0|        &InstructionData::NullAry { opcode: ref pattern2_0 } => {
12080|      0|            match pattern2_0 {
12081|       |                &Opcode::Debugtrap  => {
12082|       |                    // Rule at src/isa/x64/lower.isle line 2203.
12083|      0|                    let expr0_0 = constructor_x64_hlt(ctx, )?;
12084|      0|                    let expr1_0 = constructor_side_effect(ctx, &expr0_0)?;
12085|      0|                    return Some(expr1_0);
12086|       |                }
12087|       |                &Opcode::GetPinnedReg  => {
12088|       |                    // Rule at src/isa/x64/lower.isle line 3474.
12089|      0|                    let expr0_0 = constructor_read_pinned_gpr(ctx, )?;
12090|      0|                    let expr1_0 = constructor_output_gpr(ctx, expr0_0)?;
12091|      0|                    return Some(expr1_0);
12092|       |                }
12093|       |                &Opcode::GetFramePointer  => {
12094|       |                    // Rule at src/isa/x64/lower.isle line 2838.
12095|      0|                    let expr0_0 = constructor_x64_rbp(ctx, )?;
12096|      0|                    let expr1_0 = constructor_output_reg(ctx, expr0_0)?;
12097|      0|                    return Some(expr1_0);
12098|       |                }
12099|       |                &Opcode::GetStackPointer  => {
12100|       |                    // Rule at src/isa/x64/lower.isle line 2841.
12101|      0|                    let expr0_0 = constructor_x64_rsp(ctx, )?;
12102|      0|                    let expr1_0 = constructor_output_reg(ctx, expr0_0)?;
12103|      0|                    return Some(expr1_0);
12104|       |                }
12105|       |                &Opcode::GetReturnAddress  => {
12106|       |                    // Rule at src/isa/x64/lower.isle line 2844.
12107|      0|                    let expr0_0: Type = I64;
12108|      0|                    let expr1_0: u32 = 8i128 as u32;
12109|      0|                    let expr2_0 = C::preg_rbp(ctx, );
12110|      0|                    let expr3_0 = C::preg_to_reg(ctx, expr2_0);
12111|      0|                    let expr4_0 = C::mem_flags_trusted(ctx, );
12112|      0|                    let expr5_0 = Amode::ImmReg {
12113|      0|                        simm32: expr1_0,
12114|      0|                        base: expr3_0,
12115|      0|                        flags: expr4_0,
12116|      0|                    };
12117|      0|                    let expr6_0 = C::amode_to_synthetic_amode(ctx, &expr5_0);
12118|      0|                    let expr7_0 = ExtKind::None;
12119|      0|                    let expr8_0 = constructor_x64_load(ctx, expr0_0, &expr6_0, &expr7_0)?;
12120|      0|                    let expr9_0 = constructor_output_reg(ctx, expr8_0)?;
12121|      0|                    return Some(expr9_0);
12122|       |                }
12123|       |                &Opcode::Nop  => {
12124|       |                    // Rule at src/isa/x64/lower.isle line 3764.
12125|      0|                    let expr0_0 = C::invalid_reg(ctx, );
12126|      0|                    let expr1_0 = constructor_output_reg(ctx, expr0_0)?;
12127|      0|                    return Some(expr1_0);
12128|       |                }
12129|       |                &Opcode::Fence  => {
12130|       |                    // Rule at src/isa/x64/lower.isle line 2767.
12131|      0|                    let expr0_0 = constructor_x64_mfence(ctx, )?;
12132|      0|                    let expr1_0 = constructor_side_effect(ctx, &expr0_0)?;
12133|      0|                    return Some(expr1_0);
12134|       |                }
12135|      0|                _ => {}
12136|       |            }
12137|       |        }
12138|      0|        &InstructionData::Unary { opcode: ref pattern2_0, arg: pattern2_1 } => {
12139|      0|            match pattern2_0 {
12140|       |                &Opcode::SetPinnedReg  => {
12141|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12142|       |                    // Rule at src/isa/x64/lower.isle line 3479.
12143|      0|                    let expr0_0 = constructor_put_in_gpr(ctx, pattern2_1)?;
12144|      0|                    let expr1_0 = constructor_write_pinned_gpr(ctx, expr0_0)?;
12145|      0|                    let expr2_0 = constructor_side_effect(ctx, &expr1_0)?;
12146|      0|                    return Some(expr2_0);
12147|       |                }
12148|       |                &Opcode::VanyTrue  => {
12149|       |                    // Rule at src/isa/x64/lower.isle line 3642.
12150|      0|                    let expr0_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12151|      0|                    let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
12152|      0|                    let expr2_0 = constructor_x64_ptest(ctx, &expr1_0, expr0_0)?;
12153|      0|                    let expr3_0 = CC::NZ;
12154|      0|                    let expr4_0 = constructor_x64_setcc(ctx, &expr3_0)?;
12155|      0|                    let expr5_0 = constructor_with_flags(ctx, &expr2_0, &expr4_0)?;
12156|      0|                    let expr6_0 = C::output(ctx, expr5_0);
12157|      0|                    return Some(expr6_0);
12158|       |                }
12159|       |                &Opcode::VallTrue  => {
12160|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12161|       |                    // Rule at src/isa/x64/lower.isle line 3648.
12162|      0|                    let expr0_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12163|      0|                    let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
12164|      0|                    let expr2_0 = constructor_x64_pxor(ctx, expr0_0, &expr1_0)?;
12165|      0|                    let expr3_0 = constructor_vec_int_type(ctx, pattern4_0)?;
12166|      0|                    let expr4_0 = C::xmm_to_xmm_mem(ctx, expr2_0);
12167|      0|                    let expr5_0 = constructor_x64_pcmpeq(ctx, expr3_0, expr0_0, &expr4_0)?;
12168|      0|                    let expr6_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
12169|      0|                    let expr7_0 = constructor_x64_ptest(ctx, &expr6_0, expr5_0)?;
12170|      0|                    let expr8_0 = CC::Z;
12171|      0|                    let expr9_0 = constructor_x64_setcc(ctx, &expr8_0)?;
12172|      0|                    let expr10_0 = constructor_with_flags(ctx, &expr7_0, &expr9_0)?;
12173|      0|                    let expr11_0 = C::output(ctx, expr10_0);
12174|      0|                    return Some(expr11_0);
12175|       |                }
12176|       |                &Opcode::VhighBits  => {
12177|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12178|      0|                    if let Some((pattern5_0, pattern5_1)) = C::multi_lane(ctx, pattern4_0) {
12179|      0|                        if pattern5_0 == 8i128 as u32  {
12180|      0|                            if pattern5_1 == 16i128 as u32  {
12181|       |                                // Rule at src/isa/x64/lower.isle line 3665.
12182|      0|                                let expr0_0 = OperandSize::Size32;
12183|      0|                                let expr1_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12184|      0|                                let expr2_0 = constructor_x64_pmovmskb(ctx, &expr0_0, expr1_0)?;
12185|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
12186|      0|                                return Some(expr3_0);
12187|      0|                            }
12188|      0|                        }
12189|      0|                        if pattern5_0 == 16i128 as u32  {
12190|      0|                            if pattern5_1 == 8i128 as u32  {
12191|       |                                // Rule at src/isa/x64/lower.isle line 3680.
12192|      0|                                let expr0_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12193|      0|                                let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
12194|      0|                                let expr2_0 = constructor_x64_packsswb(ctx, expr0_0, &expr1_0)?;
12195|      0|                                let expr3_0 = OperandSize::Size32;
12196|      0|                                let expr4_0 = constructor_x64_pmovmskb(ctx, &expr3_0, expr2_0)?;
12197|      0|                                let expr5_0: Type = I64;
12198|      0|                                let expr6_0: u8 = 8i128 as u8;
12199|      0|                                let expr7_0 = Imm8Reg::Imm8 {
12200|      0|                                    imm: expr6_0,
12201|      0|                                };
12202|      0|                                let expr8_0 = C::imm8_reg_to_imm8_gpr(ctx, &expr7_0);
12203|      0|                                let expr9_0 = constructor_x64_shr(ctx, expr5_0, expr4_0, &expr8_0)?;
12204|      0|                                let expr10_0 = constructor_output_gpr(ctx, expr9_0)?;
12205|      0|                                return Some(expr10_0);
12206|      0|                            }
12207|      0|                        }
12208|      0|                        if pattern5_0 == 32i128 as u32  {
12209|      0|                            if pattern5_1 == 4i128 as u32  {
12210|       |                                // Rule at src/isa/x64/lower.isle line 3668.
12211|      0|                                let expr0_0 = OperandSize::Size32;
12212|      0|                                let expr1_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12213|      0|                                let expr2_0 = constructor_x64_movmskps(ctx, &expr0_0, expr1_0)?;
12214|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
12215|      0|                                return Some(expr3_0);
12216|      0|                            }
12217|      0|                        }
12218|      0|                        if pattern5_0 == 64i128 as u32  {
12219|      0|                            if pattern5_1 == 2i128 as u32  {
12220|       |                                // Rule at src/isa/x64/lower.isle line 3671.
12221|      0|                                let expr0_0 = OperandSize::Size32;
12222|      0|                                let expr1_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12223|      0|                                let expr2_0 = constructor_x64_movmskpd(ctx, &expr0_0, expr1_0)?;
12224|      0|                                let expr3_0 = constructor_output_gpr(ctx, expr2_0)?;
12225|      0|                                return Some(expr3_0);
12226|      0|                            }
12227|      0|                        }
12228|      0|                    }
12229|       |                }
12230|       |                &Opcode::Ceil  => {
12231|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12232|      0|                    if pattern4_0 == F32 {
12233|       |                        // Rule at src/isa/x64/lower.isle line 3338.
12234|      0|                        let expr0_0 = LibCall::CeilF32;
12235|      0|                        let expr1_0 = C::put_in_reg(ctx, pattern2_1);
12236|      0|                        let expr2_0 = C::libcall_1(ctx, &expr0_0, expr1_0);
12237|      0|                        let expr3_0 = constructor_output_reg(ctx, expr2_0)?;
12238|      0|                        return Some(expr3_0);
12239|      0|                    }
12240|      0|                    if pattern4_0 == F64 {
12241|       |                        // Rule at src/isa/x64/lower.isle line 3344.
12242|      0|                        let expr0_0 = LibCall::CeilF64;
12243|      0|                        let expr1_0 = C::put_in_reg(ctx, pattern2_1);
12244|      0|                        let expr2_0 = C::libcall_1(ctx, &expr0_0, expr1_0);
12245|      0|                        let expr3_0 = constructor_output_reg(ctx, expr2_0)?;
12246|      0|                        return Some(expr3_0);
12247|      0|                    }
12248|       |                }
12249|       |                &Opcode::Floor  => {
12250|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12251|      0|                    if pattern4_0 == F32 {
12252|       |                        // Rule at src/isa/x64/lower.isle line 3358.
12253|      0|                        let expr0_0 = LibCall::FloorF32;
12254|      0|                        let expr1_0 = C::put_in_reg(ctx, pattern2_1);
12255|      0|                        let expr2_0 = C::libcall_1(ctx, &expr0_0, expr1_0);
12256|      0|                        let expr3_0 = constructor_output_reg(ctx, expr2_0)?;
12257|      0|                        return Some(expr3_0);
12258|      0|                    }
12259|      0|                    if pattern4_0 == F64 {
12260|       |                        // Rule at src/isa/x64/lower.isle line 3364.
12261|      0|                        let expr0_0 = LibCall::FloorF64;
12262|      0|                        let expr1_0 = C::put_in_reg(ctx, pattern2_1);
12263|      0|                        let expr2_0 = C::libcall_1(ctx, &expr0_0, expr1_0);
12264|      0|                        let expr3_0 = constructor_output_reg(ctx, expr2_0)?;
12265|      0|                        return Some(expr3_0);
12266|      0|                    }
12267|       |                }
12268|       |                &Opcode::Trunc  => {
12269|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12270|      0|                    if pattern4_0 == F32 {
12271|       |                        // Rule at src/isa/x64/lower.isle line 3398.
12272|      0|                        let expr0_0 = LibCall::TruncF32;
12273|      0|                        let expr1_0 = C::put_in_reg(ctx, pattern2_1);
12274|      0|                        let expr2_0 = C::libcall_1(ctx, &expr0_0, expr1_0);
12275|      0|                        let expr3_0 = constructor_output_reg(ctx, expr2_0)?;
12276|      0|                        return Some(expr3_0);
12277|      0|                    }
12278|      0|                    if pattern4_0 == F64 {
12279|       |                        // Rule at src/isa/x64/lower.isle line 3404.
12280|      0|                        let expr0_0 = LibCall::TruncF64;
12281|      0|                        let expr1_0 = C::put_in_reg(ctx, pattern2_1);
12282|      0|                        let expr2_0 = C::libcall_1(ctx, &expr0_0, expr1_0);
12283|      0|                        let expr3_0 = constructor_output_reg(ctx, expr2_0)?;
12284|      0|                        return Some(expr3_0);
12285|      0|                    }
12286|       |                }
12287|       |                &Opcode::Nearest  => {
12288|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12289|      0|                    if pattern4_0 == F32 {
12290|       |                        // Rule at src/isa/x64/lower.isle line 3378.
12291|      0|                        let expr0_0 = LibCall::NearestF32;
12292|      0|                        let expr1_0 = C::put_in_reg(ctx, pattern2_1);
12293|      0|                        let expr2_0 = C::libcall_1(ctx, &expr0_0, expr1_0);
12294|      0|                        let expr3_0 = constructor_output_reg(ctx, expr2_0)?;
12295|      0|                        return Some(expr3_0);
12296|      0|                    }
12297|      0|                    if pattern4_0 == F64 {
12298|       |                        // Rule at src/isa/x64/lower.isle line 3384.
12299|      0|                        let expr0_0 = LibCall::NearestF64;
12300|      0|                        let expr1_0 = C::put_in_reg(ctx, pattern2_1);
12301|      0|                        let expr2_0 = C::libcall_1(ctx, &expr0_0, expr1_0);
12302|      0|                        let expr3_0 = constructor_output_reg(ctx, expr2_0)?;
12303|      0|                        return Some(expr3_0);
12304|      0|                    }
12305|       |                }
12306|       |                &Opcode::IsNull  => {
12307|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12308|      0|                    if pattern4_0 == R64 {
12309|       |                        // Rule at src/isa/x64/lower.isle line 2046.
12310|      0|                        let expr0_0 = OperandSize::Size64;
12311|      0|                        let expr1_0: u32 = 0i128 as u32;
12312|      0|                        let expr2_0 = constructor_put_in_gpr(ctx, pattern2_1)?;
12313|      0|                        let expr3_0 = constructor_x64_cmp_imm(ctx, &expr0_0, expr1_0, expr2_0)?;
12314|      0|                        let expr4_0 = CC::Z;
12315|      0|                        let expr5_0 = constructor_x64_setcc(ctx, &expr4_0)?;
12316|      0|                        let expr6_0 = constructor_with_flags(ctx, &expr3_0, &expr5_0)?;
12317|      0|                        let expr7_0 = C::output(ctx, expr6_0);
12318|      0|                        return Some(expr7_0);
12319|      0|                    }
12320|       |                }
12321|       |                &Opcode::IsInvalid  => {
12322|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12323|      0|                    if pattern4_0 == R64 {
12324|       |                        // Rule at src/isa/x64/lower.isle line 2054.
12325|      0|                        let expr0_0 = OperandSize::Size64;
12326|      0|                        let expr1_0: u32 = 4294967295i128 as u32;
12327|      0|                        let expr2_0 = constructor_put_in_gpr(ctx, pattern2_1)?;
12328|      0|                        let expr3_0 = constructor_x64_cmp_imm(ctx, &expr0_0, expr1_0, expr2_0)?;
12329|      0|                        let expr4_0 = CC::Z;
12330|      0|                        let expr5_0 = constructor_x64_setcc(ctx, &expr4_0)?;
12331|      0|                        let expr6_0 = constructor_with_flags(ctx, &expr3_0, &expr5_0)?;
12332|      0|                        let expr7_0 = C::output(ctx, expr6_0);
12333|      0|                        return Some(expr7_0);
12334|      0|                    }
12335|       |                }
12336|       |                &Opcode::RawBitcast  => {
12337|       |                    // Rule at src/isa/x64/lower.isle line 3494.
12338|      0|                    let expr0_0 = C::put_in_regs(ctx, pattern2_1);
12339|      0|                    let expr1_0 = C::output(ctx, expr0_0);
12340|      0|                    return Some(expr1_0);
12341|       |                }
12342|       |                &Opcode::ScalarToVector  => {
12343|      0|                    if let Some(pattern4_0) = C::sinkable_load(ctx, pattern2_1) {
12344|      0|                        let pattern5_0 = C::value_type(ctx, pattern2_1);
12345|      0|                        if let Some(pattern6_0) = C::ty_32(ctx, pattern5_0) {
12346|       |                            // Rule at src/isa/x64/lower.isle line 3591.
12347|      0|                            let expr0_0 = constructor_sink_load_to_xmm_mem(ctx, &pattern4_0)?;
12348|      0|                            let expr1_0 = constructor_x64_movss_load(ctx, &expr0_0)?;
12349|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
12350|      0|                            return Some(expr2_0);
12351|      0|                        }
12352|      0|                        if let Some(pattern6_0) = C::ty_64(ctx, pattern5_0) {
12353|       |                            // Rule at src/isa/x64/lower.isle line 3593.
12354|      0|                            let expr0_0 = constructor_sink_load_to_xmm_mem(ctx, &pattern4_0)?;
12355|      0|                            let expr1_0 = constructor_x64_movsd_load(ctx, &expr0_0)?;
12356|      0|                            let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
12357|      0|                            return Some(expr2_0);
12358|      0|                        }
12359|      0|                    }
12360|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12361|      0|                    if let Some(pattern5_0) = C::ty_scalar_float(ctx, pattern4_0) {
12362|       |                        // Rule at src/isa/x64/lower.isle line 3581.
12363|      0|                        let expr0_0 = constructor_output_value(ctx, pattern2_1)?;
12364|      0|                        return Some(expr0_0);
12365|      0|                    }
12366|       |                    // Rule at src/isa/x64/lower.isle line 3586.
12367|      0|                    let expr0_0 = constructor_put_in_gpr(ctx, pattern2_1)?;
12368|      0|                    let expr1_0 = constructor_bitcast_gpr_to_xmm(ctx, pattern4_0, expr0_0)?;
12369|      0|                    let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
12370|      0|                    return Some(expr2_0);
12371|       |                }
12372|       |                &Opcode::FcvtFromSint  => {
12373|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12374|      0|                    if pattern4_0 == I32X4 {
12375|       |                        // Rule at src/isa/x64/lower.isle line 2962.
12376|      0|                        let expr0_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12377|      0|                        let expr1_0 = constructor_x64_cvtdq2ps(ctx, expr0_0)?;
12378|      0|                        let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
12379|      0|                        return Some(expr2_0);
12380|      0|                    }
12381|       |                }
12382|       |                &Opcode::FcvtLowFromSint  => {
12383|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12384|       |                    // Rule at src/isa/x64/lower.isle line 2967.
12385|      0|                    let expr0_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12386|      0|                    let expr1_0 = constructor_x64_cvtdq2pd(ctx, pattern4_0, expr0_0)?;
12387|      0|                    let expr2_0 = constructor_output_xmm(ctx, expr1_0)?;
12388|      0|                    return Some(expr2_0);
12389|       |                }
12390|       |                &Opcode::Isplit  => {
12391|      0|                    let pattern4_0 = C::value_type(ctx, pattern2_1);
12392|      0|                    if pattern4_0 == I128 {
12393|       |                        // Rule at src/isa/x64/lower.isle line 3693.
12394|      0|                        let expr0_0 = C::put_in_regs(ctx, pattern2_1);
12395|      0|                        let expr1_0: usize = 0i128 as usize;
12396|      0|                        let expr2_0 = C::value_regs_get(ctx, expr0_0, expr1_0);
12397|      0|                        let expr3_0: usize = 1i128 as usize;
12398|      0|                        let expr4_0 = C::value_regs_get(ctx, expr0_0, expr3_0);
12399|      0|                        let expr5_0 = C::value_reg(ctx, expr2_0);
12400|      0|                        let expr6_0 = C::value_reg(ctx, expr4_0);
12401|      0|                        let expr7_0 = C::output_pair(ctx, expr5_0, expr6_0);
12402|      0|                        return Some(expr7_0);
12403|      0|                    }
12404|       |                }
12405|      0|                _ => {}
12406|       |            }
12407|       |        }
12408|      0|        &InstructionData::BinaryImm8 { opcode: ref pattern2_0, arg: pattern2_1, imm: pattern2_2 } => {
12409|      0|            if let &Opcode::Extractlane  = pattern2_0 {
12410|      0|                let pattern4_0 = C::value_type(ctx, pattern2_1);
12411|      0|                if let Some((pattern5_0, pattern5_1)) = C::multi_lane(ctx, pattern4_0) {
12412|      0|                    if pattern5_0 == 8i128 as u32  {
12413|      0|                        if pattern5_1 == 16i128 as u32  {
12414|      0|                            let pattern8_0 = C::u8_from_uimm8(ctx, pattern2_2);
12415|       |                            // Rule at src/isa/x64/lower.isle line 3563.
12416|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12417|      0|                            let expr1_0 = constructor_x64_pextrb(ctx, pattern4_0, expr0_0, pattern8_0)?;
12418|      0|                            let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
12419|      0|                            return Some(expr2_0);
12420|      0|                        }
12421|      0|                    }
12422|      0|                    if pattern5_0 == 16i128 as u32  {
12423|      0|                        if pattern5_1 == 8i128 as u32  {
12424|      0|                            let pattern8_0 = C::u8_from_uimm8(ctx, pattern2_2);
12425|       |                            // Rule at src/isa/x64/lower.isle line 3566.
12426|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12427|      0|                            let expr1_0 = constructor_x64_pextrw(ctx, pattern4_0, expr0_0, pattern8_0)?;
12428|      0|                            let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
12429|      0|                            return Some(expr2_0);
12430|      0|                        }
12431|      0|                    }
12432|      0|                    if pattern5_0 == 32i128 as u32  {
12433|      0|                        if pattern5_1 == 4i128 as u32  {
12434|      0|                            let pattern8_0 = C::u8_from_uimm8(ctx, pattern2_2);
12435|       |                            // Rule at src/isa/x64/lower.isle line 3569.
12436|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12437|      0|                            let expr1_0 = constructor_x64_pextrd(ctx, pattern4_0, expr0_0, pattern8_0)?;
12438|      0|                            let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
12439|      0|                            return Some(expr2_0);
12440|      0|                        }
12441|      0|                    }
12442|      0|                    if pattern5_0 == 64i128 as u32  {
12443|      0|                        if pattern5_1 == 2i128 as u32  {
12444|      0|                            let pattern8_0 = C::u8_from_uimm8(ctx, pattern2_2);
12445|       |                            // Rule at src/isa/x64/lower.isle line 3572.
12446|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern2_1)?;
12447|      0|                            let expr1_0 = constructor_x64_pextrd(ctx, pattern4_0, expr0_0, pattern8_0)?;
12448|      0|                            let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
12449|      0|                            return Some(expr2_0);
12450|      0|                        }
12451|      0|                    }
12452|      0|                }
12453|      0|            }
12454|       |        }
12455|      0|        &InstructionData::FloatCondTrap { opcode: ref pattern2_0, arg: pattern2_1, cond: ref pattern2_2, code: ref pattern2_3 } => {
12456|      0|            if let &Opcode::Trapff  = pattern2_0 {
12457|      0|                if let Some(pattern4_0) = C::def_inst(ctx, pattern2_1) {
12458|      0|                    let pattern5_0 = C::inst_data(ctx, pattern4_0);
12459|      0|                    if let &InstructionData::Binary { opcode: ref pattern6_0, args: ref pattern6_1 } = &pattern5_0 {
12460|      0|                        if let &Opcode::Ffcmp  = pattern6_0 {
12461|      0|                            let (pattern8_0, pattern8_1) = C::unpack_value_array_2(ctx, pattern6_1);
12462|       |                            // Rule at src/isa/x64/lower.isle line 1430.
12463|      0|                            let expr0_0 = constructor_emit_fcmp(ctx, pattern2_2, pattern8_0, pattern8_1)?;
12464|      0|                            let expr1_0 = constructor_trap_if_fcmp(ctx, &expr0_0, pattern2_3)?;
12465|      0|                            let expr2_0 = constructor_side_effect(ctx, &expr1_0)?;
12466|      0|                            return Some(expr2_0);
12467|      0|                        }
12468|      0|                    }
12469|      0|                }
12470|      0|            }
12471|       |        }
12472|      0|        &InstructionData::IntCondTrap { opcode: ref pattern2_0, arg: pattern2_1, cond: ref pattern2_2, code: ref pattern2_3 } => {
12473|      0|            if let &Opcode::Trapif  = pattern2_0 {
12474|      0|                if let Some(pattern4_0) = C::def_inst(ctx, pattern2_1) {
12475|      0|                    let pattern5_0 = C::inst_data(ctx, pattern4_0);
12476|      0|                    if let &InstructionData::Binary { opcode: ref pattern6_0, args: ref pattern6_1 } = &pattern5_0 {
12477|      0|                        match pattern6_0 {
12478|       |                            &Opcode::Ifcmp  => {
12479|      0|                                let (pattern8_0, pattern8_1) = C::unpack_value_array_2(ctx, pattern6_1);
12480|       |                                // Rule at src/isa/x64/lower.isle line 1425.
12481|      0|                                let expr0_0 = constructor_emit_cmp(ctx, pattern2_2, pattern8_0, pattern8_1)?;
12482|      0|                                let expr1_0 = constructor_trap_if_icmp(ctx, &expr0_0, pattern2_3)?;
12483|      0|                                let expr2_0 = constructor_side_effect(ctx, &expr1_0)?;
12484|      0|                                return Some(expr2_0);
12485|       |                            }
12486|       |                            &Opcode::IaddIfcout  => {
12487|      0|                                let (pattern8_0, pattern8_1) = C::unpack_value_array_2(ctx, pattern6_1);
12488|       |                                // Rule at src/isa/x64/lower.isle line 1420.
12489|      0|                                let expr0_0 = constructor_flags_to_producesflags(ctx, pattern2_1)?;
12490|      0|                                let expr1_0 = C::intcc_to_cc(ctx, pattern2_2);
12491|      0|                                let expr2_0 = constructor_icmp_cond_result(ctx, &expr0_0, &expr1_0)?;
12492|      0|                                let expr3_0 = constructor_trap_if_icmp(ctx, &expr2_0, pattern2_3)?;
12493|      0|                                let expr4_0 = constructor_side_effect(ctx, &expr3_0)?;
12494|      0|                                return Some(expr4_0);
12495|       |                            }
12496|      0|                            _ => {}
12497|       |                        }
12498|      0|                    }
12499|      0|                }
12500|      0|            }
12501|       |        }
12502|      4|        &InstructionData::MultiAry { opcode: ref pattern2_0, args: pattern2_1 } => {
12503|      4|            if let &Opcode::Return  = pattern2_0 {
12504|      4|                let pattern4_0 = C::value_list_slice(ctx, pattern2_1);
12505|      4|                // Rule at src/isa/x64/lower.isle line 1441.
12506|      4|                let expr0_0: usize = 0i128 as usize;
12507|      4|                let expr1_0 = C::value_slice_len(ctx, pattern4_0);
12508|      4|                let expr2_0 = C::range(ctx, expr0_0, expr1_0);
12509|      4|                let expr3_0 = constructor_lower_return(ctx, expr2_0, pattern4_0)?;
12510|      4|                return Some(expr3_0);
12511|      0|            }
12512|       |        }
12513|      3|        &InstructionData::Call { opcode: ref pattern2_0, args: pattern2_1, func_ref: pattern2_2 } => {
12514|      3|            if let &Opcode::Call  = pattern2_0 {
12515|      3|                let pattern4_0 = C::value_list_slice(ctx, pattern2_1);
12516|      3|                let (pattern5_0, pattern5_1, pattern5_2) = C::func_ref_data(ctx, pattern2_2);
12517|      3|                // Rule at src/isa/x64/lower.isle line 2830.
12518|      3|                let expr0_0 = C::gen_call(ctx, pattern5_0, pattern5_1, pattern5_2, pattern4_0);
12519|      3|                return Some(expr0_0);
12520|      0|            }
12521|       |        }
12522|      1|        &InstructionData::CallIndirect { opcode: ref pattern2_0, args: pattern2_1, sig_ref: pattern2_2 } => {
12523|      1|            if let &Opcode::CallIndirect  = pattern2_0 {
12524|      1|                let pattern4_0 = C::value_list_slice(ctx, pattern2_1);
12525|      1|                if let Some((pattern5_0, pattern5_1)) = C::value_slice_unwrap(ctx, pattern4_0) {
12526|       |                    // Rule at src/isa/x64/lower.isle line 2833.
12527|      1|                    let expr0_0 = C::gen_call_indirect(ctx, pattern2_2, pattern5_0, pattern5_1);
12528|      1|                    return Some(expr0_0);
12529|      0|                }
12530|      0|            }
12531|       |        }
12532|      0|        &InstructionData::FuncAddr { opcode: ref pattern2_0, func_ref: pattern2_1 } => {
12533|      0|            if let &Opcode::FuncAddr  = pattern2_0 {
12534|      0|                let (pattern4_0, pattern4_1, pattern4_2) = C::func_ref_data(ctx, pattern2_1);
12535|      0|                // Rule at src/isa/x64/lower.isle line 2772.
12536|      0|                let expr0_0: i64 = 0i128 as i64;
12537|      0|                let expr1_0 = constructor_load_ext_name(ctx, pattern4_1, expr0_0)?;
12538|      0|                let expr2_0 = constructor_output_reg(ctx, expr1_0)?;
12539|      0|                return Some(expr2_0);
12540|      0|            }
12541|       |        }
12542|      0|        &InstructionData::UnaryGlobalValue { opcode: ref pattern2_0, global_value: pattern2_1 } => {
12543|      0|            match pattern2_0 {
12544|       |                &Opcode::SymbolValue  => {
12545|      0|                    if let Some((pattern4_0, pattern4_1, pattern4_2)) = C::symbol_value_data(ctx, pattern2_1) {
12546|       |                        // Rule at src/isa/x64/lower.isle line 2777.
12547|      0|                        let expr0_0 = constructor_load_ext_name(ctx, pattern4_0, pattern4_2)?;
12548|      0|                        let expr1_0 = constructor_output_reg(ctx, expr0_0)?;
12549|      0|                        return Some(expr1_0);
12550|      0|                    }
12551|       |                }
12552|       |                &Opcode::TlsValue  => {
12553|      0|                    if let Some((pattern4_0, pattern4_1, pattern4_2)) = C::symbol_value_data(ctx, pattern2_1) {
12554|      0|                        let mut closure5 = || {
12555|       |                            let expr0_0 = C::tls_model_is_elf_gd(ctx, )?;
12556|       |                            return Some(expr0_0);
12557|       |                        };
12558|      0|                        if let Some(pattern5_0) = closure5() {
12559|       |                            // Rule at src/isa/x64/lower.isle line 3701.
12560|      0|                            let expr0_0 = constructor_elf_tls_get_addr(ctx, pattern4_0)?;
12561|      0|                            let expr1_0 = constructor_output_gpr(ctx, expr0_0)?;
12562|      0|                            return Some(expr1_0);
12563|      0|                        }
12564|      0|                        let mut closure5 = || {
12565|       |                            let expr0_0 = C::tls_model_is_macho(ctx, )?;
12566|       |                            return Some(expr0_0);
12567|       |                        };
12568|      0|                        if let Some(pattern5_0) = closure5() {
12569|       |                            // Rule at src/isa/x64/lower.isle line 3705.
12570|      0|                            let expr0_0 = constructor_macho_tls_get_addr(ctx, pattern4_0)?;
12571|      0|                            let expr1_0 = constructor_output_gpr(ctx, expr0_0)?;
12572|      0|                            return Some(expr1_0);
12573|      0|                        }
12574|      0|                        let mut closure5 = || {
12575|       |                            let expr0_0 = C::tls_model_is_coff(ctx, )?;
12576|       |                            return Some(expr0_0);
12577|       |                        };
12578|      0|                        if let Some(pattern5_0) = closure5() {
12579|       |                            // Rule at src/isa/x64/lower.isle line 3709.
12580|      0|                            let expr0_0 = constructor_coff_tls_get_addr(ctx, pattern4_0)?;
12581|      0|                            let expr1_0 = constructor_output_gpr(ctx, expr0_0)?;
12582|      0|                            return Some(expr1_0);
12583|      0|                        }
12584|      0|                    }
12585|       |                }
12586|      0|                _ => {}
12587|       |            }
12588|       |        }
12589|      0|        &InstructionData::UnaryIeee32 { opcode: ref pattern2_0, imm: pattern2_1 } => {
12590|      0|            if let &Opcode::F32const  = pattern2_0 {
12591|      0|                let pattern4_0 = C::u64_from_ieee32(ctx, pattern2_1);
12592|      0|                // Rule at src/isa/x64/lower.isle line 51.
12593|      0|                let expr0_0: Type = F32;
12594|      0|                let expr1_0 = constructor_imm(ctx, expr0_0, pattern4_0)?;
12595|      0|                let expr2_0 = constructor_output_reg(ctx, expr1_0)?;
12596|      0|                return Some(expr2_0);
12597|      0|            }
12598|       |        }
12599|      0|        &InstructionData::UnaryIeee64 { opcode: ref pattern2_0, imm: pattern2_1 } => {
12600|      0|            if let &Opcode::F64const  = pattern2_0 {
12601|      0|                let pattern4_0 = C::u64_from_ieee64(ctx, pattern2_1);
12602|      0|                // Rule at src/isa/x64/lower.isle line 56.
12603|      0|                let expr0_0: Type = F64;
12604|      0|                let expr1_0 = constructor_imm(ctx, expr0_0, pattern4_0)?;
12605|      0|                let expr2_0 = constructor_output_reg(ctx, expr1_0)?;
12606|      0|                return Some(expr2_0);
12607|      0|            }
12608|       |        }
12609|      0|        &InstructionData::StackLoad { opcode: ref pattern2_0, stack_slot: pattern2_1, offset: pattern2_2 } => {
12610|      0|            if let &Opcode::StackAddr  = pattern2_0 {
12611|       |                // Rule at src/isa/x64/lower.isle line 3415.
12612|      0|                let expr0_0 = constructor_stack_addr_impl(ctx, pattern2_1, pattern2_2)?;
12613|      0|                let expr1_0 = constructor_output_gpr(ctx, expr0_0)?;
12614|      0|                return Some(expr1_0);
12615|      0|            }
12616|       |        }
12617|      2|        &InstructionData::Trap { opcode: ref pattern2_0, code: ref pattern2_1 } => {
12618|      2|            match pattern2_0 {
12619|       |                &Opcode::Trap  => {
12620|       |                    // Rule at src/isa/x64/lower.isle line 1412.
12621|      2|                    let expr0_0 = constructor_x64_ud2(ctx, pattern2_1)?;
12622|      2|                    let expr1_0 = constructor_side_effect(ctx, &expr0_0)?;
12623|      2|                    return Some(expr1_0);
12624|       |                }
12625|       |                &Opcode::ResumableTrap  => {
12626|       |                    // Rule at src/isa/x64/lower.isle line 1435.
12627|      0|                    let expr0_0 = constructor_x64_ud2(ctx, pattern2_1)?;
12628|      0|                    let expr1_0 = constructor_side_effect(ctx, &expr0_0)?;
12629|      0|                    return Some(expr1_0);
12630|       |                }
12631|      0|                _ => {}
12632|       |            }
12633|       |        }
12634|      0|        &InstructionData::Binary { opcode: ref pattern2_0, args: ref pattern2_1 } => {
12635|      0|            match pattern2_0 {
12636|       |                &Opcode::Swizzle  => {
12637|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12638|       |                    // Rule at src/isa/x64/lower.isle line 3538.
12639|      0|                    let expr0_0 = constructor_put_in_xmm(ctx, pattern4_1)?;
12640|      0|                    let expr1_0: Type = I8X16;
12641|      0|                    let expr2_0 = C::swizzle_zero_mask(ctx, );
12642|      0|                    let expr3_0 = constructor_x64_xmm_load_const(ctx, expr1_0, expr2_0)?;
12643|      0|                    let expr4_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
12644|      0|                    let expr5_0 = constructor_x64_paddusb(ctx, expr0_0, &expr4_0)?;
12645|      0|                    let expr6_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
12646|      0|                    let expr7_0 = C::xmm_to_xmm_mem(ctx, expr5_0);
12647|      0|                    let expr8_0 = constructor_x64_pshufb(ctx, expr6_0, &expr7_0)?;
12648|      0|                    let expr9_0 = constructor_output_xmm(ctx, expr8_0)?;
12649|      0|                    return Some(expr9_0);
12650|       |                }
12651|       |                &Opcode::Umulhi  => {
12652|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12653|      0|                    let pattern5_0 = C::value_type(ctx, pattern4_0);
12654|      0|                    if pattern5_0 == I16 {
12655|       |                        // Rule at src/isa/x64/lower.isle line 3440.
12656|      0|                        let expr0_0: Type = I16;
12657|      0|                        let expr1_0: bool = false;
12658|      0|                        let expr2_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
12659|      0|                        let expr3_0 = constructor_put_in_gpr_mem(ctx, pattern4_1)?;
12660|      0|                        let expr4_0 = constructor_mul_hi(ctx, expr0_0, expr1_0, expr2_0, &expr3_0)?;
12661|      0|                        let expr5_0: usize = 1i128 as usize;
12662|      0|                        let expr6_0 = constructor_value_regs_get_gpr(ctx, expr4_0, expr5_0)?;
12663|      0|                        let expr7_0 = constructor_output_gpr(ctx, expr6_0)?;
12664|      0|                        return Some(expr7_0);
12665|      0|                    }
12666|      0|                    if pattern5_0 == I32 {
12667|       |                        // Rule at src/isa/x64/lower.isle line 3445.
12668|      0|                        let expr0_0: Type = I32;
12669|      0|                        let expr1_0: bool = false;
12670|      0|                        let expr2_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
12671|      0|                        let expr3_0 = constructor_put_in_gpr_mem(ctx, pattern4_1)?;
12672|      0|                        let expr4_0 = constructor_mul_hi(ctx, expr0_0, expr1_0, expr2_0, &expr3_0)?;
12673|      0|                        let expr5_0: usize = 1i128 as usize;
12674|      0|                        let expr6_0 = constructor_value_regs_get_gpr(ctx, expr4_0, expr5_0)?;
12675|      0|                        let expr7_0 = constructor_output_gpr(ctx, expr6_0)?;
12676|      0|                        return Some(expr7_0);
12677|      0|                    }
12678|      0|                    if pattern5_0 == I64 {
12679|       |                        // Rule at src/isa/x64/lower.isle line 3450.
12680|      0|                        let expr0_0: Type = I64;
12681|      0|                        let expr1_0: bool = false;
12682|      0|                        let expr2_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
12683|      0|                        let expr3_0 = constructor_put_in_gpr_mem(ctx, pattern4_1)?;
12684|      0|                        let expr4_0 = constructor_mul_hi(ctx, expr0_0, expr1_0, expr2_0, &expr3_0)?;
12685|      0|                        let expr5_0: usize = 1i128 as usize;
12686|      0|                        let expr6_0 = constructor_value_regs_get_gpr(ctx, expr4_0, expr5_0)?;
12687|      0|                        let expr7_0 = constructor_output_gpr(ctx, expr6_0)?;
12688|      0|                        return Some(expr7_0);
12689|      0|                    }
12690|       |                }
12691|       |                &Opcode::Smulhi  => {
12692|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12693|      0|                    let pattern5_0 = C::value_type(ctx, pattern4_0);
12694|      0|                    if pattern5_0 == I16 {
12695|       |                        // Rule at src/isa/x64/lower.isle line 3457.
12696|      0|                        let expr0_0: Type = I16;
12697|      0|                        let expr1_0: bool = true;
12698|      0|                        let expr2_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
12699|      0|                        let expr3_0 = constructor_put_in_gpr_mem(ctx, pattern4_1)?;
12700|      0|                        let expr4_0 = constructor_mul_hi(ctx, expr0_0, expr1_0, expr2_0, &expr3_0)?;
12701|      0|                        let expr5_0: usize = 1i128 as usize;
12702|      0|                        let expr6_0 = constructor_value_regs_get_gpr(ctx, expr4_0, expr5_0)?;
12703|      0|                        let expr7_0 = constructor_output_gpr(ctx, expr6_0)?;
12704|      0|                        return Some(expr7_0);
12705|      0|                    }
12706|      0|                    if pattern5_0 == I32 {
12707|       |                        // Rule at src/isa/x64/lower.isle line 3462.
12708|      0|                        let expr0_0: Type = I32;
12709|      0|                        let expr1_0: bool = true;
12710|      0|                        let expr2_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
12711|      0|                        let expr3_0 = constructor_put_in_gpr_mem(ctx, pattern4_1)?;
12712|      0|                        let expr4_0 = constructor_mul_hi(ctx, expr0_0, expr1_0, expr2_0, &expr3_0)?;
12713|      0|                        let expr5_0: usize = 1i128 as usize;
12714|      0|                        let expr6_0 = constructor_value_regs_get_gpr(ctx, expr4_0, expr5_0)?;
12715|      0|                        let expr7_0 = constructor_output_gpr(ctx, expr6_0)?;
12716|      0|                        return Some(expr7_0);
12717|      0|                    }
12718|      0|                    if pattern5_0 == I64 {
12719|       |                        // Rule at src/isa/x64/lower.isle line 3467.
12720|      0|                        let expr0_0: Type = I64;
12721|      0|                        let expr1_0: bool = true;
12722|      0|                        let expr2_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
12723|      0|                        let expr3_0 = constructor_put_in_gpr_mem(ctx, pattern4_1)?;
12724|      0|                        let expr4_0 = constructor_mul_hi(ctx, expr0_0, expr1_0, expr2_0, &expr3_0)?;
12725|      0|                        let expr5_0: usize = 1i128 as usize;
12726|      0|                        let expr6_0 = constructor_value_regs_get_gpr(ctx, expr4_0, expr5_0)?;
12727|      0|                        let expr7_0 = constructor_output_gpr(ctx, expr6_0)?;
12728|      0|                        return Some(expr7_0);
12729|      0|                    }
12730|       |                }
12731|       |                &Opcode::SqmulRoundSat  => {
12732|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12733|      0|                    let pattern5_0 = C::value_type(ctx, pattern4_0);
12734|      0|                    if pattern5_0 == I16X8 {
12735|       |                        // Rule at src/isa/x64/lower.isle line 3715.
12736|      0|                        let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
12737|      0|                        let expr1_0 = constructor_put_in_xmm(ctx, pattern4_1)?;
12738|      0|                        let expr2_0: Type = I16X8;
12739|      0|                        let expr3_0 = C::sqmul_round_sat_mask(ctx, );
12740|      0|                        let expr4_0 = constructor_x64_xmm_load_const(ctx, expr2_0, expr3_0)?;
12741|      0|                        let expr5_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
12742|      0|                        let expr6_0 = constructor_x64_pmulhrsw(ctx, expr0_0, &expr5_0)?;
12743|      0|                        let expr7_0 = C::xmm_to_xmm_mem(ctx, expr6_0);
12744|      0|                        let expr8_0 = constructor_x64_pcmpeqw(ctx, expr4_0, &expr7_0)?;
12745|      0|                        let expr9_0 = C::xmm_to_xmm_mem(ctx, expr8_0);
12746|      0|                        let expr10_0 = constructor_x64_pxor(ctx, expr6_0, &expr9_0)?;
12747|      0|                        let expr11_0 = constructor_output_xmm(ctx, expr10_0)?;
12748|      0|                        return Some(expr11_0);
12749|      0|                    }
12750|       |                }
12751|       |                &Opcode::Udiv  => {
12752|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12753|      0|                    let pattern5_0 = C::value_type(ctx, pattern4_0);
12754|      0|                    // Rule at src/isa/x64/lower.isle line 3420.
12755|      0|                    let expr0_0 = DivOrRemKind::UnsignedDiv;
12756|      0|                    let expr1_0 = constructor_div_or_rem(ctx, &expr0_0, pattern4_0, pattern4_1)?;
12757|      0|                    let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
12758|      0|                    return Some(expr2_0);
12759|       |                }
12760|       |                &Opcode::Sdiv  => {
12761|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12762|      0|                    let pattern5_0 = C::value_type(ctx, pattern4_0);
12763|      0|                    // Rule at src/isa/x64/lower.isle line 3425.
12764|      0|                    let expr0_0 = DivOrRemKind::SignedDiv;
12765|      0|                    let expr1_0 = constructor_div_or_rem(ctx, &expr0_0, pattern4_0, pattern4_1)?;
12766|      0|                    let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
12767|      0|                    return Some(expr2_0);
12768|       |                }
12769|       |                &Opcode::Urem  => {
12770|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12771|      0|                    let pattern5_0 = C::value_type(ctx, pattern4_0);
12772|      0|                    // Rule at src/isa/x64/lower.isle line 3430.
12773|      0|                    let expr0_0 = DivOrRemKind::UnsignedRem;
12774|      0|                    let expr1_0 = constructor_div_or_rem(ctx, &expr0_0, pattern4_0, pattern4_1)?;
12775|      0|                    let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
12776|      0|                    return Some(expr2_0);
12777|       |                }
12778|       |                &Opcode::Srem  => {
12779|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12780|      0|                    let pattern5_0 = C::value_type(ctx, pattern4_0);
12781|      0|                    // Rule at src/isa/x64/lower.isle line 3435.
12782|      0|                    let expr0_0 = DivOrRemKind::SignedRem;
12783|      0|                    let expr1_0 = constructor_div_or_rem(ctx, &expr0_0, pattern4_0, pattern4_1)?;
12784|      0|                    let expr2_0 = constructor_output_gpr(ctx, expr1_0)?;
12785|      0|                    return Some(expr2_0);
12786|       |                }
12787|       |                &Opcode::Uunarrow  => {
12788|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12789|      0|                    if let Some(pattern5_0) = C::def_inst(ctx, pattern4_0) {
12790|      0|                        let pattern6_0 = C::inst_data(ctx, pattern5_0);
12791|      0|                        if let &InstructionData::Unary { opcode: ref pattern7_0, arg: pattern7_1 } = &pattern6_0 {
12792|      0|                            if let &Opcode::FcvtToUintSat  = pattern7_0 {
12793|      0|                                let pattern9_0 = C::value_type(ctx, pattern7_1);
12794|      0|                                if pattern9_0 == F64X2 {
12795|      0|                                    if let Some(pattern11_0) = C::def_inst(ctx, pattern4_1) {
12796|      0|                                        let pattern12_0 = C::inst_data(ctx, pattern11_0);
12797|      0|                                        if let &InstructionData::UnaryConst { opcode: ref pattern13_0, constant_handle: pattern13_1 } = &pattern12_0 {
12798|      0|                                            if let &Opcode::Vconst  = pattern13_0 {
12799|      0|                                                if let Some(pattern15_0) = C::u128_from_constant(ctx, pattern13_1) {
12800|      0|                                                    if pattern15_0 == 0i128 as u128  {
12801|       |                                                        // Rule at src/isa/x64/lower.isle line 3738.
12802|      0|                                                        let expr0_0 = constructor_put_in_xmm(ctx, pattern7_1)?;
12803|      0|                                                        let expr1_0 = C::xmm_to_xmm_mem(ctx, expr0_0);
12804|      0|                                                        let expr2_0 = constructor_x64_xorpd(ctx, expr0_0, &expr1_0)?;
12805|      0|                                                        let expr3_0 = constructor_x64_maxpd(ctx, expr0_0, expr2_0)?;
12806|      0|                                                        let expr4_0: Type = F64X2;
12807|      0|                                                        let expr5_0 = C::uunarrow_umax_mask(ctx, );
12808|      0|                                                        let expr6_0 = constructor_x64_xmm_load_const(ctx, expr4_0, expr5_0)?;
12809|      0|                                                        let expr7_0 = constructor_x64_minpd(ctx, expr3_0, expr6_0)?;
12810|      0|                                                        let expr8_0 = C::xmm_to_xmm_mem(ctx, expr7_0);
12811|      0|                                                        let expr9_0 = RoundImm::RoundZero;
12812|      0|                                                        let expr10_0 = constructor_x64_roundpd(ctx, &expr8_0, &expr9_0)?;
12813|      0|                                                        let expr11_0: Type = F64X2;
12814|      0|                                                        let expr12_0 = C::uunarrow_uint_mask(ctx, );
12815|      0|                                                        let expr13_0 = constructor_x64_xmm_load_const(ctx, expr11_0, expr12_0)?;
12816|      0|                                                        let expr14_0 = C::xmm_to_xmm_mem(ctx, expr13_0);
12817|      0|                                                        let expr15_0 = constructor_x64_addpd(ctx, expr10_0, &expr14_0)?;
12818|      0|                                                        let expr16_0 = C::xmm_to_xmm_mem(ctx, expr2_0);
12819|      0|                                                        let expr17_0: u8 = 136i128 as u8;
12820|      0|                                                        let expr18_0 = constructor_x64_shufps(ctx, expr15_0, &expr16_0, expr17_0)?;
12821|      0|                                                        let expr19_0 = constructor_output_xmm(ctx, expr18_0)?;
12822|      0|                                                        return Some(expr19_0);
12823|      0|                                                    }
12824|      0|                                                }
12825|      0|                                            }
12826|      0|                                        }
12827|      0|                                    }
12828|      0|                                }
12829|      0|                            }
12830|      0|                        }
12831|      0|                    }
12832|       |                }
12833|       |                &Opcode::Iconcat  => {
12834|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12835|      0|                    let pattern5_0 = C::value_type(ctx, pattern4_0);
12836|      0|                    if pattern5_0 == I64 {
12837|       |                        // Rule at src/isa/x64/lower.isle line 3688.
12838|      0|                        let expr0_0 = C::put_in_reg(ctx, pattern4_0);
12839|      0|                        let expr1_0 = C::put_in_reg(ctx, pattern4_1);
12840|      0|                        let expr2_0 = C::value_regs(ctx, expr0_0, expr1_0);
12841|      0|                        let expr3_0 = C::output(ctx, expr2_0);
12842|      0|                        return Some(expr3_0);
12843|      0|                    }
12844|       |                }
12845|      0|                _ => {}
12846|       |            }
12847|       |        }
12848|      0|        &InstructionData::Shuffle { opcode: ref pattern2_0, args: ref pattern2_1, imm: pattern2_2 } => {
12849|      0|            if let &Opcode::Shuffle  = pattern2_0 {
12850|      0|                let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12851|      0|                if pattern4_1 == pattern4_0 {
12852|      0|                    if let Some(pattern6_0) = C::vec_mask_from_immediate(ctx, pattern2_2) {
12853|       |                        // Rule at src/isa/x64/lower.isle line 3503.
12854|      0|                        let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
12855|      0|                        let expr1_0: Type = I8X16;
12856|      0|                        let expr2_0 = C::shuffle_0_31_mask(ctx, &pattern6_0);
12857|      0|                        let expr3_0 = constructor_x64_xmm_load_const(ctx, expr1_0, expr2_0)?;
12858|      0|                        let expr4_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
12859|      0|                        let expr5_0 = constructor_x64_pshufb(ctx, expr0_0, &expr4_0)?;
12860|      0|                        let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
12861|      0|                        return Some(expr6_0);
12862|      0|                    }
12863|      0|                }
12864|      0|                if let Some(pattern5_0) = C::vec_mask_from_immediate(ctx, pattern2_2) {
12865|       |                    // Rule at src/isa/x64/lower.isle line 3525.
12866|      0|                    let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
12867|      0|                    let expr1_0: Type = I8X16;
12868|      0|                    let expr2_0 = C::shuffle_0_15_mask(ctx, &pattern5_0);
12869|      0|                    let expr3_0 = constructor_x64_xmm_load_const(ctx, expr1_0, expr2_0)?;
12870|      0|                    let expr4_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
12871|      0|                    let expr5_0 = constructor_x64_pshufb(ctx, expr0_0, &expr4_0)?;
12872|      0|                    let expr6_0 = constructor_put_in_xmm(ctx, pattern4_1)?;
12873|      0|                    let expr7_0: Type = I8X16;
12874|      0|                    let expr8_0 = C::shuffle_16_31_mask(ctx, &pattern5_0);
12875|      0|                    let expr9_0 = constructor_x64_xmm_load_const(ctx, expr7_0, expr8_0)?;
12876|      0|                    let expr10_0 = C::xmm_to_xmm_mem(ctx, expr9_0);
12877|      0|                    let expr11_0 = constructor_x64_pshufb(ctx, expr6_0, &expr10_0)?;
12878|      0|                    let expr12_0 = C::xmm_to_xmm_mem(ctx, expr11_0);
12879|      0|                    let expr13_0 = constructor_x64_por(ctx, expr5_0, &expr12_0)?;
12880|      0|                    let expr14_0 = constructor_output_xmm(ctx, expr13_0)?;
12881|      0|                    return Some(expr14_0);
12882|      0|                }
12883|      0|            }
12884|       |        }
12885|      0|        &InstructionData::StoreNoOffset { opcode: ref pattern2_0, args: ref pattern2_1, flags: pattern2_2 } => {
12886|      0|            if let &Opcode::AtomicStore  = pattern2_0 {
12887|      0|                let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12888|      0|                let pattern5_0 = C::value_type(ctx, pattern4_0);
12889|      0|                if let Some(pattern6_0) = C::fits_in_64(ctx, pattern5_0) {
12890|      0|                    if let Some(pattern7_0) = C::ty_int(ctx, pattern5_0) {
12891|       |                        // Rule at src/isa/x64/lower.isle line 2799.
12892|      0|                        let expr0_0 = C::zero_offset(ctx, );
12893|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern2_2, pattern4_1, expr0_0)?;
12894|      0|                        let expr2_0 = C::amode_to_synthetic_amode(ctx, &expr1_0);
12895|      0|                        let expr3_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
12896|      0|                        let expr4_0 = constructor_x64_movrm(ctx, pattern6_0, &expr2_0, expr3_0)?;
12897|      0|                        let expr5_0 = constructor_x64_mfence(ctx, )?;
12898|      0|                        let expr6_0 = constructor_side_effect_concat(ctx, &expr4_0, &expr5_0)?;
12899|      0|                        let expr7_0 = constructor_side_effect(ctx, &expr6_0)?;
12900|      0|                        return Some(expr7_0);
12901|      0|                    }
12902|      0|                }
12903|      0|            }
12904|       |        }
12905|      4|        &InstructionData::Store { opcode: ref pattern2_0, args: ref pattern2_1, flags: pattern2_2, offset: pattern2_3 } => {
12906|      4|            match pattern2_0 {
12907|       |                &Opcode::Store  => {
12908|      4|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
12909|      4|                    if let Some(pattern5_0) = C::def_inst(ctx, pattern4_0) {
12910|      4|                        if let Some(pattern6_0) = C::first_result(ctx, pattern5_0) {
12911|      4|                            let pattern7_0 = C::value_type(ctx, pattern6_0);
12912|      4|                            if let Some(pattern8_0) = C::ty_32_or_64(ctx, pattern7_0) {
12913|      4|                                let pattern9_0 = C::inst_data(ctx, pattern5_0);
12914|      4|                                if let &InstructionData::Binary { opcode: ref pattern10_0, args: ref pattern10_1 } = &pattern9_0 {
12915|      3|                                    match pattern10_0 {
12916|       |                                        &Opcode::Iadd  => {
12917|      2|                                            let (pattern12_0, pattern12_1) = C::unpack_value_array_2(ctx, pattern10_1);
12918|      2|                                            if let Some(pattern13_0) = C::sinkable_load(ctx, pattern12_0) {
12919|      1|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern12_0) {
12920|      1|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
12921|      1|                                                    if let &InstructionData::Load { opcode: ref pattern16_0, arg: pattern16_1, flags: pattern16_2, offset: pattern16_3 } = &pattern15_0 {
12922|      1|                                                        if let &Opcode::Load  = pattern16_0 {
12923|      1|                                                            if pattern4_1 == pattern16_1 {
12924|      1|                                                                if pattern2_2 == pattern16_2 {
12925|      1|                                                                    if pattern2_3 == pattern16_3 {
12926|       |                                                                        // Rule at src/isa/x64/lower.isle line 2640.
12927|      1|                                                                        let expr0_0 = C::sink_load(ctx, &pattern13_0);
12928|      1|                                                                        let expr1_0 = constructor_reg_mem_to_reg_mem_imm(ctx, &expr0_0)?;
12929|      1|                                                                        let expr2_0 = constructor_to_amode(ctx, pattern16_2, pattern16_1, pattern16_3)?;
12930|      1|                                                                        let expr3_0 = constructor_put_in_gpr(ctx, pattern12_1)?;
12931|      1|                                                                        let expr4_0 = constructor_x64_add_mem(ctx, pattern8_0, &expr2_0, expr3_0)?;
12932|      1|                                                                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
12933|      1|                                                                        return Some(expr5_0);
12934|      0|                                                                    }
12935|      0|                                                                }
12936|      0|                                                            }
12937|      0|                                                        }
12938|      0|                                                    }
12939|      0|                                                }
12940|      1|                                            }
12941|      1|                                            if let Some(pattern13_0) = C::sinkable_load(ctx, pattern12_1) {
12942|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern12_1) {
12943|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
12944|      0|                                                    if let &InstructionData::Load { opcode: ref pattern16_0, arg: pattern16_1, flags: pattern16_2, offset: pattern16_3 } = &pattern15_0 {
12945|      0|                                                        if let &Opcode::Load  = pattern16_0 {
12946|      0|                                                            if pattern4_1 == pattern16_1 {
12947|      0|                                                                if pattern2_2 == pattern16_2 {
12948|      0|                                                                    if pattern2_3 == pattern16_3 {
12949|       |                                                                        // Rule at src/isa/x64/lower.isle line 2654.
12950|      0|                                                                        let expr0_0 = C::sink_load(ctx, &pattern13_0);
12951|      0|                                                                        let expr1_0 = constructor_reg_mem_to_reg_mem_imm(ctx, &expr0_0)?;
12952|      0|                                                                        let expr2_0 = constructor_to_amode(ctx, pattern16_2, pattern16_1, pattern16_3)?;
12953|      0|                                                                        let expr3_0 = constructor_put_in_gpr(ctx, pattern12_0)?;
12954|      0|                                                                        let expr4_0 = constructor_x64_add_mem(ctx, pattern8_0, &expr2_0, expr3_0)?;
12955|      0|                                                                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
12956|      0|                                                                        return Some(expr5_0);
12957|      0|                                                                    }
12958|      0|                                                                }
12959|      0|                                                            }
12960|      0|                                                        }
12961|      0|                                                    }
12962|      0|                                                }
12963|      1|                                            }
12964|       |                                        }
12965|       |                                        &Opcode::Isub  => {
12966|      1|                                            let (pattern12_0, pattern12_1) = C::unpack_value_array_2(ctx, pattern10_1);
12967|      1|                                            if let Some(pattern13_0) = C::sinkable_load(ctx, pattern12_0) {
12968|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern12_0) {
12969|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
12970|      0|                                                    if let &InstructionData::Load { opcode: ref pattern16_0, arg: pattern16_1, flags: pattern16_2, offset: pattern16_3 } = &pattern15_0 {
12971|      0|                                                        if let &Opcode::Load  = pattern16_0 {
12972|      0|                                                            if pattern4_1 == pattern16_1 {
12973|      0|                                                                if pattern2_2 == pattern16_2 {
12974|      0|                                                                    if pattern2_3 == pattern16_3 {
12975|       |                                                                        // Rule at src/isa/x64/lower.isle line 2668.
12976|      0|                                                                        let expr0_0 = C::sink_load(ctx, &pattern13_0);
12977|      0|                                                                        let expr1_0 = constructor_reg_mem_to_reg_mem_imm(ctx, &expr0_0)?;
12978|      0|                                                                        let expr2_0 = constructor_to_amode(ctx, pattern16_2, pattern16_1, pattern16_3)?;
12979|      0|                                                                        let expr3_0 = constructor_put_in_gpr(ctx, pattern12_1)?;
12980|      0|                                                                        let expr4_0 = constructor_x64_sub_mem(ctx, pattern8_0, &expr2_0, expr3_0)?;
12981|      0|                                                                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
12982|      0|                                                                        return Some(expr5_0);
12983|      0|                                                                    }
12984|      0|                                                                }
12985|      0|                                                            }
12986|      0|                                                        }
12987|      0|                                                    }
12988|      0|                                                }
12989|      1|                                            }
12990|       |                                        }
12991|       |                                        &Opcode::Band  => {
12992|      0|                                            let (pattern12_0, pattern12_1) = C::unpack_value_array_2(ctx, pattern10_1);
12993|      0|                                            if let Some(pattern13_0) = C::sinkable_load(ctx, pattern12_0) {
12994|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern12_0) {
12995|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
12996|      0|                                                    if let &InstructionData::Load { opcode: ref pattern16_0, arg: pattern16_1, flags: pattern16_2, offset: pattern16_3 } = &pattern15_0 {
12997|      0|                                                        if let &Opcode::Load  = pattern16_0 {
12998|      0|                                                            if pattern4_1 == pattern16_1 {
12999|      0|                                                                if pattern2_2 == pattern16_2 {
13000|      0|                                                                    if pattern2_3 == pattern16_3 {
13001|       |                                                                        // Rule at src/isa/x64/lower.isle line 2682.
13002|      0|                                                                        let expr0_0 = C::sink_load(ctx, &pattern13_0);
13003|      0|                                                                        let expr1_0 = constructor_reg_mem_to_reg_mem_imm(ctx, &expr0_0)?;
13004|      0|                                                                        let expr2_0 = constructor_to_amode(ctx, pattern16_2, pattern16_1, pattern16_3)?;
13005|      0|                                                                        let expr3_0 = constructor_put_in_gpr(ctx, pattern12_1)?;
13006|      0|                                                                        let expr4_0 = constructor_x64_and_mem(ctx, pattern8_0, &expr2_0, expr3_0)?;
13007|      0|                                                                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13008|      0|                                                                        return Some(expr5_0);
13009|      0|                                                                    }
13010|      0|                                                                }
13011|      0|                                                            }
13012|      0|                                                        }
13013|      0|                                                    }
13014|      0|                                                }
13015|      0|                                            }
13016|      0|                                            if let Some(pattern13_0) = C::sinkable_load(ctx, pattern12_1) {
13017|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern12_1) {
13018|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
13019|      0|                                                    if let &InstructionData::Load { opcode: ref pattern16_0, arg: pattern16_1, flags: pattern16_2, offset: pattern16_3 } = &pattern15_0 {
13020|      0|                                                        if let &Opcode::Load  = pattern16_0 {
13021|      0|                                                            if pattern4_1 == pattern16_1 {
13022|      0|                                                                if pattern2_2 == pattern16_2 {
13023|      0|                                                                    if pattern2_3 == pattern16_3 {
13024|       |                                                                        // Rule at src/isa/x64/lower.isle line 2696.
13025|      0|                                                                        let expr0_0 = C::sink_load(ctx, &pattern13_0);
13026|      0|                                                                        let expr1_0 = constructor_reg_mem_to_reg_mem_imm(ctx, &expr0_0)?;
13027|      0|                                                                        let expr2_0 = constructor_to_amode(ctx, pattern16_2, pattern16_1, pattern16_3)?;
13028|      0|                                                                        let expr3_0 = constructor_put_in_gpr(ctx, pattern12_0)?;
13029|      0|                                                                        let expr4_0 = constructor_x64_and_mem(ctx, pattern8_0, &expr2_0, expr3_0)?;
13030|      0|                                                                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13031|      0|                                                                        return Some(expr5_0);
13032|      0|                                                                    }
13033|      0|                                                                }
13034|      0|                                                            }
13035|      0|                                                        }
13036|      0|                                                    }
13037|      0|                                                }
13038|      0|                                            }
13039|       |                                        }
13040|       |                                        &Opcode::Bor  => {
13041|      0|                                            let (pattern12_0, pattern12_1) = C::unpack_value_array_2(ctx, pattern10_1);
13042|      0|                                            if let Some(pattern13_0) = C::sinkable_load(ctx, pattern12_0) {
13043|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern12_0) {
13044|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
13045|      0|                                                    if let &InstructionData::Load { opcode: ref pattern16_0, arg: pattern16_1, flags: pattern16_2, offset: pattern16_3 } = &pattern15_0 {
13046|      0|                                                        if let &Opcode::Load  = pattern16_0 {
13047|      0|                                                            if pattern4_1 == pattern16_1 {
13048|      0|                                                                if pattern2_2 == pattern16_2 {
13049|      0|                                                                    if pattern2_3 == pattern16_3 {
13050|       |                                                                        // Rule at src/isa/x64/lower.isle line 2710.
13051|      0|                                                                        let expr0_0 = C::sink_load(ctx, &pattern13_0);
13052|      0|                                                                        let expr1_0 = constructor_reg_mem_to_reg_mem_imm(ctx, &expr0_0)?;
13053|      0|                                                                        let expr2_0 = constructor_to_amode(ctx, pattern16_2, pattern16_1, pattern16_3)?;
13054|      0|                                                                        let expr3_0 = constructor_put_in_gpr(ctx, pattern12_1)?;
13055|      0|                                                                        let expr4_0 = constructor_x64_or_mem(ctx, pattern8_0, &expr2_0, expr3_0)?;
13056|      0|                                                                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13057|      0|                                                                        return Some(expr5_0);
13058|      0|                                                                    }
13059|      0|                                                                }
13060|      0|                                                            }
13061|      0|                                                        }
13062|      0|                                                    }
13063|      0|                                                }
13064|      0|                                            }
13065|      0|                                            if let Some(pattern13_0) = C::sinkable_load(ctx, pattern12_1) {
13066|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern12_1) {
13067|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
13068|      0|                                                    if let &InstructionData::Load { opcode: ref pattern16_0, arg: pattern16_1, flags: pattern16_2, offset: pattern16_3 } = &pattern15_0 {
13069|      0|                                                        if let &Opcode::Load  = pattern16_0 {
13070|      0|                                                            if pattern4_1 == pattern16_1 {
13071|      0|                                                                if pattern2_2 == pattern16_2 {
13072|      0|                                                                    if pattern2_3 == pattern16_3 {
13073|       |                                                                        // Rule at src/isa/x64/lower.isle line 2724.
13074|      0|                                                                        let expr0_0 = C::sink_load(ctx, &pattern13_0);
13075|      0|                                                                        let expr1_0 = constructor_reg_mem_to_reg_mem_imm(ctx, &expr0_0)?;
13076|      0|                                                                        let expr2_0 = constructor_to_amode(ctx, pattern16_2, pattern16_1, pattern16_3)?;
13077|      0|                                                                        let expr3_0 = constructor_put_in_gpr(ctx, pattern12_0)?;
13078|      0|                                                                        let expr4_0 = constructor_x64_or_mem(ctx, pattern8_0, &expr2_0, expr3_0)?;
13079|      0|                                                                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13080|      0|                                                                        return Some(expr5_0);
13081|      0|                                                                    }
13082|      0|                                                                }
13083|      0|                                                            }
13084|      0|                                                        }
13085|      0|                                                    }
13086|      0|                                                }
13087|      0|                                            }
13088|       |                                        }
13089|       |                                        &Opcode::Bxor  => {
13090|      0|                                            let (pattern12_0, pattern12_1) = C::unpack_value_array_2(ctx, pattern10_1);
13091|      0|                                            if let Some(pattern13_0) = C::sinkable_load(ctx, pattern12_0) {
13092|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern12_0) {
13093|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
13094|      0|                                                    if let &InstructionData::Load { opcode: ref pattern16_0, arg: pattern16_1, flags: pattern16_2, offset: pattern16_3 } = &pattern15_0 {
13095|      0|                                                        if let &Opcode::Load  = pattern16_0 {
13096|      0|                                                            if pattern4_1 == pattern16_1 {
13097|      0|                                                                if pattern2_2 == pattern16_2 {
13098|      0|                                                                    if pattern2_3 == pattern16_3 {
13099|       |                                                                        // Rule at src/isa/x64/lower.isle line 2738.
13100|      0|                                                                        let expr0_0 = C::sink_load(ctx, &pattern13_0);
13101|      0|                                                                        let expr1_0 = constructor_reg_mem_to_reg_mem_imm(ctx, &expr0_0)?;
13102|      0|                                                                        let expr2_0 = constructor_to_amode(ctx, pattern16_2, pattern16_1, pattern16_3)?;
13103|      0|                                                                        let expr3_0 = constructor_put_in_gpr(ctx, pattern12_1)?;
13104|      0|                                                                        let expr4_0 = constructor_x64_xor_mem(ctx, pattern8_0, &expr2_0, expr3_0)?;
13105|      0|                                                                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13106|      0|                                                                        return Some(expr5_0);
13107|      0|                                                                    }
13108|      0|                                                                }
13109|      0|                                                            }
13110|      0|                                                        }
13111|      0|                                                    }
13112|      0|                                                }
13113|      0|                                            }
13114|      0|                                            if let Some(pattern13_0) = C::sinkable_load(ctx, pattern12_1) {
13115|      0|                                                if let Some(pattern14_0) = C::def_inst(ctx, pattern12_1) {
13116|      0|                                                    let pattern15_0 = C::inst_data(ctx, pattern14_0);
13117|      0|                                                    if let &InstructionData::Load { opcode: ref pattern16_0, arg: pattern16_1, flags: pattern16_2, offset: pattern16_3 } = &pattern15_0 {
13118|      0|                                                        if let &Opcode::Load  = pattern16_0 {
13119|      0|                                                            if pattern4_1 == pattern16_1 {
13120|      0|                                                                if pattern2_2 == pattern16_2 {
13121|      0|                                                                    if pattern2_3 == pattern16_3 {
13122|       |                                                                        // Rule at src/isa/x64/lower.isle line 2752.
13123|      0|                                                                        let expr0_0 = C::sink_load(ctx, &pattern13_0);
13124|      0|                                                                        let expr1_0 = constructor_reg_mem_to_reg_mem_imm(ctx, &expr0_0)?;
13125|      0|                                                                        let expr2_0 = constructor_to_amode(ctx, pattern16_2, pattern16_1, pattern16_3)?;
13126|      0|                                                                        let expr3_0 = constructor_put_in_gpr(ctx, pattern12_0)?;
13127|      0|                                                                        let expr4_0 = constructor_x64_xor_mem(ctx, pattern8_0, &expr2_0, expr3_0)?;
13128|      0|                                                                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13129|      0|                                                                        return Some(expr5_0);
13130|      0|                                                                    }
13131|      0|                                                                }
13132|      0|                                                            }
13133|      0|                                                        }
13134|      0|                                                    }
13135|      0|                                                }
13136|      0|                                            }
13137|       |                                        }
13138|      0|                                        _ => {}
13139|       |                                    }
13140|      1|                                }
13141|      0|                            }
13142|      0|                        }
13143|      0|                    }
13144|      3|                    let pattern5_0 = C::value_type(ctx, pattern4_0);
13145|      3|                    if pattern5_0 == F32 {
13146|       |                        // Rule at src/isa/x64/lower.isle line 2583.
13147|      0|                        let expr0_0 = SseOpcode::Movss;
13148|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern2_2, pattern4_1, pattern2_3)?;
13149|      0|                        let expr2_0 = C::amode_to_synthetic_amode(ctx, &expr1_0);
13150|      0|                        let expr3_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13151|      0|                        let expr4_0 = constructor_x64_xmm_movrm(ctx, &expr0_0, &expr2_0, expr3_0)?;
13152|      0|                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13153|      0|                        return Some(expr5_0);
13154|      3|                    }
13155|      3|                    if pattern5_0 == F64 {
13156|       |                        // Rule at src/isa/x64/lower.isle line 2591.
13157|      0|                        let expr0_0 = SseOpcode::Movsd;
13158|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern2_2, pattern4_1, pattern2_3)?;
13159|      0|                        let expr2_0 = C::amode_to_synthetic_amode(ctx, &expr1_0);
13160|      0|                        let expr3_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13161|      0|                        let expr4_0 = constructor_x64_xmm_movrm(ctx, &expr0_0, &expr2_0, expr3_0)?;
13162|      0|                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13163|      0|                        return Some(expr5_0);
13164|      3|                    }
13165|      3|                    if pattern5_0 == F32X4 {
13166|       |                        // Rule at src/isa/x64/lower.isle line 2599.
13167|      0|                        let expr0_0 = SseOpcode::Movups;
13168|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern2_2, pattern4_1, pattern2_3)?;
13169|      0|                        let expr2_0 = C::amode_to_synthetic_amode(ctx, &expr1_0);
13170|      0|                        let expr3_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13171|      0|                        let expr4_0 = constructor_x64_xmm_movrm(ctx, &expr0_0, &expr2_0, expr3_0)?;
13172|      0|                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13173|      0|                        return Some(expr5_0);
13174|      3|                    }
13175|      3|                    if pattern5_0 == F64X2 {
13176|       |                        // Rule at src/isa/x64/lower.isle line 2607.
13177|      0|                        let expr0_0 = SseOpcode::Movupd;
13178|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern2_2, pattern4_1, pattern2_3)?;
13179|      0|                        let expr2_0 = C::amode_to_synthetic_amode(ctx, &expr1_0);
13180|      0|                        let expr3_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13181|      0|                        let expr4_0 = constructor_x64_xmm_movrm(ctx, &expr0_0, &expr2_0, expr3_0)?;
13182|      0|                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13183|      0|                        return Some(expr5_0);
13184|      3|                    }
13185|      3|                    if let Some(pattern6_0) = C::ty_int_bool_128(ctx, pattern5_0) {
13186|       |                        // Rule at src/isa/x64/lower.isle line 2623.
13187|      0|                        let expr0_0 = C::put_in_regs(ctx, pattern4_0);
13188|      0|                        let expr1_0: usize = 0i128 as usize;
13189|      0|                        let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
13190|      0|                        let expr3_0: usize = 1i128 as usize;
13191|      0|                        let expr4_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr3_0)?;
13192|      0|                        let expr5_0 = constructor_to_amode(ctx, pattern2_2, pattern4_1, pattern2_3)?;
13193|      0|                        let expr6_0: u32 = 8i128 as u32;
13194|      0|                        let expr7_0 = C::amode_offset(ctx, &expr5_0, expr6_0);
13195|      0|                        let expr8_0: Type = I64;
13196|      0|                        let expr9_0 = C::amode_to_synthetic_amode(ctx, &expr5_0);
13197|      0|                        let expr10_0 = constructor_x64_movrm(ctx, expr8_0, &expr9_0, expr2_0)?;
13198|      0|                        let expr11_0: Type = I64;
13199|      0|                        let expr12_0 = C::amode_to_synthetic_amode(ctx, &expr7_0);
13200|      0|                        let expr13_0 = constructor_x64_movrm(ctx, expr11_0, &expr12_0, expr4_0)?;
13201|      0|                        let expr14_0 = constructor_side_effect_concat(ctx, &expr10_0, &expr13_0)?;
13202|      0|                        let expr15_0 = constructor_side_effect(ctx, &expr14_0)?;
13203|      0|                        return Some(expr15_0);
13204|      3|                    }
13205|      3|                    if let Some(pattern6_0) = C::ty_vec128_int(ctx, pattern5_0) {
13206|       |                        // Rule at src/isa/x64/lower.isle line 2615.
13207|      0|                        let expr0_0 = SseOpcode::Movdqu;
13208|      0|                        let expr1_0 = constructor_to_amode(ctx, pattern2_2, pattern4_1, pattern2_3)?;
13209|      0|                        let expr2_0 = C::amode_to_synthetic_amode(ctx, &expr1_0);
13210|      0|                        let expr3_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13211|      0|                        let expr4_0 = constructor_x64_xmm_movrm(ctx, &expr0_0, &expr2_0, expr3_0)?;
13212|      0|                        let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13213|      0|                        return Some(expr5_0);
13214|      3|                    }
13215|      3|                    if let Some(pattern6_0) = C::is_gpr_type(ctx, pattern5_0) {
13216|       |                        // Rule at src/isa/x64/lower.isle line 2564.
13217|      3|                        let expr0_0 = constructor_to_amode(ctx, pattern2_2, pattern4_1, pattern2_3)?;
13218|      3|                        let expr1_0 = C::amode_to_synthetic_amode(ctx, &expr0_0);
13219|      3|                        let expr2_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
13220|      3|                        let expr3_0 = constructor_x64_movrm(ctx, pattern6_0, &expr1_0, expr2_0)?;
13221|      3|                        let expr4_0 = constructor_side_effect(ctx, &expr3_0)?;
13222|      3|                        return Some(expr4_0);
13223|      0|                    }
13224|       |                }
13225|       |                &Opcode::Istore8  => {
13226|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
13227|      0|                    // Rule at src/isa/x64/lower.isle line 2572.
13228|      0|                    let expr0_0: Type = I8;
13229|      0|                    let expr1_0 = constructor_to_amode(ctx, pattern2_2, pattern4_1, pattern2_3)?;
13230|      0|                    let expr2_0 = C::amode_to_synthetic_amode(ctx, &expr1_0);
13231|      0|                    let expr3_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
13232|      0|                    let expr4_0 = constructor_x64_movrm(ctx, expr0_0, &expr2_0, expr3_0)?;
13233|      0|                    let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13234|      0|                    return Some(expr5_0);
13235|       |                }
13236|       |                &Opcode::Istore16  => {
13237|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
13238|      0|                    // Rule at src/isa/x64/lower.isle line 2575.
13239|      0|                    let expr0_0: Type = I16;
13240|      0|                    let expr1_0 = constructor_to_amode(ctx, pattern2_2, pattern4_1, pattern2_3)?;
13241|      0|                    let expr2_0 = C::amode_to_synthetic_amode(ctx, &expr1_0);
13242|      0|                    let expr3_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
13243|      0|                    let expr4_0 = constructor_x64_movrm(ctx, expr0_0, &expr2_0, expr3_0)?;
13244|      0|                    let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13245|      0|                    return Some(expr5_0);
13246|       |                }
13247|       |                &Opcode::Istore32  => {
13248|      0|                    let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
13249|      0|                    // Rule at src/isa/x64/lower.isle line 2578.
13250|      0|                    let expr0_0: Type = I32;
13251|      0|                    let expr1_0 = constructor_to_amode(ctx, pattern2_2, pattern4_1, pattern2_3)?;
13252|      0|                    let expr2_0 = C::amode_to_synthetic_amode(ctx, &expr1_0);
13253|      0|                    let expr3_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
13254|      0|                    let expr4_0 = constructor_x64_movrm(ctx, expr0_0, &expr2_0, expr3_0)?;
13255|      0|                    let expr5_0 = constructor_side_effect(ctx, &expr4_0)?;
13256|      0|                    return Some(expr5_0);
13257|       |                }
13258|      0|                _ => {}
13259|       |            }
13260|       |        }
13261|      0|        &InstructionData::TernaryImm8 { opcode: ref pattern2_0, args: ref pattern2_1, imm: pattern2_2 } => {
13262|      0|            if let &Opcode::Insertlane  = pattern2_0 {
13263|      0|                let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
13264|      0|                let pattern5_0 = C::value_type(ctx, pattern4_0);
13265|      0|                let pattern6_0 = C::u8_from_uimm8(ctx, pattern2_2);
13266|       |                // Rule at src/isa/x64/lower.isle line 1276.
13267|      0|                let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13268|      0|                let expr1_0 = C::put_in_reg_mem(ctx, pattern4_1);
13269|      0|                let expr2_0 = constructor_vec_insert_lane(ctx, pattern5_0, expr0_0, &expr1_0, pattern6_0)?;
13270|      0|                let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
13271|      0|                return Some(expr3_0);
13272|      0|            }
13273|       |        }
13274|      0|        &InstructionData::FloatCompare { opcode: ref pattern2_0, args: ref pattern2_1, cond: ref pattern2_2 } => {
13275|      0|            if let &Opcode::Fcmp  = pattern2_0 {
13276|      0|                let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
13277|      0|                let pattern5_0 = C::value_type(ctx, pattern4_0);
13278|      0|                if let Some(pattern6_0) = C::ty_scalar_float(ctx, pattern5_0) {
13279|       |                    // Rule at src/isa/x64/lower.isle line 1574.
13280|      0|                    let expr0_0 = constructor_emit_fcmp(ctx, pattern2_2, pattern4_0, pattern4_1)?;
13281|      0|                    let expr1_0 = constructor_lower_fcmp_bool(ctx, &expr0_0)?;
13282|      0|                    let expr2_0 = C::output(ctx, expr1_0);
13283|      0|                    return Some(expr2_0);
13284|      0|                }
13285|      0|                if let Some(pattern6_0) = C::ty_vec128(ctx, pattern5_0) {
13286|      0|                    match pattern2_2 {
13287|       |                        &FloatCC::Equal  => {
13288|       |                            // Rule at src/isa/x64/lower.isle line 1581.
13289|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13290|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13291|      0|                            let expr2_0 = FcmpImm::Equal;
13292|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13293|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13294|      0|                            return Some(expr4_0);
13295|       |                        }
13296|       |                        &FloatCC::GreaterThan  => {
13297|       |                            // Rule at src/isa/x64/lower.isle line 1601.
13298|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_1)?;
13299|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_0);
13300|      0|                            let expr2_0 = FcmpImm::LessThan;
13301|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13302|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13303|      0|                            return Some(expr4_0);
13304|       |                        }
13305|       |                        &FloatCC::GreaterThanOrEqual  => {
13306|       |                            // Rule at src/isa/x64/lower.isle line 1603.
13307|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_1)?;
13308|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_0);
13309|      0|                            let expr2_0 = FcmpImm::LessThanOrEqual;
13310|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13311|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13312|      0|                            return Some(expr4_0);
13313|       |                        }
13314|       |                        &FloatCC::LessThan  => {
13315|       |                            // Rule at src/isa/x64/lower.isle line 1585.
13316|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13317|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13318|      0|                            let expr2_0 = FcmpImm::LessThan;
13319|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13320|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13321|      0|                            return Some(expr4_0);
13322|       |                        }
13323|       |                        &FloatCC::LessThanOrEqual  => {
13324|       |                            // Rule at src/isa/x64/lower.isle line 1587.
13325|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13326|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13327|      0|                            let expr2_0 = FcmpImm::LessThanOrEqual;
13328|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13329|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13330|      0|                            return Some(expr4_0);
13331|       |                        }
13332|       |                        &FloatCC::NotEqual  => {
13333|       |                            // Rule at src/isa/x64/lower.isle line 1583.
13334|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13335|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13336|      0|                            let expr2_0 = FcmpImm::NotEqual;
13337|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13338|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13339|      0|                            return Some(expr4_0);
13340|       |                        }
13341|       |                        &FloatCC::Ordered  => {
13342|       |                            // Rule at src/isa/x64/lower.isle line 1589.
13343|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13344|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13345|      0|                            let expr2_0 = FcmpImm::Ordered;
13346|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13347|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13348|      0|                            return Some(expr4_0);
13349|       |                        }
13350|       |                        &FloatCC::Unordered  => {
13351|       |                            // Rule at src/isa/x64/lower.isle line 1591.
13352|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13353|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13354|      0|                            let expr2_0 = FcmpImm::Unordered;
13355|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13356|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13357|      0|                            return Some(expr4_0);
13358|       |                        }
13359|       |                        &FloatCC::UnorderedOrGreaterThan  => {
13360|       |                            // Rule at src/isa/x64/lower.isle line 1593.
13361|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13362|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13363|      0|                            let expr2_0 = FcmpImm::UnorderedOrGreaterThan;
13364|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13365|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13366|      0|                            return Some(expr4_0);
13367|       |                        }
13368|       |                        &FloatCC::UnorderedOrGreaterThanOrEqual  => {
13369|       |                            // Rule at src/isa/x64/lower.isle line 1595.
13370|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13371|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13372|      0|                            let expr2_0 = FcmpImm::UnorderedOrGreaterThanOrEqual;
13373|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13374|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13375|      0|                            return Some(expr4_0);
13376|       |                        }
13377|       |                        &FloatCC::UnorderedOrLessThan  => {
13378|       |                            // Rule at src/isa/x64/lower.isle line 1605.
13379|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_1)?;
13380|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_0);
13381|      0|                            let expr2_0 = FcmpImm::UnorderedOrGreaterThan;
13382|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13383|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13384|      0|                            return Some(expr4_0);
13385|       |                        }
13386|       |                        &FloatCC::UnorderedOrLessThanOrEqual  => {
13387|       |                            // Rule at src/isa/x64/lower.isle line 1607.
13388|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_1)?;
13389|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_0);
13390|      0|                            let expr2_0 = FcmpImm::UnorderedOrGreaterThanOrEqual;
13391|      0|                            let expr3_0 = constructor_x64_cmpp(ctx, pattern6_0, expr0_0, &expr1_0, &expr2_0)?;
13392|      0|                            let expr4_0 = constructor_output_xmm(ctx, expr3_0)?;
13393|      0|                            return Some(expr4_0);
13394|       |                        }
13395|      0|                        _ => {}
13396|       |                    }
13397|      0|                }
13398|      0|            }
13399|       |        }
13400|      0|        &InstructionData::IntCompare { opcode: ref pattern2_0, args: ref pattern2_1, cond: ref pattern2_2 } => {
13401|      0|            if let &Opcode::Icmp  = pattern2_0 {
13402|      0|                let (pattern4_0, pattern4_1) = C::unpack_value_array_2(ctx, pattern2_1);
13403|      0|                let pattern5_0 = C::value_type(ctx, pattern4_0);
13404|      0|                if pattern5_0 == I128 {
13405|       |                    // Rule at src/isa/x64/lower.isle line 1449.
13406|      0|                    let expr0_0 = constructor_emit_cmp(ctx, pattern2_2, pattern4_0, pattern4_1)?;
13407|      0|                    let expr1_0 = constructor_lower_icmp_bool(ctx, &expr0_0)?;
13408|      0|                    let expr2_0 = C::output(ctx, expr1_0);
13409|      0|                    return Some(expr2_0);
13410|      0|                }
13411|      0|                if pattern5_0 == I64X2 {
13412|      0|                    match pattern2_2 {
13413|       |                        &IntCC::SignedGreaterThanOrEqual  => {
13414|       |                            // Rule at src/isa/x64/lower.isle line 1541.
13415|      0|                            let expr0_0: Type = I64X2;
13416|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern4_1)?;
13417|      0|                            let expr2_0 = C::put_in_xmm_mem(ctx, pattern4_0);
13418|      0|                            let expr3_0 = constructor_x64_pcmpgt(ctx, expr0_0, expr1_0, &expr2_0)?;
13419|      0|                            let expr4_0 = constructor_vector_all_ones(ctx, )?;
13420|      0|                            let expr5_0 = C::xmm_to_xmm_mem(ctx, expr4_0);
13421|      0|                            let expr6_0 = constructor_x64_pxor(ctx, expr3_0, &expr5_0)?;
13422|      0|                            let expr7_0 = constructor_output_xmm(ctx, expr6_0)?;
13423|      0|                            return Some(expr7_0);
13424|       |                        }
13425|       |                        &IntCC::SignedLessThanOrEqual  => {
13426|       |                            // Rule at src/isa/x64/lower.isle line 1545.
13427|      0|                            let expr0_0: Type = I64X2;
13428|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13429|      0|                            let expr2_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13430|      0|                            let expr3_0 = constructor_x64_pcmpgt(ctx, expr0_0, expr1_0, &expr2_0)?;
13431|      0|                            let expr4_0 = constructor_vector_all_ones(ctx, )?;
13432|      0|                            let expr5_0 = C::xmm_to_xmm_mem(ctx, expr4_0);
13433|      0|                            let expr6_0 = constructor_x64_pxor(ctx, expr3_0, &expr5_0)?;
13434|      0|                            let expr7_0 = constructor_output_xmm(ctx, expr6_0)?;
13435|      0|                            return Some(expr7_0);
13436|       |                        }
13437|      0|                        _ => {}
13438|       |                    }
13439|      0|                }
13440|      0|                if let Some(pattern6_0) = C::fits_in_64(ctx, pattern5_0) {
13441|       |                    // Rule at src/isa/x64/lower.isle line 1446.
13442|      0|                    let expr0_0 = constructor_emit_cmp(ctx, pattern2_2, pattern4_0, pattern4_1)?;
13443|      0|                    let expr1_0 = constructor_lower_icmp_bool(ctx, &expr0_0)?;
13444|      0|                    let expr2_0 = C::output(ctx, expr1_0);
13445|      0|                    return Some(expr2_0);
13446|      0|                }
13447|      0|                if let Some(pattern6_0) = C::ty_vec128(ctx, pattern5_0) {
13448|      0|                    match pattern2_2 {
13449|       |                        &IntCC::Equal  => {
13450|       |                            // Rule at src/isa/x64/lower.isle line 1489.
13451|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13452|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13453|      0|                            let expr2_0 = constructor_x64_pcmpeq(ctx, pattern6_0, expr0_0, &expr1_0)?;
13454|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
13455|      0|                            return Some(expr3_0);
13456|       |                        }
13457|       |                        &IntCC::NotEqual  => {
13458|       |                            // Rule at src/isa/x64/lower.isle line 1494.
13459|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13460|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13461|      0|                            let expr2_0 = constructor_x64_pcmpeq(ctx, pattern6_0, expr0_0, &expr1_0)?;
13462|      0|                            let expr3_0 = constructor_vector_all_ones(ctx, )?;
13463|      0|                            let expr4_0 = C::xmm_to_xmm_mem(ctx, expr3_0);
13464|      0|                            let expr5_0 = constructor_x64_pxor(ctx, expr2_0, &expr4_0)?;
13465|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
13466|      0|                            return Some(expr6_0);
13467|       |                        }
13468|       |                        &IntCC::SignedGreaterThan  => {
13469|       |                            // Rule at src/isa/x64/lower.isle line 1501.
13470|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13471|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13472|      0|                            let expr2_0 = constructor_x64_pcmpgt(ctx, pattern6_0, expr0_0, &expr1_0)?;
13473|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
13474|      0|                            return Some(expr3_0);
13475|       |                        }
13476|       |                        &IntCC::SignedGreaterThanOrEqual  => {
13477|       |                            // Rule at src/isa/x64/lower.isle line 1526.
13478|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13479|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13480|      0|                            let expr2_0 = constructor_x64_pmaxs(ctx, pattern6_0, expr0_0, &expr1_0)?;
13481|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13482|      0|                            let expr4_0 = C::xmm_to_xmm_mem(ctx, expr2_0);
13483|      0|                            let expr5_0 = constructor_x64_pcmpeq(ctx, pattern6_0, expr3_0, &expr4_0)?;
13484|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
13485|      0|                            return Some(expr6_0);
13486|       |                        }
13487|       |                        &IntCC::SignedLessThan  => {
13488|       |                            // Rule at src/isa/x64/lower.isle line 1503.
13489|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_1)?;
13490|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_0);
13491|      0|                            let expr2_0 = constructor_x64_pcmpgt(ctx, pattern6_0, expr0_0, &expr1_0)?;
13492|      0|                            let expr3_0 = constructor_output_xmm(ctx, expr2_0)?;
13493|      0|                            return Some(expr3_0);
13494|       |                        }
13495|       |                        &IntCC::SignedLessThanOrEqual  => {
13496|       |                            // Rule at src/isa/x64/lower.isle line 1529.
13497|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13498|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13499|      0|                            let expr2_0 = constructor_x64_pmins(ctx, pattern6_0, expr0_0, &expr1_0)?;
13500|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13501|      0|                            let expr4_0 = C::xmm_to_xmm_mem(ctx, expr2_0);
13502|      0|                            let expr5_0 = constructor_x64_pcmpeq(ctx, pattern6_0, expr3_0, &expr4_0)?;
13503|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
13504|      0|                            return Some(expr6_0);
13505|       |                        }
13506|       |                        &IntCC::UnsignedGreaterThan  => {
13507|       |                            // Rule at src/isa/x64/lower.isle line 1505.
13508|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13509|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern4_1)?;
13510|      0|                            let expr2_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
13511|      0|                            let expr3_0 = constructor_x64_pmaxu(ctx, pattern6_0, expr0_0, &expr2_0)?;
13512|      0|                            let expr4_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
13513|      0|                            let expr5_0 = constructor_x64_pcmpeq(ctx, pattern6_0, expr3_0, &expr4_0)?;
13514|      0|                            let expr6_0 = constructor_vector_all_ones(ctx, )?;
13515|      0|                            let expr7_0 = C::xmm_to_xmm_mem(ctx, expr6_0);
13516|      0|                            let expr8_0 = constructor_x64_pxor(ctx, expr5_0, &expr7_0)?;
13517|      0|                            let expr9_0 = constructor_output_xmm(ctx, expr8_0)?;
13518|      0|                            return Some(expr9_0);
13519|       |                        }
13520|       |                        &IntCC::UnsignedGreaterThanOrEqual  => {
13521|       |                            // Rule at src/isa/x64/lower.isle line 1532.
13522|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13523|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13524|      0|                            let expr2_0 = constructor_x64_pmaxu(ctx, pattern6_0, expr0_0, &expr1_0)?;
13525|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13526|      0|                            let expr4_0 = C::xmm_to_xmm_mem(ctx, expr2_0);
13527|      0|                            let expr5_0 = constructor_x64_pcmpeq(ctx, pattern6_0, expr3_0, &expr4_0)?;
13528|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
13529|      0|                            return Some(expr6_0);
13530|       |                        }
13531|       |                        &IntCC::UnsignedLessThan  => {
13532|       |                            // Rule at src/isa/x64/lower.isle line 1515.
13533|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13534|      0|                            let expr1_0 = constructor_put_in_xmm(ctx, pattern4_1)?;
13535|      0|                            let expr2_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
13536|      0|                            let expr3_0 = constructor_x64_pminu(ctx, pattern6_0, expr0_0, &expr2_0)?;
13537|      0|                            let expr4_0 = C::xmm_to_xmm_mem(ctx, expr1_0);
13538|      0|                            let expr5_0 = constructor_x64_pcmpeq(ctx, pattern6_0, expr3_0, &expr4_0)?;
13539|      0|                            let expr6_0 = constructor_vector_all_ones(ctx, )?;
13540|      0|                            let expr7_0 = C::xmm_to_xmm_mem(ctx, expr6_0);
13541|      0|                            let expr8_0 = constructor_x64_pxor(ctx, expr5_0, &expr7_0)?;
13542|      0|                            let expr9_0 = constructor_output_xmm(ctx, expr8_0)?;
13543|      0|                            return Some(expr9_0);
13544|       |                        }
13545|       |                        &IntCC::UnsignedLessThanOrEqual  => {
13546|       |                            // Rule at src/isa/x64/lower.isle line 1535.
13547|      0|                            let expr0_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13548|      0|                            let expr1_0 = C::put_in_xmm_mem(ctx, pattern4_1);
13549|      0|                            let expr2_0 = constructor_x64_pminu(ctx, pattern6_0, expr0_0, &expr1_0)?;
13550|      0|                            let expr3_0 = constructor_put_in_xmm(ctx, pattern4_0)?;
13551|      0|                            let expr4_0 = C::xmm_to_xmm_mem(ctx, expr2_0);
13552|      0|                            let expr5_0 = constructor_x64_pcmpeq(ctx, pattern6_0, expr3_0, &expr4_0)?;
13553|      0|                            let expr6_0 = constructor_output_xmm(ctx, expr5_0)?;
13554|      0|                            return Some(expr6_0);
13555|       |                        }
13556|      0|                        _ => {}
13557|       |                    }
13558|      0|                }
13559|      0|            }
13560|       |        }
13561|      0|        &InstructionData::IntSelect { opcode: ref pattern2_0, args: ref pattern2_1, cond: ref pattern2_2 } => {
13562|      0|            match pattern2_0 {
13563|       |                &Opcode::Selectif  => {
13564|      0|                    let (pattern4_0, pattern4_1, pattern4_2) = C::unpack_value_array_3(ctx, pattern2_1);
13565|      0|                    if let Some(pattern5_0) = C::def_inst(ctx, pattern4_0) {
13566|      0|                        let pattern6_0 = C::inst_data(ctx, pattern5_0);
13567|      0|                        if let &InstructionData::Binary { opcode: ref pattern7_0, args: ref pattern7_1 } = &pattern6_0 {
13568|      0|                            if let &Opcode::Ifcmp  = pattern7_0 {
13569|      0|                                let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
13570|       |                                // Rule at src/isa/x64/lower.isle line 2936.
13571|      0|                                let expr0_0 = constructor_emit_cmp(ctx, pattern2_2, pattern9_0, pattern9_1)?;
13572|      0|                                let expr1_0 = constructor_select_icmp(ctx, &expr0_0, pattern4_1, pattern4_2)?;
13573|      0|                                let expr2_0 = C::output(ctx, expr1_0);
13574|      0|                                return Some(expr2_0);
13575|      0|                            }
13576|      0|                        }
13577|      0|                    }
13578|       |                }
13579|       |                &Opcode::SelectifSpectreGuard  => {
13580|      0|                    let (pattern4_0, pattern4_1, pattern4_2) = C::unpack_value_array_3(ctx, pattern2_1);
13581|      0|                    if let Some(pattern5_0) = C::def_inst(ctx, pattern4_0) {
13582|      0|                        let pattern6_0 = C::inst_data(ctx, pattern5_0);
13583|      0|                        if let &InstructionData::Binary { opcode: ref pattern7_0, args: ref pattern7_1 } = &pattern6_0 {
13584|      0|                            if let &Opcode::Ifcmp  = pattern7_0 {
13585|      0|                                let (pattern9_0, pattern9_1) = C::unpack_value_array_2(ctx, pattern7_1);
13586|       |                                // Rule at src/isa/x64/lower.isle line 2939.
13587|      0|                                let expr0_0 = constructor_emit_cmp(ctx, pattern2_2, pattern9_0, pattern9_1)?;
13588|      0|                                let expr1_0 = constructor_select_icmp(ctx, &expr0_0, pattern4_1, pattern4_2)?;
13589|      0|                                let expr2_0 = C::output(ctx, expr1_0);
13590|      0|                                return Some(expr2_0);
13591|      0|                            }
13592|      0|                        }
13593|      0|                    }
13594|       |                }
13595|      0|                _ => {}
13596|       |            }
13597|       |        }
13598|      0|        _ => {}
13599|       |    }
13600|      0|    return None;
13601|     20|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code20constructor_jmp_condINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 6026|      2|pub fn constructor_jmp_cond<C: Context>(ctx: &mut C, arg0: &CC, arg1: MachLabel, arg2: MachLabel) -> Option<ConsumesFlags> {
 6027|      2|    let pattern0_0 = arg0;
 6028|      2|    let pattern1_0 = arg1;
 6029|      2|    let pattern2_0 = arg2;
 6030|      2|    // Rule at src/isa/x64/inst.isle line 3337.
 6031|      2|    let expr0_0 = MInst::JmpCond {
 6032|      2|        cc: pattern0_0.clone(),
 6033|      2|        taken: pattern1_0,
 6034|      2|        not_taken: pattern2_0,
 6035|      2|    };
 6036|      2|    let expr1_0 = ConsumesFlags::ConsumesFlagsSideEffect {
 6037|      2|        inst: expr0_0,
 6038|      2|    };
 6039|      2|    return Some(expr1_0);
 6040|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code33constructor_writable_gpr_to_r_regINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 6885|      2|pub fn constructor_writable_gpr_to_r_reg<C: Context>(ctx: &mut C, arg0: WritableGpr) -> Option<Reg> {
 6886|      2|    let pattern0_0 = arg0;
 6887|      2|    // Rule at src/isa/x64/inst.isle line 3829.
 6888|      2|    let expr0_0 = C::writable_gpr_to_reg(ctx, pattern0_0);
 6889|      2|    let expr1_0 = C::writable_reg_to_reg(ctx, expr0_0);
 6890|      2|    return Some(expr1_0);
 6891|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code38constructor_synthetic_amode_to_gpr_memINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 6939|      2|pub fn constructor_synthetic_amode_to_gpr_mem<C: Context>(ctx: &mut C, arg0: &SyntheticAmode) -> Option<GprMem> {
 6940|      2|    let pattern0_0 = arg0;
 6941|      2|    // Rule at src/isa/x64/inst.isle line 3851.
 6942|      2|    let expr0_0 = C::synthetic_amode_to_reg_mem(ctx, pattern0_0);
 6943|      2|    let expr1_0 = C::reg_mem_to_gpr_mem(ctx, &expr0_0);
 6944|      2|    return Some(expr1_0);
 6945|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code26constructor_amode_finalizeINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1618|      8|pub fn constructor_amode_finalize<C: Context>(ctx: &mut C, arg0: &Amode) -> Option<Amode> {
 1619|      8|    let pattern0_0 = arg0;
 1620|      8|    if let &Amode::ImmReg { simm32: pattern1_0, base: pattern1_1, flags: pattern1_2 } = pattern0_0 {
 1621|      8|        if let Some(()) = C::invalid_reg_etor(ctx, pattern1_1) {
 1622|       |            // Rule at src/isa/x64/inst.isle line 1029.
 1623|      0|            let expr0_0: Type = I64;
 1624|      0|            let expr1_0: u64 = 0i128 as u64;
 1625|      0|            let expr2_0 = constructor_imm(ctx, expr0_0, expr1_0)?;
 1626|      0|            let expr3_0 = Amode::ImmReg {
 1627|      0|                simm32: pattern1_0,
 1628|      0|                base: expr2_0,
 1629|      0|                flags: pattern1_2,
 1630|      0|            };
 1631|      0|            return Some(expr3_0);
 1632|      8|        }
 1633|      0|    }
 1634|      8|    let pattern0_0 = arg0;
 1635|      8|    // Rule at src/isa/x64/inst.isle line 1031.
 1636|      8|    return Some(pattern0_0.clone());
 1637|      8|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code20constructor_to_amodeINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1201|      8|pub fn constructor_to_amode<C: Context>(ctx: &mut C, arg0: MemFlags, arg1: Value, arg2: Offset32) -> Option<Amode> {
 1202|      8|    let pattern0_0 = arg0;
 1203|      8|    let pattern1_0 = arg1;
 1204|      8|    let pattern2_0 = arg2;
 1205|       |    // Rule at src/isa/x64/inst.isle line 1022.
 1206|      8|    let expr0_0 = constructor_amode_initial(ctx, pattern0_0, pattern2_0)?;
 1207|      8|    let expr1_0 = constructor_amode_add(ctx, &expr0_0, pattern1_0)?;
 1208|      8|    let expr2_0 = constructor_amode_finalize(ctx, &expr1_0)?;
 1209|      8|    return Some(expr2_0);
 1210|      8|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code24constructor_lower_branchINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
13604|      5|pub fn constructor_lower_branch<C: Context>(ctx: &mut C, arg0: Inst, arg1: &MachLabelSlice) -> Option<InstOutput> {
13605|      5|    let pattern0_0 = arg0;
13606|      5|    let pattern1_0 = C::inst_data(ctx, pattern0_0);
13607|      5|    match &pattern1_0 {
13608|      0|        &InstructionData::BranchTable { opcode: ref pattern2_0, arg: pattern2_1, destination: pattern2_2, table: pattern2_3 } => {
13609|      0|            if let &Opcode::BrTable  = pattern2_0 {
13610|      0|                let pattern4_0 = C::value_type(ctx, pattern2_1);
13611|      0|                let pattern5_0 = arg1;
13612|      0|                if let Some((pattern6_0, pattern6_1)) = C::jump_table_targets(ctx, pattern5_0) {
13613|       |                    // Rule at src/isa/x64/lower.isle line 2931.
13614|      0|                    let expr0_0 = constructor_put_in_gpr(ctx, pattern2_1)?;
13615|      0|                    let expr1_0 = constructor_jmp_table_seq(ctx, pattern4_0, expr0_0, pattern6_0, &pattern6_1)?;
13616|      0|                    let expr2_0 = constructor_side_effect(ctx, &expr1_0)?;
13617|      0|                    return Some(expr2_0);
13618|      0|                }
13619|      0|            }
13620|       |        }
13621|      2|        &InstructionData::Branch { opcode: ref pattern2_0, args: pattern2_1, destination: pattern2_2 } => {
13622|      2|            match pattern2_0 {
13623|       |                &Opcode::Brz  => {
13624|      2|                    let pattern4_0 = C::value_list_slice(ctx, pattern2_1);
13625|      2|                    if let Some((pattern5_0, pattern5_1)) = C::value_slice_unwrap(ctx, pattern4_0) {
13626|      2|                        if let Some(pattern6_0) = C::def_inst(ctx, pattern5_0) {
13627|      2|                            let pattern7_0 = C::inst_data(ctx, pattern6_0);
13628|      2|                            match &pattern7_0 {
13629|      0|                                &InstructionData::FloatCompare { opcode: ref pattern8_0, args: ref pattern8_1, cond: ref pattern8_2 } => {
13630|      0|                                    if let &Opcode::Fcmp  = pattern8_0 {
13631|      0|                                        let (pattern10_0, pattern10_1) = C::unpack_value_array_2(ctx, pattern8_1);
13632|      0|                                        let pattern11_0 = arg1;
13633|      0|                                        if let Some((pattern12_0, pattern12_1)) = C::two_targets(ctx, pattern11_0) {
13634|       |                                            // Rule at src/isa/x64/lower.isle line 2870.
13635|      0|                                            let expr0_0 = C::floatcc_inverse(ctx, pattern8_2);
13636|      0|                                            let expr1_0 = constructor_emit_fcmp(ctx, &expr0_0, pattern10_0, pattern10_1)?;
13637|      0|                                            let expr2_0 = constructor_jmp_cond_fcmp(ctx, &expr1_0, pattern12_0, pattern12_1)?;
13638|      0|                                            let expr3_0 = constructor_side_effect(ctx, &expr2_0)?;
13639|      0|                                            return Some(expr3_0);
13640|      0|                                        }
13641|      0|                                    }
13642|       |                                }
13643|      2|                                &InstructionData::IntCompare { opcode: ref pattern8_0, args: ref pattern8_1, cond: ref pattern8_2 } => {
13644|      2|                                    if let &Opcode::Icmp  = pattern8_0 {
13645|      2|                                        let (pattern10_0, pattern10_1) = C::unpack_value_array_2(ctx, pattern8_1);
13646|      2|                                        let pattern11_0 = arg1;
13647|      2|                                        if let Some((pattern12_0, pattern12_1)) = C::two_targets(ctx, pattern11_0) {
13648|       |                                            // Rule at src/isa/x64/lower.isle line 2866.
13649|      2|                                            let expr0_0 = constructor_emit_cmp(ctx, pattern8_2, pattern10_0, pattern10_1)?;
13650|      2|                                            let expr1_0 = constructor_invert_icmp_cond_result(ctx, &expr0_0)?;
13651|      2|                                            let expr2_0 = constructor_jmp_cond_icmp(ctx, &expr1_0, pattern12_0, pattern12_1)?;
13652|      2|                                            let expr3_0 = constructor_side_effect(ctx, &expr2_0)?;
13653|      2|                                            return Some(expr3_0);
13654|      0|                                        }
13655|      0|                                    }
13656|       |                                }
13657|      0|                                _ => {}
13658|       |                            }
13659|      0|                        }
13660|      0|                        let pattern6_0 = C::value_type(ctx, pattern5_0);
13661|      0|                        if pattern6_0 == I128 {
13662|      0|                            let pattern8_0 = arg1;
13663|      0|                            if let Some((pattern9_0, pattern9_1)) = C::two_targets(ctx, pattern8_0) {
13664|       |                                // Rule at src/isa/x64/lower.isle line 2874.
13665|      0|                                let expr0_0 = CC::NZ;
13666|      0|                                let expr1_0 = C::put_in_regs(ctx, pattern5_0);
13667|      0|                                let expr2_0 = constructor_cmp_zero_i128(ctx, &expr0_0, expr1_0)?;
13668|      0|                                let expr3_0 = constructor_jmp_cond_icmp(ctx, &expr2_0, pattern9_0, pattern9_1)?;
13669|      0|                                let expr4_0 = constructor_side_effect(ctx, &expr3_0)?;
13670|      0|                                return Some(expr4_0);
13671|      0|                            }
13672|      0|                        }
13673|      0|                        if let Some(()) = C::ty_int_bool_or_ref(ctx, pattern6_0) {
13674|      0|                            let pattern8_0 = arg1;
13675|      0|                            if let Some((pattern9_0, pattern9_1)) = C::two_targets(ctx, pattern8_0) {
13676|       |                                // Rule at src/isa/x64/lower.isle line 2877.
13677|      0|                                let expr0_0 = constructor_cmp_zero_int_bool_ref(ctx, pattern5_0)?;
13678|      0|                                let expr1_0 = CC::Z;
13679|      0|                                let expr2_0 = constructor_jmp_cond(ctx, &expr1_0, pattern9_0, pattern9_1)?;
13680|      0|                                let expr3_0 = constructor_with_flags_side_effect(ctx, &expr0_0, &expr2_0)?;
13681|      0|                                let expr4_0 = constructor_side_effect(ctx, &expr3_0)?;
13682|      0|                                return Some(expr4_0);
13683|      0|                            }
13684|      0|                        }
13685|      0|                    }
13686|       |                }
13687|       |                &Opcode::Brnz  => {
13688|      0|                    let pattern4_0 = C::value_list_slice(ctx, pattern2_1);
13689|      0|                    if let Some((pattern5_0, pattern5_1)) = C::value_slice_unwrap(ctx, pattern4_0) {
13690|      0|                        if let Some(pattern6_0) = C::def_inst(ctx, pattern5_0) {
13691|      0|                            let pattern7_0 = C::inst_data(ctx, pattern6_0);
13692|      0|                            match &pattern7_0 {
13693|      0|                                &InstructionData::FloatCompare { opcode: ref pattern8_0, args: ref pattern8_1, cond: ref pattern8_2 } => {
13694|      0|                                    if let &Opcode::Fcmp  = pattern8_0 {
13695|      0|                                        let (pattern10_0, pattern10_1) = C::unpack_value_array_2(ctx, pattern8_1);
13696|      0|                                        let pattern11_0 = arg1;
13697|      0|                                        if let Some((pattern12_0, pattern12_1)) = C::two_targets(ctx, pattern11_0) {
13698|       |                                            // Rule at src/isa/x64/lower.isle line 2886.
13699|      0|                                            let expr0_0 = constructor_emit_fcmp(ctx, pattern8_2, pattern10_0, pattern10_1)?;
13700|      0|                                            let expr1_0 = constructor_jmp_cond_fcmp(ctx, &expr0_0, pattern12_0, pattern12_1)?;
13701|      0|                                            let expr2_0 = constructor_side_effect(ctx, &expr1_0)?;
13702|      0|                                            return Some(expr2_0);
13703|      0|                                        }
13704|      0|                                    }
13705|       |                                }
13706|      0|                                &InstructionData::IntCompare { opcode: ref pattern8_0, args: ref pattern8_1, cond: ref pattern8_2 } => {
13707|      0|                                    if let &Opcode::Icmp  = pattern8_0 {
13708|      0|                                        let (pattern10_0, pattern10_1) = C::unpack_value_array_2(ctx, pattern8_1);
13709|      0|                                        let pattern11_0 = arg1;
13710|      0|                                        if let Some((pattern12_0, pattern12_1)) = C::two_targets(ctx, pattern11_0) {
13711|       |                                            // Rule at src/isa/x64/lower.isle line 2883.
13712|      0|                                            let expr0_0 = constructor_emit_cmp(ctx, pattern8_2, pattern10_0, pattern10_1)?;
13713|      0|                                            let expr1_0 = constructor_jmp_cond_icmp(ctx, &expr0_0, pattern12_0, pattern12_1)?;
13714|      0|                                            let expr2_0 = constructor_side_effect(ctx, &expr1_0)?;
13715|      0|                                            return Some(expr2_0);
13716|      0|                                        }
13717|      0|                                    }
13718|       |                                }
13719|      0|                                _ => {}
13720|       |                            }
13721|      0|                        }
13722|      0|                        let pattern6_0 = C::value_type(ctx, pattern5_0);
13723|      0|                        if pattern6_0 == I128 {
13724|      0|                            let pattern8_0 = arg1;
13725|      0|                            if let Some((pattern9_0, pattern9_1)) = C::two_targets(ctx, pattern8_0) {
13726|       |                                // Rule at src/isa/x64/lower.isle line 2890.
13727|      0|                                let expr0_0 = CC::Z;
13728|      0|                                let expr1_0 = C::put_in_regs(ctx, pattern5_0);
13729|      0|                                let expr2_0 = constructor_cmp_zero_i128(ctx, &expr0_0, expr1_0)?;
13730|      0|                                let expr3_0 = constructor_jmp_cond_icmp(ctx, &expr2_0, pattern9_0, pattern9_1)?;
13731|      0|                                let expr4_0 = constructor_side_effect(ctx, &expr3_0)?;
13732|      0|                                return Some(expr4_0);
13733|      0|                            }
13734|      0|                        }
13735|      0|                        if let Some(()) = C::ty_int_bool_or_ref(ctx, pattern6_0) {
13736|      0|                            let pattern8_0 = arg1;
13737|      0|                            if let Some((pattern9_0, pattern9_1)) = C::two_targets(ctx, pattern8_0) {
13738|       |                                // Rule at src/isa/x64/lower.isle line 2893.
13739|      0|                                let expr0_0 = constructor_cmp_zero_int_bool_ref(ctx, pattern5_0)?;
13740|      0|                                let expr1_0 = CC::NZ;
13741|      0|                                let expr2_0 = constructor_jmp_cond(ctx, &expr1_0, pattern9_0, pattern9_1)?;
13742|      0|                                let expr3_0 = constructor_with_flags_side_effect(ctx, &expr0_0, &expr2_0)?;
13743|      0|                                let expr4_0 = constructor_side_effect(ctx, &expr3_0)?;
13744|      0|                                return Some(expr4_0);
13745|      0|                            }
13746|      0|                        }
13747|      0|                    }
13748|       |                }
13749|      0|                _ => {}
13750|       |            }
13751|       |        }
13752|      3|        &InstructionData::Jump { opcode: ref pattern2_0, args: pattern2_1, destination: pattern2_2 } => {
13753|      3|            if let &Opcode::Jump  = pattern2_0 {
13754|      3|                let pattern4_0 = C::value_list_slice(ctx, pattern2_1);
13755|      3|                let pattern5_0 = arg1;
13756|      3|                if let Some(pattern6_0) = C::single_target(ctx, pattern5_0) {
13757|       |                    // Rule at src/isa/x64/lower.isle line 2851.
13758|      3|                    let expr0_0 = constructor_jmp_known(ctx, pattern6_0)?;
13759|      3|                    let expr1_0 = constructor_side_effect(ctx, &expr0_0)?;
13760|      3|                    return Some(expr1_0);
13761|      0|                }
13762|      0|            }
13763|       |        }
13764|      0|        &InstructionData::BranchFloat { opcode: ref pattern2_0, args: pattern2_1, cond: ref pattern2_2, destination: pattern2_3 } => {
13765|      0|            if let &Opcode::Brff  = pattern2_0 {
13766|      0|                let pattern4_0 = C::value_list_slice(ctx, pattern2_1);
13767|      0|                if let Some((pattern5_0, pattern5_1)) = C::value_slice_unwrap(ctx, pattern4_0) {
13768|      0|                    if let Some(pattern6_0) = C::def_inst(ctx, pattern5_0) {
13769|      0|                        let pattern7_0 = C::inst_data(ctx, pattern6_0);
13770|      0|                        if let &InstructionData::Binary { opcode: ref pattern8_0, args: ref pattern8_1 } = &pattern7_0 {
13771|      0|                            if let &Opcode::Ffcmp  = pattern8_0 {
13772|      0|                                let (pattern10_0, pattern10_1) = C::unpack_value_array_2(ctx, pattern8_1);
13773|      0|                                let pattern11_0 = arg1;
13774|      0|                                if let Some((pattern12_0, pattern12_1)) = C::two_targets(ctx, pattern11_0) {
13775|       |                                    // Rule at src/isa/x64/lower.isle line 2861.
13776|      0|                                    let expr0_0 = constructor_emit_fcmp(ctx, pattern2_2, pattern10_0, pattern10_1)?;
13777|      0|                                    let expr1_0 = constructor_jmp_cond_fcmp(ctx, &expr0_0, pattern12_0, pattern12_1)?;
13778|      0|                                    let expr2_0 = constructor_side_effect(ctx, &expr1_0)?;
13779|      0|                                    return Some(expr2_0);
13780|      0|                                }
13781|      0|                            }
13782|      0|                        }
13783|      0|                    }
13784|      0|                }
13785|      0|            }
13786|       |        }
13787|      0|        &InstructionData::BranchIcmp { opcode: ref pattern2_0, args: pattern2_1, cond: ref pattern2_2, destination: pattern2_3 } => {
13788|      0|            if let &Opcode::BrIcmp  = pattern2_0 {
13789|      0|                let pattern4_0 = C::value_list_slice(ctx, pattern2_1);
13790|      0|                if let Some((pattern5_0, pattern5_1)) = C::value_slice_unwrap(ctx, pattern4_0) {
13791|      0|                    if let Some((pattern6_0, pattern6_1)) = C::value_slice_unwrap(ctx, pattern5_1) {
13792|      0|                        let pattern7_0 = arg1;
13793|      0|                        if let Some((pattern8_0, pattern8_1)) = C::two_targets(ctx, pattern7_0) {
13794|       |                            // Rule at src/isa/x64/lower.isle line 2926.
13795|      0|                            let expr0_0 = constructor_emit_cmp(ctx, pattern2_2, pattern5_0, pattern6_0)?;
13796|      0|                            let expr1_0 = constructor_jmp_cond_icmp(ctx, &expr0_0, pattern8_0, pattern8_1)?;
13797|      0|                            let expr2_0 = constructor_side_effect(ctx, &expr1_0)?;
13798|      0|                            return Some(expr2_0);
13799|      0|                        }
13800|      0|                    }
13801|      0|                }
13802|      0|            }
13803|       |        }
13804|      0|        &InstructionData::BranchInt { opcode: ref pattern2_0, args: pattern2_1, cond: ref pattern2_2, destination: pattern2_3 } => {
13805|      0|            if let &Opcode::Brif  = pattern2_0 {
13806|      0|                let pattern4_0 = C::value_list_slice(ctx, pattern2_1);
13807|      0|                if let Some((pattern5_0, pattern5_1)) = C::value_slice_unwrap(ctx, pattern4_0) {
13808|      0|                    if let Some(pattern6_0) = C::def_inst(ctx, pattern5_0) {
13809|      0|                        let pattern7_0 = C::inst_data(ctx, pattern6_0);
13810|      0|                        if let &InstructionData::Binary { opcode: ref pattern8_0, args: ref pattern8_1 } = &pattern7_0 {
13811|      0|                            if let &Opcode::Ifcmp  = pattern8_0 {
13812|      0|                                let (pattern10_0, pattern10_1) = C::unpack_value_array_2(ctx, pattern8_1);
13813|      0|                                let pattern11_0 = arg1;
13814|      0|                                if let Some((pattern12_0, pattern12_1)) = C::two_targets(ctx, pattern11_0) {
13815|       |                                    // Rule at src/isa/x64/lower.isle line 2856.
13816|      0|                                    let expr0_0 = constructor_emit_cmp(ctx, pattern2_2, pattern10_0, pattern10_1)?;
13817|      0|                                    let expr1_0 = constructor_jmp_cond_icmp(ctx, &expr0_0, pattern12_0, pattern12_1)?;
13818|      0|                                    let expr2_0 = constructor_side_effect(ctx, &expr1_0)?;
13819|      0|                                    return Some(expr2_0);
13820|      0|                                }
13821|      0|                            }
13822|      0|                        }
13823|      0|                    }
13824|      0|                }
13825|      0|            }
13826|       |        }
13827|      0|        _ => {}
13828|       |    }
13829|      0|    return None;
13830|      5|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code23constructor_side_effectINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
  803|     11|pub fn constructor_side_effect<C: Context>(ctx: &mut C, arg0: &SideEffectNoResult) -> Option<InstOutput> {
  804|     11|    let pattern0_0 = arg0;
  805|     11|    match pattern0_0 {
  806|      9|        &SideEffectNoResult::Inst { inst: ref pattern1_0 } => {
  807|      9|            // Rule at src/prelude.isle line 624.
  808|      9|            let expr0_0 = C::emit(ctx, pattern1_0);
  809|      9|            let expr1_0 = C::output_none(ctx, );
  810|      9|            return Some(expr1_0);
  811|       |        }
  812|      2|        &SideEffectNoResult::Inst2 { inst1: ref pattern1_0, inst2: ref pattern1_1 } => {
  813|      2|            // Rule at src/prelude.isle line 627.
  814|      2|            let expr0_0 = C::emit(ctx, pattern1_0);
  815|      2|            let expr1_0 = C::emit(ctx, pattern1_1);
  816|      2|            let expr2_0 = C::output_none(ctx, );
  817|      2|            return Some(expr2_0);
  818|       |        }
  819|      0|        &SideEffectNoResult::Inst3 { inst1: ref pattern1_0, inst2: ref pattern1_1, inst3: ref pattern1_2 } => {
  820|      0|            // Rule at src/prelude.isle line 631.
  821|      0|            let expr0_0 = C::emit(ctx, pattern1_0);
  822|      0|            let expr1_0 = C::emit(ctx, pattern1_1);
  823|      0|            let expr2_0 = C::emit(ctx, pattern1_2);
  824|      0|            let expr3_0 = C::output_none(ctx, );
  825|      0|            return Some(expr3_0);
  826|       |        }
  827|      0|        _ => {}
  828|      0|    }
  829|      0|    return None;
  830|     11|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code21constructor_alu_rmi_rINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 2318|      2|pub fn constructor_alu_rmi_r<C: Context>(ctx: &mut C, arg0: Type, arg1: &AluRmiROpcode, arg2: Gpr, arg3: &GprMemImm) -> Option<Gpr> {
 2319|      2|    let pattern0_0 = arg0;
 2320|      2|    let pattern1_0 = arg1;
 2321|      2|    let pattern2_0 = arg2;
 2322|      2|    let pattern3_0 = arg3;
 2323|      2|    // Rule at src/isa/x64/inst.isle line 1731.
 2324|      2|    let expr0_0 = C::temp_writable_gpr(ctx, );
 2325|      2|    let expr1_0 = C::operand_size_of_type_32_64(ctx, pattern0_0);
 2326|      2|    let expr2_0 = MInst::AluRmiR {
 2327|      2|        size: expr1_0,
 2328|      2|        op: pattern1_0.clone(),
 2329|      2|        src1: pattern2_0,
 2330|      2|        src2: pattern3_0.clone(),
 2331|      2|        dst: expr0_0,
 2332|      2|    };
 2333|      2|    let expr3_0 = C::emit(ctx, &expr2_0);
 2334|      2|    let expr4_0 = C::writable_gpr_to_gpr(ctx, expr0_0);
 2335|      2|    return Some(expr4_0);
 2336|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code20constructor_emit_cmpINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 6192|      2|pub fn constructor_emit_cmp<C: Context>(ctx: &mut C, arg0: &IntCC, arg1: Value, arg2: Value) -> Option<IcmpCondResult> {
 6193|      2|    let pattern0_0 = arg0;
 6194|      2|    match pattern0_0 {
 6195|       |        &IntCC::Equal  => {
 6196|      0|            let pattern2_0 = arg1;
 6197|      0|            let pattern3_0 = C::value_type(ctx, pattern2_0);
 6198|      0|            if pattern3_0 == I128 {
 6199|      0|                let pattern5_0 = arg2;
 6200|      0|                // Rule at src/isa/x64/inst.isle line 3460.
 6201|      0|                let expr0_0 = C::put_in_regs(ctx, pattern2_0);
 6202|      0|                let expr1_0: usize = 0i128 as usize;
 6203|      0|                let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
 6204|      0|                let expr3_0 = C::put_in_regs(ctx, pattern2_0);
 6205|      0|                let expr4_0: usize = 1i128 as usize;
 6206|      0|                let expr5_0 = constructor_value_regs_get_gpr(ctx, expr3_0, expr4_0)?;
 6207|      0|                let expr6_0 = C::put_in_regs(ctx, pattern5_0);
 6208|      0|                let expr7_0: usize = 0i128 as usize;
 6209|      0|                let expr8_0 = constructor_value_regs_get_gpr(ctx, expr6_0, expr7_0)?;
 6210|      0|                let expr9_0 = C::put_in_regs(ctx, pattern5_0);
 6211|      0|                let expr10_0: usize = 1i128 as usize;
 6212|      0|                let expr11_0 = constructor_value_regs_get_gpr(ctx, expr9_0, expr10_0)?;
 6213|      0|                let expr12_0 = OperandSize::Size64;
 6214|      0|                let expr13_0 = C::gpr_to_gpr_mem_imm(ctx, expr8_0);
 6215|      0|                let expr14_0 = constructor_x64_cmp(ctx, &expr12_0, &expr13_0, expr2_0)?;
 6216|      0|                let expr15_0 = CC::Z;
 6217|      0|                let expr16_0 = constructor_x64_setcc(ctx, &expr15_0)?;
 6218|      0|                let expr17_0 = constructor_with_flags_reg(ctx, &expr14_0, &expr16_0)?;
 6219|      0|                let expr18_0 = OperandSize::Size64;
 6220|      0|                let expr19_0 = C::gpr_to_gpr_mem_imm(ctx, expr11_0);
 6221|      0|                let expr20_0 = constructor_x64_cmp(ctx, &expr18_0, &expr19_0, expr5_0)?;
 6222|      0|                let expr21_0 = CC::Z;
 6223|      0|                let expr22_0 = constructor_x64_setcc(ctx, &expr21_0)?;
 6224|      0|                let expr23_0 = constructor_with_flags_reg(ctx, &expr20_0, &expr22_0)?;
 6225|      0|                let expr24_0: Type = I64;
 6226|      0|                let expr25_0 = C::gpr_new(ctx, expr17_0);
 6227|      0|                let expr26_0 = constructor_reg_to_gpr_mem_imm(ctx, expr23_0)?;
 6228|      0|                let expr27_0 = constructor_x64_and(ctx, expr24_0, expr25_0, &expr26_0)?;
 6229|      0|                let expr28_0 = C::gpr_to_reg(ctx, expr27_0);
 6230|      0|                let expr29_0 = OperandSize::Size64;
 6231|      0|                let expr30_0: u32 = 1i128 as u32;
 6232|      0|                let expr31_0 = RegMemImm::Imm {
 6233|      0|                    simm32: expr30_0,
 6234|      0|                };
 6235|      0|                let expr32_0 = C::gpr_mem_imm_new(ctx, &expr31_0);
 6236|      0|                let expr33_0 = C::gpr_new(ctx, expr28_0);
 6237|      0|                let expr34_0 = constructor_x64_test(ctx, &expr29_0, &expr32_0, expr33_0)?;
 6238|      0|                let expr35_0 = CC::NZ;
 6239|      0|                let expr36_0 = constructor_icmp_cond_result(ctx, &expr34_0, &expr35_0)?;
 6240|      0|                return Some(expr36_0);
 6241|      0|            }
 6242|       |        }
 6243|       |        &IntCC::NotEqual  => {
 6244|      0|            let pattern2_0 = arg1;
 6245|      0|            let pattern3_0 = C::value_type(ctx, pattern2_0);
 6246|      0|            if pattern3_0 == I128 {
 6247|      0|                let pattern5_0 = arg2;
 6248|      0|                // Rule at src/isa/x64/inst.isle line 3481.
 6249|      0|                let expr0_0 = C::put_in_regs(ctx, pattern2_0);
 6250|      0|                let expr1_0: usize = 0i128 as usize;
 6251|      0|                let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
 6252|      0|                let expr3_0 = C::put_in_regs(ctx, pattern2_0);
 6253|      0|                let expr4_0: usize = 1i128 as usize;
 6254|      0|                let expr5_0 = constructor_value_regs_get_gpr(ctx, expr3_0, expr4_0)?;
 6255|      0|                let expr6_0 = C::put_in_regs(ctx, pattern5_0);
 6256|      0|                let expr7_0: usize = 0i128 as usize;
 6257|      0|                let expr8_0 = constructor_value_regs_get_gpr(ctx, expr6_0, expr7_0)?;
 6258|      0|                let expr9_0 = C::put_in_regs(ctx, pattern5_0);
 6259|      0|                let expr10_0: usize = 1i128 as usize;
 6260|      0|                let expr11_0 = constructor_value_regs_get_gpr(ctx, expr9_0, expr10_0)?;
 6261|      0|                let expr12_0 = OperandSize::Size64;
 6262|      0|                let expr13_0 = C::gpr_to_gpr_mem_imm(ctx, expr8_0);
 6263|      0|                let expr14_0 = constructor_x64_cmp(ctx, &expr12_0, &expr13_0, expr2_0)?;
 6264|      0|                let expr15_0 = CC::NZ;
 6265|      0|                let expr16_0 = constructor_x64_setcc(ctx, &expr15_0)?;
 6266|      0|                let expr17_0 = constructor_with_flags_reg(ctx, &expr14_0, &expr16_0)?;
 6267|      0|                let expr18_0 = OperandSize::Size64;
 6268|      0|                let expr19_0 = C::gpr_to_gpr_mem_imm(ctx, expr11_0);
 6269|      0|                let expr20_0 = constructor_x64_cmp(ctx, &expr18_0, &expr19_0, expr5_0)?;
 6270|      0|                let expr21_0 = CC::NZ;
 6271|      0|                let expr22_0 = constructor_x64_setcc(ctx, &expr21_0)?;
 6272|      0|                let expr23_0 = constructor_with_flags_reg(ctx, &expr20_0, &expr22_0)?;
 6273|      0|                let expr24_0: Type = I64;
 6274|      0|                let expr25_0 = C::gpr_new(ctx, expr17_0);
 6275|      0|                let expr26_0 = constructor_reg_to_gpr_mem_imm(ctx, expr23_0)?;
 6276|      0|                let expr27_0 = constructor_x64_or(ctx, expr24_0, expr25_0, &expr26_0)?;
 6277|      0|                let expr28_0 = C::gpr_to_reg(ctx, expr27_0);
 6278|      0|                let expr29_0 = OperandSize::Size64;
 6279|      0|                let expr30_0: u32 = 1i128 as u32;
 6280|      0|                let expr31_0 = RegMemImm::Imm {
 6281|      0|                    simm32: expr30_0,
 6282|      0|                };
 6283|      0|                let expr32_0 = C::gpr_mem_imm_new(ctx, &expr31_0);
 6284|      0|                let expr33_0 = C::gpr_new(ctx, expr28_0);
 6285|      0|                let expr34_0 = constructor_x64_test(ctx, &expr29_0, &expr32_0, expr33_0)?;
 6286|      0|                let expr35_0 = CC::NZ;
 6287|      0|                let expr36_0 = constructor_icmp_cond_result(ctx, &expr34_0, &expr35_0)?;
 6288|      0|                return Some(expr36_0);
 6289|      0|            }
 6290|       |        }
 6291|      2|        _ => {}
 6292|       |    }
 6293|      2|    let pattern1_0 = arg1;
 6294|      2|    if let Some(pattern2_0) = C::simm32_from_value(ctx, pattern1_0) {
 6295|      0|        let pattern3_0 = C::value_type(ctx, pattern1_0);
 6296|      0|        let pattern4_0 = arg2;
 6297|      0|        // Rule at src/isa/x64/inst.isle line 3454.
 6298|      0|        let expr0_0 = C::raw_operand_size_of_type(ctx, pattern3_0);
 6299|      0|        let expr1_0 = constructor_put_in_gpr(ctx, pattern4_0)?;
 6300|      0|        let expr2_0 = constructor_x64_cmp(ctx, &expr0_0, &pattern2_0, expr1_0)?;
 6301|      0|        let expr3_0 = C::intcc_reverse(ctx, pattern0_0);
 6302|      0|        let expr4_0 = C::intcc_to_cc(ctx, &expr3_0);
 6303|      0|        let expr5_0 = constructor_icmp_cond_result(ctx, &expr2_0, &expr4_0)?;
 6304|      0|        return Some(expr5_0);
 6305|      2|    }
 6306|      2|    let pattern2_0 = C::value_type(ctx, pattern1_0);
 6307|      2|    if pattern2_0 == I128 {
 6308|      0|        let pattern4_0 = arg2;
 6309|      0|        let mut closure5 = || {
 6310|       |            let expr0_0 = IntCC::Equal;
 6311|       |            let expr1_0 = C::intcc_neq(ctx, pattern0_0, &expr0_0)?;
 6312|       |            return Some(expr1_0);
 6313|       |        };
 6314|      0|        if let Some(pattern5_0) = closure5() {
 6315|      0|            let mut closure6 = || {
 6316|       |                let expr0_0 = IntCC::NotEqual;
 6317|       |                let expr1_0 = C::intcc_neq(ctx, pattern0_0, &expr0_0)?;
 6318|       |                return Some(expr1_0);
 6319|       |            };
 6320|      0|            if let Some(pattern6_0) = closure6() {
 6321|       |                // Rule at src/isa/x64/inst.isle line 3496.
 6322|      0|                let expr0_0 = C::put_in_regs(ctx, pattern1_0);
 6323|      0|                let expr1_0: usize = 0i128 as usize;
 6324|      0|                let expr2_0 = constructor_value_regs_get_gpr(ctx, expr0_0, expr1_0)?;
 6325|      0|                let expr3_0 = C::put_in_regs(ctx, pattern1_0);
 6326|      0|                let expr4_0: usize = 1i128 as usize;
 6327|      0|                let expr5_0 = constructor_value_regs_get_gpr(ctx, expr3_0, expr4_0)?;
 6328|      0|                let expr6_0 = C::put_in_regs(ctx, pattern4_0);
 6329|      0|                let expr7_0: usize = 0i128 as usize;
 6330|      0|                let expr8_0 = constructor_value_regs_get_gpr(ctx, expr6_0, expr7_0)?;
 6331|      0|                let expr9_0 = C::put_in_regs(ctx, pattern4_0);
 6332|      0|                let expr10_0: usize = 1i128 as usize;
 6333|      0|                let expr11_0 = constructor_value_regs_get_gpr(ctx, expr9_0, expr10_0)?;
 6334|      0|                let expr12_0 = OperandSize::Size64;
 6335|      0|                let expr13_0 = C::gpr_to_gpr_mem_imm(ctx, expr11_0);
 6336|      0|                let expr14_0 = constructor_x64_cmp(ctx, &expr12_0, &expr13_0, expr5_0)?;
 6337|      0|                let expr15_0 = C::intcc_without_eq(ctx, pattern0_0);
 6338|      0|                let expr16_0 = C::intcc_to_cc(ctx, &expr15_0);
 6339|      0|                let expr17_0 = constructor_x64_setcc(ctx, &expr16_0)?;
 6340|      0|                let expr18_0 = CC::Z;
 6341|      0|                let expr19_0 = constructor_x64_setcc(ctx, &expr18_0)?;
 6342|      0|                let expr20_0 = constructor_consumes_flags_concat(ctx, &expr17_0, &expr19_0)?;
 6343|      0|                let expr21_0 = constructor_with_flags(ctx, &expr14_0, &expr20_0)?;
 6344|      0|                let expr22_0: usize = 0i128 as usize;
 6345|      0|                let expr23_0 = C::value_regs_get(ctx, expr21_0, expr22_0);
 6346|      0|                let expr24_0: usize = 1i128 as usize;
 6347|      0|                let expr25_0 = C::value_regs_get(ctx, expr21_0, expr24_0);
 6348|      0|                let expr26_0 = OperandSize::Size64;
 6349|      0|                let expr27_0 = C::gpr_to_gpr_mem_imm(ctx, expr8_0);
 6350|      0|                let expr28_0 = constructor_x64_cmp(ctx, &expr26_0, &expr27_0, expr2_0)?;
 6351|      0|                let expr29_0 = C::intcc_unsigned(ctx, pattern0_0);
 6352|      0|                let expr30_0 = C::intcc_to_cc(ctx, &expr29_0);
 6353|      0|                let expr31_0 = constructor_x64_setcc(ctx, &expr30_0)?;
 6354|      0|                let expr32_0 = constructor_with_flags_reg(ctx, &expr28_0, &expr31_0)?;
 6355|      0|                let expr33_0: Type = I64;
 6356|      0|                let expr34_0 = C::gpr_new(ctx, expr25_0);
 6357|      0|                let expr35_0 = constructor_reg_to_gpr_mem_imm(ctx, expr32_0)?;
 6358|      0|                let expr36_0 = constructor_x64_and(ctx, expr33_0, expr34_0, &expr35_0)?;
 6359|      0|                let expr37_0 = C::gpr_to_reg(ctx, expr36_0);
 6360|      0|                let expr38_0: Type = I64;
 6361|      0|                let expr39_0 = C::gpr_new(ctx, expr23_0);
 6362|      0|                let expr40_0 = constructor_reg_to_gpr_mem_imm(ctx, expr37_0)?;
 6363|      0|                let expr41_0 = constructor_x64_or(ctx, expr38_0, expr39_0, &expr40_0)?;
 6364|      0|                let expr42_0 = C::gpr_to_reg(ctx, expr41_0);
 6365|      0|                let expr43_0 = OperandSize::Size64;
 6366|      0|                let expr44_0: u32 = 1i128 as u32;
 6367|      0|                let expr45_0 = RegMemImm::Imm {
 6368|      0|                    simm32: expr44_0,
 6369|      0|                };
 6370|      0|                let expr46_0 = C::gpr_mem_imm_new(ctx, &expr45_0);
 6371|      0|                let expr47_0 = C::gpr_new(ctx, expr42_0);
 6372|      0|                let expr48_0 = constructor_x64_test(ctx, &expr43_0, &expr46_0, expr47_0)?;
 6373|      0|                let expr49_0 = CC::NZ;
 6374|      0|                let expr50_0 = constructor_icmp_cond_result(ctx, &expr48_0, &expr49_0)?;
 6375|      0|                return Some(expr50_0);
 6376|      0|            }
 6377|      0|        }
 6378|      2|    }
 6379|      2|    let pattern3_0 = arg2;
 6380|      2|    // Rule at src/isa/x64/inst.isle line 3447.
 6381|      2|    let expr0_0 = C::raw_operand_size_of_type(ctx, pattern2_0);
 6382|      2|    let expr1_0 = constructor_put_in_gpr_mem_imm(ctx, pattern3_0)?;
 6383|      2|    let expr2_0 = constructor_put_in_gpr(ctx, pattern1_0)?;
 6384|      2|    let expr3_0 = constructor_x64_cmp(ctx, &expr0_0, &expr1_0, expr2_0)?;
 6385|      2|    let expr4_0 = C::intcc_to_cc(ctx, pattern0_0);
 6386|      2|    let expr5_0 = constructor_icmp_cond_result(ctx, &expr3_0, &expr4_0)?;
 6387|      2|    return Some(expr5_0);
 6388|      2|}
_RNvXs5_NtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_codeNtB5_5AmodeNtNtCs6s7lnD9fK28_4core5clone5Clone5cloneBf_:
  701|     58|#[derive(Clone, Debug)]
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code28constructor_amode_to_gpr_memINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 6948|      2|pub fn constructor_amode_to_gpr_mem<C: Context>(ctx: &mut C, arg0: &Amode) -> Option<GprMem> {
 6949|      2|    let pattern0_0 = arg0;
 6950|      2|    // Rule at src/isa/x64/inst.isle line 3849.
 6951|      2|    let expr0_0 = C::amode_to_synthetic_amode(ctx, pattern0_0);
 6952|      2|    let expr1_0 = constructor_synthetic_amode_to_gpr_mem(ctx, &expr0_0)?;
 6953|      2|    return Some(expr1_0);
 6954|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code19constructor_x64_cmpINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 2757|      2|pub fn constructor_x64_cmp<C: Context>(ctx: &mut C, arg0: &OperandSize, arg1: &GprMemImm, arg2: Gpr) -> Option<ProducesFlags> {
 2758|      2|    let pattern0_0 = arg0;
 2759|      2|    let pattern1_0 = arg1;
 2760|      2|    let pattern2_0 = arg2;
 2761|      2|    // Rule at src/isa/x64/inst.isle line 1975.
 2762|      2|    let expr0_0 = CmpOpcode::Cmp;
 2763|      2|    let expr1_0 = constructor_cmp_rmi_r(ctx, pattern0_0, &expr0_0, pattern1_0, pattern2_0)?;
 2764|      2|    return Some(expr1_0);
 2765|      2|}
_RNvXs4_NtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_codeNtB5_5MInstNtNtCs6s7lnD9fK28_4core5clone5Clone5cloneBf_:
  339|     33|#[derive(Clone)]
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code22constructor_put_in_gprINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1688|      8|pub fn constructor_put_in_gpr<C: Context>(ctx: &mut C, arg0: Value) -> Option<Gpr> {
 1689|      8|    let pattern0_0 = arg0;
 1690|      8|    // Rule at src/isa/x64/inst.isle line 1283.
 1691|      8|    let expr0_0 = C::put_in_reg(ctx, pattern0_0);
 1692|      8|    let expr1_0 = C::gpr_new(ctx, expr0_0);
 1693|      8|    return Some(expr1_0);
 1694|      8|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code21constructor_amode_addINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1230|      8|pub fn constructor_amode_add<C: Context>(ctx: &mut C, arg0: &Amode, arg1: Value) -> Option<Amode> {
 1231|      8|    let pattern0_0 = arg0;
 1232|      8|    match pattern0_0 {
 1233|      8|        &Amode::ImmReg { simm32: pattern1_0, base: pattern1_1, flags: pattern1_2 } => {
 1234|      8|            let pattern2_0 = arg1;
 1235|      8|            if let Some(pattern3_0) = C::def_inst(ctx, pattern2_0) {
 1236|      2|                let pattern4_0 = C::inst_data(ctx, pattern3_0);
 1237|      2|                match &pattern4_0 {
 1238|      0|                    &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 1239|      0|                        match pattern5_0 {
 1240|       |                            &Opcode::Uextend  => {
 1241|      0|                                if let Some(pattern7_0) = C::def_inst(ctx, pattern5_1) {
 1242|      0|                                    let pattern8_0 = C::inst_data(ctx, pattern7_0);
 1243|      0|                                    if let &InstructionData::UnaryImm { opcode: ref pattern9_0, imm: pattern9_1 } = &pattern8_0 {
 1244|      0|                                        if let &Opcode::Iconst  = pattern9_0 {
 1245|      0|                                            if let Some(pattern11_0) = C::simm32(ctx, pattern9_1) {
 1246|      0|                                                if let Some(pattern12_0) = C::u32_nonnegative(ctx, pattern11_0) {
 1247|      0|                                                    let mut closure13 = || {
 1248|       |                                                        let expr0_0 = C::s32_add_fallible(ctx, pattern1_0, pattern12_0)?;
 1249|       |                                                        return Some(expr0_0);
 1250|       |                                                    };
 1251|      0|                                                    if let Some(pattern13_0) = closure13() {
 1252|       |                                                        // Rule at src/isa/x64/inst.isle line 993.
 1253|      0|                                                        let expr0_0 = Amode::ImmReg {
 1254|      0|                                                            simm32: pattern13_0,
 1255|      0|                                                            base: pattern1_1,
 1256|      0|                                                            flags: pattern1_2,
 1257|      0|                                                        };
 1258|      0|                                                        return Some(expr0_0);
 1259|      0|                                                    }
 1260|      0|                                                }
 1261|      0|                                            }
 1262|      0|                                        }
 1263|      0|                                    }
 1264|      0|                                }
 1265|       |                            }
 1266|       |                            &Opcode::Sextend  => {
 1267|      0|                                if let Some(pattern7_0) = C::def_inst(ctx, pattern5_1) {
 1268|      0|                                    let pattern8_0 = C::inst_data(ctx, pattern7_0);
 1269|      0|                                    if let &InstructionData::UnaryImm { opcode: ref pattern9_0, imm: pattern9_1 } = &pattern8_0 {
 1270|      0|                                        if let &Opcode::Iconst  = pattern9_0 {
 1271|      0|                                            if let Some(pattern11_0) = C::simm32(ctx, pattern9_1) {
 1272|      0|                                                let mut closure12 = || {
 1273|       |                                                    let expr0_0 = C::s32_add_fallible(ctx, pattern1_0, pattern11_0)?;
 1274|       |                                                    return Some(expr0_0);
 1275|       |                                                };
 1276|      0|                                                if let Some(pattern12_0) = closure12() {
 1277|       |                                                    // Rule at src/isa/x64/inst.isle line 1003.
 1278|      0|                                                    let expr0_0 = Amode::ImmReg {
 1279|      0|                                                        simm32: pattern12_0,
 1280|      0|                                                        base: pattern1_1,
 1281|      0|                                                        flags: pattern1_2,
 1282|      0|                                                    };
 1283|      0|                                                    return Some(expr0_0);
 1284|      0|                                                }
 1285|      0|                                            }
 1286|      0|                                        }
 1287|      0|                                    }
 1288|      0|                                }
 1289|       |                            }
 1290|      0|                            _ => {}
 1291|       |                        }
 1292|       |                    }
 1293|      0|                    &InstructionData::UnaryImm { opcode: ref pattern5_0, imm: pattern5_1 } => {
 1294|      0|                        if let &Opcode::Iconst  = pattern5_0 {
 1295|      0|                            if let Some(pattern7_0) = C::simm32(ctx, pattern5_1) {
 1296|      0|                                let mut closure8 = || {
 1297|       |                                    let expr0_0 = C::s32_add_fallible(ctx, pattern1_0, pattern7_0)?;
 1298|       |                                    return Some(expr0_0);
 1299|       |                                };
 1300|      0|                                if let Some(pattern8_0) = closure8() {
 1301|       |                                    // Rule at src/isa/x64/inst.isle line 980.
 1302|      0|                                    let expr0_0 = Amode::ImmReg {
 1303|      0|                                        simm32: pattern8_0,
 1304|      0|                                        base: pattern1_1,
 1305|      0|                                        flags: pattern1_2,
 1306|      0|                                    };
 1307|      0|                                    return Some(expr0_0);
 1308|      0|                                }
 1309|      0|                            }
 1310|      0|                        }
 1311|       |                    }
 1312|      2|                    _ => {}
 1313|       |                }
 1314|      6|            }
 1315|       |        }
 1316|      0|        &Amode::ImmRegRegShift { simm32: pattern1_0, base: pattern1_1, index: pattern1_2, shift: pattern1_3, flags: pattern1_4 } => {
 1317|      0|            let pattern2_0 = arg1;
 1318|      0|            if let Some(pattern3_0) = C::def_inst(ctx, pattern2_0) {
 1319|      0|                let pattern4_0 = C::inst_data(ctx, pattern3_0);
 1320|      0|                match &pattern4_0 {
 1321|      0|                    &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 1322|      0|                        match pattern5_0 {
 1323|       |                            &Opcode::Uextend  => {
 1324|      0|                                if let Some(pattern7_0) = C::def_inst(ctx, pattern5_1) {
 1325|      0|                                    let pattern8_0 = C::inst_data(ctx, pattern7_0);
 1326|      0|                                    if let &InstructionData::UnaryImm { opcode: ref pattern9_0, imm: pattern9_1 } = &pattern8_0 {
 1327|      0|                                        if let &Opcode::Iconst  = pattern9_0 {
 1328|      0|                                            if let Some(pattern11_0) = C::simm32(ctx, pattern9_1) {
 1329|      0|                                                if let Some(pattern12_0) = C::u32_nonnegative(ctx, pattern11_0) {
 1330|      0|                                                    let mut closure13 = || {
 1331|       |                                                        let expr0_0 = C::s32_add_fallible(ctx, pattern1_0, pattern12_0)?;
 1332|       |                                                        return Some(expr0_0);
 1333|       |                                                    };
 1334|      0|                                                    if let Some(pattern13_0) = closure13() {
 1335|       |                                                        // Rule at src/isa/x64/inst.isle line 997.
 1336|      0|                                                        let expr0_0 = Amode::ImmRegRegShift {
 1337|      0|                                                            simm32: pattern13_0,
 1338|      0|                                                            base: pattern1_1,
 1339|      0|                                                            index: pattern1_2,
 1340|      0|                                                            shift: pattern1_3,
 1341|      0|                                                            flags: pattern1_4,
 1342|      0|                                                        };
 1343|      0|                                                        return Some(expr0_0);
 1344|      0|                                                    }
 1345|      0|                                                }
 1346|      0|                                            }
 1347|      0|                                        }
 1348|      0|                                    }
 1349|      0|                                }
 1350|       |                            }
 1351|       |                            &Opcode::Sextend  => {
 1352|      0|                                if let Some(pattern7_0) = C::def_inst(ctx, pattern5_1) {
 1353|      0|                                    let pattern8_0 = C::inst_data(ctx, pattern7_0);
 1354|      0|                                    if let &InstructionData::UnaryImm { opcode: ref pattern9_0, imm: pattern9_1 } = &pattern8_0 {
 1355|      0|                                        if let &Opcode::Iconst  = pattern9_0 {
 1356|      0|                                            if let Some(pattern11_0) = C::simm32(ctx, pattern9_1) {
 1357|      0|                                                let mut closure12 = || {
 1358|       |                                                    let expr0_0 = C::s32_add_fallible(ctx, pattern1_0, pattern11_0)?;
 1359|       |                                                    return Some(expr0_0);
 1360|       |                                                };
 1361|      0|                                                if let Some(pattern12_0) = closure12() {
 1362|       |                                                    // Rule at src/isa/x64/inst.isle line 1007.
 1363|      0|                                                    let expr0_0 = Amode::ImmRegRegShift {
 1364|      0|                                                        simm32: pattern12_0,
 1365|      0|                                                        base: pattern1_1,
 1366|      0|                                                        index: pattern1_2,
 1367|      0|                                                        shift: pattern1_3,
 1368|      0|                                                        flags: pattern1_4,
 1369|      0|                                                    };
 1370|      0|                                                    return Some(expr0_0);
 1371|      0|                                                }
 1372|      0|                                            }
 1373|      0|                                        }
 1374|      0|                                    }
 1375|      0|                                }
 1376|       |                            }
 1377|      0|                            _ => {}
 1378|       |                        }
 1379|       |                    }
 1380|      0|                    &InstructionData::UnaryImm { opcode: ref pattern5_0, imm: pattern5_1 } => {
 1381|      0|                        if let &Opcode::Iconst  = pattern5_0 {
 1382|      0|                            if let Some(pattern7_0) = C::simm32(ctx, pattern5_1) {
 1383|      0|                                let mut closure8 = || {
 1384|       |                                    let expr0_0 = C::s32_add_fallible(ctx, pattern1_0, pattern7_0)?;
 1385|       |                                    return Some(expr0_0);
 1386|       |                                };
 1387|      0|                                if let Some(pattern8_0) = closure8() {
 1388|       |                                    // Rule at src/isa/x64/inst.isle line 984.
 1389|      0|                                    let expr0_0 = Amode::ImmRegRegShift {
 1390|      0|                                        simm32: pattern8_0,
 1391|      0|                                        base: pattern1_1,
 1392|      0|                                        index: pattern1_2,
 1393|      0|                                        shift: pattern1_3,
 1394|      0|                                        flags: pattern1_4,
 1395|      0|                                    };
 1396|      0|                                    return Some(expr0_0);
 1397|      0|                                }
 1398|      0|                            }
 1399|      0|                        }
 1400|       |                    }
 1401|      0|                    _ => {}
 1402|       |                }
 1403|      0|            }
 1404|       |        }
 1405|      0|        _ => {}
 1406|       |    }
 1407|      8|    let pattern0_0 = arg0;
 1408|      8|    if let &Amode::ImmReg { simm32: pattern1_0, base: pattern1_1, flags: pattern1_2 } = pattern0_0 {
 1409|      8|        let pattern2_0 = arg1;
 1410|      8|        if let Some(pattern3_0) = C::def_inst(ctx, pattern2_0) {
 1411|      2|            let pattern4_0 = C::inst_data(ctx, pattern3_0);
 1412|      2|            match &pattern4_0 {
 1413|      0|                &InstructionData::Unary { opcode: ref pattern5_0, arg: pattern5_1 } => {
 1414|      0|                    if let &Opcode::Uextend  = pattern5_0 {
 1415|      0|                        if let Some(pattern7_0) = C::def_inst(ctx, pattern5_1) {
 1416|      0|                            let pattern8_0 = C::inst_data(ctx, pattern7_0);
 1417|      0|                            if let &InstructionData::Binary { opcode: ref pattern9_0, args: ref pattern9_1 } = &pattern8_0 {
 1418|      0|                                if let &Opcode::Ishl  = pattern9_0 {
 1419|      0|                                    let (pattern11_0, pattern11_1) = C::unpack_value_array_2(ctx, pattern9_1);
 1420|      0|                                    if let Some(pattern12_0) = C::def_inst(ctx, pattern11_0) {
 1421|      0|                                        let pattern13_0 = C::inst_data(ctx, pattern12_0);
 1422|      0|                                        if let &InstructionData::Binary { opcode: ref pattern14_0, args: ref pattern14_1 } = &pattern13_0 {
 1423|      0|                                            if let &Opcode::Iadd  = pattern14_0 {
 1424|      0|                                                let (pattern16_0, pattern16_1) = C::unpack_value_array_2(ctx, pattern14_1);
 1425|      0|                                                if let Some(pattern17_0) = C::def_inst(ctx, pattern11_1) {
 1426|      0|                                                    let pattern18_0 = C::inst_data(ctx, pattern17_0);
 1427|      0|                                                    if let &InstructionData::UnaryImm { opcode: ref pattern19_0, imm: pattern19_1 } = &pattern18_0 {
 1428|      0|                                                        if let &Opcode::Iconst  = pattern19_0 {
 1429|      0|                                                            if let Some(pattern21_0) = C::uimm8(ctx, pattern19_1) {
 1430|      0|                                                                let mut closure22 = || {
 1431|       |                                                                    return Some(pattern1_1);
 1432|       |                                                                };
 1433|      0|                                                                if let Some(pattern22_0) = closure22() {
 1434|      0|                                                                    if let Some(()) = C::valid_reg(ctx, pattern22_0) {
 1435|      0|                                                                        let mut closure24 = || {
 1436|       |                                                                            let expr0_0 = C::u8_as_u32(ctx, pattern21_0)?;
 1437|       |                                                                            let expr1_0: u32 = 3i128 as u32;
 1438|       |                                                                            let expr2_0 = C::u32_lteq(ctx, expr0_0, expr1_0)?;
 1439|       |                                                                            return Some(expr2_0);
 1440|       |                                                                        };
 1441|      0|                                                                        if let Some(pattern24_0) = closure24() {
 1442|       |                                                                            // Rule at src/isa/x64/inst.isle line 966.
 1443|      0|                                                                            let expr0_0 = C::gpr_new(ctx, pattern1_1);
 1444|      0|                                                                            let expr1_0 = constructor_put_in_gpr(ctx, pattern11_0)?;
 1445|      0|                                                                            let expr2_0 = Amode::ImmRegRegShift {
 1446|      0|                                                                                simm32: pattern1_0,
 1447|      0|                                                                                base: expr0_0,
 1448|      0|                                                                                index: expr1_0,
 1449|      0|                                                                                shift: pattern21_0,
 1450|      0|                                                                                flags: pattern1_2,
 1451|      0|                                                                            };
 1452|      0|                                                                            return Some(expr2_0);
 1453|      0|                                                                        }
 1454|      0|                                                                    }
 1455|      0|                                                                }
 1456|      0|                                                            }
 1457|      0|                                                        }
 1458|      0|                                                    }
 1459|      0|                                                }
 1460|      0|                                            }
 1461|      0|                                        }
 1462|      0|                                    }
 1463|      0|                                    if let Some(pattern12_0) = C::def_inst(ctx, pattern11_1) {
 1464|      0|                                        let pattern13_0 = C::inst_data(ctx, pattern12_0);
 1465|      0|                                        if let &InstructionData::UnaryImm { opcode: ref pattern14_0, imm: pattern14_1 } = &pattern13_0 {
 1466|      0|                                            if let &Opcode::Iconst  = pattern14_0 {
 1467|      0|                                                if let Some(pattern16_0) = C::uimm8(ctx, pattern14_1) {
 1468|      0|                                                    let mut closure17 = || {
 1469|       |                                                        return Some(pattern1_1);
 1470|       |                                                    };
 1471|      0|                                                    if let Some(pattern17_0) = closure17() {
 1472|      0|                                                        if let Some(()) = C::valid_reg(ctx, pattern17_0) {
 1473|      0|                                                            let mut closure19 = || {
 1474|       |                                                                let expr0_0 = C::u8_as_u32(ctx, pattern16_0)?;
 1475|       |                                                                let expr1_0: u32 = 3i128 as u32;
 1476|       |                                                                let expr2_0 = C::u32_lteq(ctx, expr0_0, expr1_0)?;
 1477|       |                                                                return Some(expr2_0);
 1478|       |                                                            };
 1479|      0|                                                            if let Some(pattern19_0) = closure19() {
 1480|       |                                                                // Rule at src/isa/x64/inst.isle line 955.
 1481|      0|                                                                let expr0_0 = C::gpr_new(ctx, pattern1_1);
 1482|      0|                                                                let expr1_0: Type = I64;
 1483|      0|                                                                let expr2_0 = ExtendKind::Zero;
 1484|      0|                                                                let expr3_0 = constructor_extend_to_gpr(ctx, pattern11_0, expr1_0, &expr2_0)?;
 1485|      0|                                                                let expr4_0 = Amode::ImmRegRegShift {
 1486|      0|                                                                    simm32: pattern1_0,
 1487|      0|                                                                    base: expr0_0,
 1488|      0|                                                                    index: expr3_0,
 1489|      0|                                                                    shift: pattern16_0,
 1490|      0|                                                                    flags: pattern1_2,
 1491|      0|                                                                };
 1492|      0|                                                                return Some(expr4_0);
 1493|      0|                                                            }
 1494|      0|                                                        }
 1495|      0|                                                    }
 1496|      0|                                                }
 1497|      0|                                            }
 1498|      0|                                        }
 1499|      0|                                    }
 1500|      0|                                }
 1501|      0|                            }
 1502|      0|                        }
 1503|      0|                    }
 1504|       |                }
 1505|      0|                &InstructionData::Binary { opcode: ref pattern5_0, args: ref pattern5_1 } => {
 1506|      0|                    if let &Opcode::Ishl  = pattern5_0 {
 1507|      0|                        let (pattern7_0, pattern7_1) = C::unpack_value_array_2(ctx, pattern5_1);
 1508|      0|                        if let Some(pattern8_0) = C::def_inst(ctx, pattern7_1) {
 1509|      0|                            let pattern9_0 = C::inst_data(ctx, pattern8_0);
 1510|      0|                            if let &InstructionData::UnaryImm { opcode: ref pattern10_0, imm: pattern10_1 } = &pattern9_0 {
 1511|      0|                                if let &Opcode::Iconst  = pattern10_0 {
 1512|      0|                                    if let Some(pattern12_0) = C::uimm8(ctx, pattern10_1) {
 1513|      0|                                        let mut closure13 = || {
 1514|       |                                            return Some(pattern1_1);
 1515|       |                                        };
 1516|      0|                                        if let Some(pattern13_0) = closure13() {
 1517|      0|                                            if let Some(()) = C::valid_reg(ctx, pattern13_0) {
 1518|      0|                                                let mut closure15 = || {
 1519|       |                                                    let expr0_0 = C::u8_as_u32(ctx, pattern12_0)?;
 1520|       |                                                    let expr1_0: u32 = 3i128 as u32;
 1521|       |                                                    let expr2_0 = C::u32_lteq(ctx, expr0_0, expr1_0)?;
 1522|       |                                                    return Some(expr2_0);
 1523|       |                                                };
 1524|      0|                                                if let Some(pattern15_0) = closure15() {
 1525|       |                                                    // Rule at src/isa/x64/inst.isle line 951.
 1526|      0|                                                    let expr0_0 = C::gpr_new(ctx, pattern1_1);
 1527|      0|                                                    let expr1_0 = constructor_put_in_gpr(ctx, pattern7_0)?;
 1528|      0|                                                    let expr2_0 = Amode::ImmRegRegShift {
 1529|      0|                                                        simm32: pattern1_0,
 1530|      0|                                                        base: expr0_0,
 1531|      0|                                                        index: expr1_0,
 1532|      0|                                                        shift: pattern12_0,
 1533|      0|                                                        flags: pattern1_2,
 1534|      0|                                                    };
 1535|      0|                                                    return Some(expr2_0);
 1536|      0|                                                }
 1537|      0|                                            }
 1538|      0|                                        }
 1539|      0|                                    }
 1540|      0|                                }
 1541|      0|                            }
 1542|      0|                        }
 1543|      0|                    }
 1544|       |                }
 1545|      2|                _ => {}
 1546|       |            }
 1547|      6|        }
 1548|      0|    }
 1549|      8|    let pattern1_0 = arg1;
 1550|      8|    if let Some(pattern2_0) = C::def_inst(ctx, pattern1_0) {
 1551|      2|        let pattern3_0 = C::inst_data(ctx, pattern2_0);
 1552|      2|        if let &InstructionData::Binary { opcode: ref pattern4_0, args: ref pattern4_1 } = &pattern3_0 {
 1553|      0|            if let &Opcode::Iadd  = pattern4_0 {
 1554|      0|                let (pattern6_0, pattern6_1) = C::unpack_value_array_2(ctx, pattern4_1);
 1555|       |                // Rule at src/isa/x64/inst.isle line 926.
 1556|      0|                let expr0_0 = constructor_amode_add(ctx, pattern0_0, pattern6_0)?;
 1557|      0|                let expr1_0 = constructor_amode_add(ctx, &expr0_0, pattern6_1)?;
 1558|      0|                return Some(expr1_0);
 1559|      0|            }
 1560|      2|        }
 1561|      6|    }
 1562|      8|    let pattern0_0 = arg0;
 1563|      8|    match pattern0_0 {
 1564|      8|        &Amode::ImmReg { simm32: pattern1_0, base: pattern1_1, flags: pattern1_2 } => {
 1565|      8|            if let Some(()) = C::invalid_reg_etor(ctx, pattern1_1) {
 1566|      8|                let pattern3_0 = arg1;
 1567|      8|                // Rule at src/isa/x64/inst.isle line 935.
 1568|      8|                let expr0_0 = C::put_in_reg(ctx, pattern3_0);
 1569|      8|                let expr1_0 = Amode::ImmReg {
 1570|      8|                    simm32: pattern1_0,
 1571|      8|                    base: expr0_0,
 1572|      8|                    flags: pattern1_2,
 1573|      8|                };
 1574|      8|                return Some(expr1_0);
 1575|      0|            }
 1576|      0|            let pattern2_0 = arg1;
 1577|      0|            let mut closure3 = || {
 1578|       |                return Some(pattern1_1);
 1579|       |            };
 1580|      0|            if let Some(pattern3_0) = closure3() {
 1581|      0|                if let Some(()) = C::valid_reg(ctx, pattern3_0) {
 1582|       |                    // Rule at src/isa/x64/inst.isle line 941.
 1583|      0|                    let expr0_0 = C::gpr_new(ctx, pattern1_1);
 1584|      0|                    let expr1_0 = constructor_put_in_gpr(ctx, pattern2_0)?;
 1585|      0|                    let expr2_0: u8 = 0i128 as u8;
 1586|      0|                    let expr3_0 = Amode::ImmRegRegShift {
 1587|      0|                        simm32: pattern1_0,
 1588|      0|                        base: expr0_0,
 1589|      0|                        index: expr1_0,
 1590|      0|                        shift: expr2_0,
 1591|      0|                        flags: pattern1_2,
 1592|      0|                    };
 1593|      0|                    return Some(expr3_0);
 1594|      0|                }
 1595|      0|            }
 1596|       |        }
 1597|      0|        &Amode::ImmRegRegShift { simm32: pattern1_0, base: pattern1_1, index: pattern1_2, shift: pattern1_3, flags: pattern1_4 } => {
 1598|      0|            let pattern2_0 = arg1;
 1599|      0|            // Rule at src/isa/x64/inst.isle line 1017.
 1600|      0|            let expr0_0: Type = I64;
 1601|      0|            let expr1_0 = constructor_put_in_gpr_mem_imm(ctx, pattern2_0)?;
 1602|      0|            let expr2_0 = constructor_x64_add(ctx, expr0_0, pattern1_1, &expr1_0)?;
 1603|      0|            let expr3_0 = Amode::ImmRegRegShift {
 1604|      0|                simm32: pattern1_0,
 1605|      0|                base: expr2_0,
 1606|      0|                index: pattern1_2,
 1607|      0|                shift: pattern1_3,
 1608|      0|                flags: pattern1_4,
 1609|      0|            };
 1610|      0|            return Some(expr3_0);
 1611|       |        }
 1612|      0|        _ => {}
 1613|       |    }
 1614|      0|    return None;
 1615|      8|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code34constructor_with_flags_side_effectINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1011|      2|pub fn constructor_with_flags_side_effect<C: Context>(ctx: &mut C, arg0: &ProducesFlags, arg1: &ConsumesFlags) -> Option<SideEffectNoResult> {
 1012|      2|    let pattern0_0 = arg0;
 1013|      2|    match pattern0_0 {
 1014|       |        &ProducesFlags::AlreadyExistingFlags  => {
 1015|      0|            let pattern2_0 = arg1;
 1016|      0|            match pattern2_0 {
 1017|      0|                &ConsumesFlags::ConsumesFlagsSideEffect { inst: ref pattern3_0 } => {
 1018|      0|                    // Rule at src/prelude.isle line 782.
 1019|      0|                    let expr0_0 = SideEffectNoResult::Inst {
 1020|      0|                        inst: pattern3_0.clone(),
 1021|      0|                    };
 1022|      0|                    return Some(expr0_0);
 1023|       |                }
 1024|      0|                &ConsumesFlags::ConsumesFlagsSideEffect2 { inst1: ref pattern3_0, inst2: ref pattern3_1 } => {
 1025|      0|                    // Rule at src/prelude.isle line 787.
 1026|      0|                    let expr0_0 = SideEffectNoResult::Inst2 {
 1027|      0|                        inst1: pattern3_0.clone(),
 1028|      0|                        inst2: pattern3_1.clone(),
 1029|      0|                    };
 1030|      0|                    return Some(expr0_0);
 1031|       |                }
 1032|      0|                _ => {}
 1033|       |            }
 1034|       |        }
 1035|      2|        &ProducesFlags::ProducesFlagsSideEffect { inst: ref pattern1_0 } => {
 1036|      2|            let pattern2_0 = arg1;
 1037|      2|            match pattern2_0 {
 1038|      2|                &ConsumesFlags::ConsumesFlagsSideEffect { inst: ref pattern3_0 } => {
 1039|      2|                    // Rule at src/prelude.isle line 792.
 1040|      2|                    let expr0_0 = SideEffectNoResult::Inst2 {
 1041|      2|                        inst1: pattern1_0.clone(),
 1042|      2|                        inst2: pattern3_0.clone(),
 1043|      2|                    };
 1044|      2|                    return Some(expr0_0);
 1045|       |                }
 1046|      0|                &ConsumesFlags::ConsumesFlagsSideEffect2 { inst1: ref pattern3_0, inst2: ref pattern3_1 } => {
 1047|      0|                    // Rule at src/prelude.isle line 797.
 1048|      0|                    let expr0_0 = SideEffectNoResult::Inst3 {
 1049|      0|                        inst1: pattern1_0.clone(),
 1050|      0|                        inst2: pattern3_0.clone(),
 1051|      0|                        inst3: pattern3_1.clone(),
 1052|      0|                    };
 1053|      0|                    return Some(expr0_0);
 1054|       |                }
 1055|      0|                _ => {}
 1056|       |            }
 1057|       |        }
 1058|      0|        _ => {}
 1059|       |    }
 1060|      0|    return None;
 1061|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code21constructor_jmp_knownINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 5998|      3|pub fn constructor_jmp_known<C: Context>(ctx: &mut C, arg0: MachLabel) -> Option<SideEffectNoResult> {
 5999|      3|    let pattern0_0 = arg0;
 6000|      3|    // Rule at src/isa/x64/inst.isle line 3328.
 6001|      3|    let expr0_0 = MInst::JmpKnown {
 6002|      3|        dst: pattern0_0,
 6003|      3|    };
 6004|      3|    let expr1_0 = SideEffectNoResult::Inst {
 6005|      3|        inst: expr0_0,
 6006|      3|    };
 6007|      3|    return Some(expr1_0);
 6008|      3|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code28constructor_icmp_cond_resultINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 6129|      4|pub fn constructor_icmp_cond_result<C: Context>(ctx: &mut C, arg0: &ProducesFlags, arg1: &CC) -> Option<IcmpCondResult> {
 6130|      4|    let pattern0_0 = arg0;
 6131|      4|    let pattern1_0 = arg1;
 6132|      4|    // Rule at src/isa/x64/inst.isle line 3418.
 6133|      4|    let expr0_0 = IcmpCondResult::Condition {
 6134|      4|        producer: pattern0_0.clone(),
 6135|      4|        cc: pattern1_0.clone(),
 6136|      4|    };
 6137|      4|    return Some(expr0_0);
 6138|      4|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code34constructor_reg_mem_to_reg_mem_immINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1154|      1|pub fn constructor_reg_mem_to_reg_mem_imm<C: Context>(ctx: &mut C, arg0: &RegMem) -> Option<RegMemImm> {
 1155|      1|    let pattern0_0 = arg0;
 1156|      1|    match pattern0_0 {
 1157|      0|        &RegMem::Reg { reg: pattern1_0 } => {
 1158|      0|            // Rule at src/isa/x64/inst.isle line 781.
 1159|      0|            let expr0_0 = RegMemImm::Reg {
 1160|      0|                reg: pattern1_0,
 1161|      0|            };
 1162|      0|            return Some(expr0_0);
 1163|       |        }
 1164|      1|        &RegMem::Mem { addr: ref pattern1_0 } => {
 1165|      1|            // Rule at src/isa/x64/inst.isle line 783.
 1166|      1|            let expr0_0 = RegMemImm::Mem {
 1167|      1|                addr: pattern1_0.clone(),
 1168|      1|            };
 1169|      1|            return Some(expr0_0);
 1170|       |        }
 1171|      0|        _ => {}
 1172|      0|    }
 1173|      0|    return None;
 1174|      1|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code19constructor_x64_subINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 2398|      1|pub fn constructor_x64_sub<C: Context>(ctx: &mut C, arg0: Type, arg1: Gpr, arg2: &GprMemImm) -> Option<Gpr> {
 2399|      1|    let pattern0_0 = arg0;
 2400|      1|    let pattern1_0 = arg1;
 2401|      1|    let pattern2_0 = arg2;
 2402|      1|    // Rule at src/isa/x64/inst.isle line 1771.
 2403|      1|    let expr0_0 = AluRmiROpcode::Sub;
 2404|      1|    let expr1_0 = constructor_alu_rmi_r(ctx, pattern0_0, &expr0_0, pattern1_0, pattern2_0)?;
 2405|      1|    return Some(expr1_0);
 2406|      1|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code18constructor_alu_rmINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 5830|      1|pub fn constructor_alu_rm<C: Context>(ctx: &mut C, arg0: Type, arg1: &AluRmiROpcode, arg2: &Amode, arg3: Gpr) -> Option<SideEffectNoResult> {
 5831|      1|    let pattern0_0 = arg0;
 5832|      1|    let pattern1_0 = arg1;
 5833|      1|    let pattern2_0 = arg2;
 5834|      1|    let pattern3_0 = arg3;
 5835|      1|    // Rule at src/isa/x64/inst.isle line 3273.
 5836|      1|    let expr0_0 = C::operand_size_of_type_32_64(ctx, pattern0_0);
 5837|      1|    let expr1_0 = C::amode_to_synthetic_amode(ctx, pattern2_0);
 5838|      1|    let expr2_0 = MInst::AluRM {
 5839|      1|        size: expr0_0,
 5840|      1|        op: pattern1_0.clone(),
 5841|      1|        src1_dst: expr1_0,
 5842|      1|        src2: pattern3_0,
 5843|      1|    };
 5844|      1|    let expr3_0 = SideEffectNoResult::Inst {
 5845|      1|        inst: expr2_0,
 5846|      1|    };
 5847|      1|    return Some(expr3_0);
 5848|      1|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code21constructor_x64_movrmINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 2265|      3|pub fn constructor_x64_movrm<C: Context>(ctx: &mut C, arg0: Type, arg1: &SyntheticAmode, arg2: Gpr) -> Option<SideEffectNoResult> {
 2266|      3|    let pattern0_0 = arg0;
 2267|      3|    let pattern1_0 = arg1;
 2268|      3|    let pattern2_0 = arg2;
 2269|      3|    // Rule at src/isa/x64/inst.isle line 1708.
 2270|      3|    let expr0_0 = C::raw_operand_size_of_type(ctx, pattern0_0);
 2271|      3|    let expr1_0 = MInst::MovRM {
 2272|      3|        size: expr0_0,
 2273|      3|        src: pattern2_0,
 2274|      3|        dst: pattern1_0.clone(),
 2275|      3|    };
 2276|      3|    let expr2_0 = SideEffectNoResult::Inst {
 2277|      3|        inst: expr1_0,
 2278|      3|    };
 2279|      3|    return Some(expr2_0);
 2280|      3|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code30constructor_put_in_gpr_mem_immINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1706|      3|pub fn constructor_put_in_gpr_mem_imm<C: Context>(ctx: &mut C, arg0: Value) -> Option<GprMemImm> {
 1707|      3|    let pattern0_0 = arg0;
 1708|      3|    // Rule at src/isa/x64/inst.isle line 1297.
 1709|      3|    let expr0_0 = C::put_in_reg_mem_imm(ctx, pattern0_0);
 1710|      3|    let expr1_0 = C::gpr_mem_imm_new(ctx, &expr0_0);
 1711|      3|    return Some(expr1_0);
 1712|      3|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code22constructor_output_gprINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 1724|      4|pub fn constructor_output_gpr<C: Context>(ctx: &mut C, arg0: Gpr) -> Option<InstOutput> {
 1725|      4|    let pattern0_0 = arg0;
 1726|      4|    // Rule at src/isa/x64/inst.isle line 1321.
 1727|      4|    let expr0_0 = C::gpr_to_reg(ctx, pattern0_0);
 1728|      4|    let expr1_0 = constructor_output_reg(ctx, expr0_0)?;
 1729|      4|    return Some(expr1_0);
 1730|      4|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code21constructor_x64_movzxINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 2115|      2|pub fn constructor_x64_movzx<C: Context>(ctx: &mut C, arg0: &ExtMode, arg1: &GprMem) -> Option<Gpr> {
 2116|      2|    let pattern0_0 = arg0;
 2117|      2|    let pattern1_0 = arg1;
 2118|      2|    // Rule at src/isa/x64/inst.isle line 1644.
 2119|      2|    let expr0_0 = C::temp_writable_gpr(ctx, );
 2120|      2|    let expr1_0 = MInst::MovzxRmR {
 2121|      2|        ext_mode: pattern0_0.clone(),
 2122|      2|        src: pattern1_0.clone(),
 2123|      2|        dst: expr0_0,
 2124|      2|    };
 2125|      2|    let expr2_0 = C::emit(ctx, &expr1_0);
 2126|      2|    let expr3_0 = C::writable_gpr_to_gpr(ctx, expr0_0);
 2127|      2|    return Some(expr3_0);
 2128|      2|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code19constructor_x64_addINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 2339|      1|pub fn constructor_x64_add<C: Context>(ctx: &mut C, arg0: Type, arg1: Gpr, arg2: &GprMemImm) -> Option<Gpr> {
 2340|      1|    let pattern0_0 = arg0;
 2341|      1|    let pattern1_0 = arg1;
 2342|      1|    let pattern2_0 = arg2;
 2343|      1|    // Rule at src/isa/x64/inst.isle line 1739.
 2344|      1|    let expr0_0 = AluRmiROpcode::Add;
 2345|      1|    let expr1_0 = constructor_alu_rmi_r(ctx, pattern0_0, &expr0_0, pattern1_0, pattern2_0)?;
 2346|      1|    return Some(expr1_0);
 2347|      1|}
_RINvNtNtNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x645lower4isle14generated_code21constructor_cmp_rmi_rINtNtNtBc_8machinst4isle11IsleContextNtB2_5MInstNtNtBc_8settings5FlagsNtNtB8_8settings5FlagsKj6_EEBc_:
 2738|      2|pub fn constructor_cmp_rmi_r<C: Context>(ctx: &mut C, arg0: &OperandSize, arg1: &CmpOpcode, arg2: &GprMemImm, arg3: Gpr) -> Option<ProducesFlags> {
 2739|      2|    let pattern0_0 = arg0;
 2740|      2|    let pattern1_0 = arg1;
 2741|      2|    let pattern2_0 = arg2;
 2742|      2|    let pattern3_0 = arg3;
 2743|      2|    // Rule at src/isa/x64/inst.isle line 1966.
 2744|      2|    let expr0_0 = MInst::CmpRmiR {
 2745|      2|        size: pattern0_0.clone(),
 2746|      2|        opcode: pattern1_0.clone(),
 2747|      2|        src: pattern2_0.clone(),
 2748|      2|        dst: pattern3_0,
 2749|      2|    };
 2750|      2|    let expr1_0 = ProducesFlags::ProducesFlagsSideEffect {
 2751|      2|        inst: expr0_0,
 2752|      2|    };
 2753|      2|    return Some(expr1_0);
 2754|      2|}

_RNvXsn_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_15InstructionDataNtNtCs6s7lnD9fK28_4core5clone5Clone5cloneCsdPkSCz1JYHp_18cranelift_frontend:
  247|     46|#[derive(Clone, Debug, PartialEq, Hash)]
_RNvXst_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6OpcodeNtNtCs6s7lnD9fK28_4core5clone5Clone5cloneCsdPkSCz1JYHp_18cranelift_frontend:
 1312|     46|#[derive(Copy, Clone, PartialEq, Eq, Debug, Hash)]
_RNvMse_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6Opcode8can_trap:
 1977|    127|    pub fn can_trap(self) -> bool {
 1978|    127|        match self {
 1979|       |            Self::FcvtToSint |
 1980|       |            Self::FcvtToUint |
 1981|       |            Self::ResumableTrap |
 1982|       |            Self::ResumableTrapnz |
 1983|       |            Self::Sdiv |
 1984|       |            Self::Srem |
 1985|       |            Self::Trap |
 1986|       |            Self::Trapff |
 1987|       |            Self::Trapif |
 1988|       |            Self::Trapnz |
 1989|       |            Self::Trapz |
 1990|       |            Self::Udiv |
 1991|       |            Self::Urem => {
 1992|      0|                true
 1993|       |            }
 1994|       |            _ => {
 1995|    127|                false
 1996|       |            }
 1997|       |        }
 1998|    127|    }
_RNvXst_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6OpcodeNtNtCs6s7lnD9fK28_4core5clone5Clone5cloneB9_:
 1312|    185|#[derive(Copy, Clone, PartialEq, Eq, Debug, Hash)]
_RNvMsd_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_15InstructionData2eq:
  776|     24|    pub fn eq(&self, other: &Self, pool: &ir::ValueListPool) -> bool {
  777|     24|        if ::core::mem::discriminant(self) != ::core::mem::discriminant(other) {
  778|      2|            return false;
  779|     22|        }
  780|     22|        match (self, other) {
  781|      0|            (&Self::AtomicCas { opcode: ref opcode1, args: ref args1, flags: ref flags1 }, &Self::AtomicCas { opcode: ref opcode2, args: ref args2, flags: ref flags2 }) => {
  782|      0|                opcode1 == opcode2
  783|      0|                && flags1 == flags2
  784|      0|                && args1 == args2
  785|       |            }
  786|      0|            (&Self::AtomicRmw { opcode: ref opcode1, args: ref args1, flags: ref flags1, op: ref op1 }, &Self::AtomicRmw { opcode: ref opcode2, args: ref args2, flags: ref flags2, op: ref op2 }) => {
  787|      0|                opcode1 == opcode2
  788|      0|                && flags1 == flags2
  789|      0|                && op1 == op2
  790|      0|                && args1 == args2
  791|       |            }
  792|      4|            (&Self::Binary { opcode: ref opcode1, args: ref args1 }, &Self::Binary { opcode: ref opcode2, args: ref args2 }) => {
  793|      4|                opcode1 == opcode2
  794|      4|                && args1 == args2
  795|       |            }
  796|      0|            (&Self::BinaryImm64 { opcode: ref opcode1, arg: ref arg1, imm: ref imm1 }, &Self::BinaryImm64 { opcode: ref opcode2, arg: ref arg2, imm: ref imm2 }) => {
  797|      0|                opcode1 == opcode2
  798|      0|                && imm1 == imm2
  799|      0|                && arg1 == arg2
  800|       |            }
  801|      0|            (&Self::BinaryImm8 { opcode: ref opcode1, arg: ref arg1, imm: ref imm1 }, &Self::BinaryImm8 { opcode: ref opcode2, arg: ref arg2, imm: ref imm2 }) => {
  802|      0|                opcode1 == opcode2
  803|      0|                && imm1 == imm2
  804|      0|                && arg1 == arg2
  805|       |            }
  806|      0|            (&Self::Branch { opcode: ref opcode1, args: ref args1, destination: ref destination1 }, &Self::Branch { opcode: ref opcode2, args: ref args2, destination: ref destination2 }) => {
  807|      0|                opcode1 == opcode2
  808|      0|                && destination1 == destination2
  809|      0|                && args1.as_slice(pool) == args2.as_slice(pool)
  810|       |            }
  811|      0|            (&Self::BranchFloat { opcode: ref opcode1, args: ref args1, cond: ref cond1, destination: ref destination1 }, &Self::BranchFloat { opcode: ref opcode2, args: ref args2, cond: ref cond2, destination: ref destination2 }) => {
  812|      0|                opcode1 == opcode2
  813|      0|                && cond1 == cond2
  814|      0|                && destination1 == destination2
  815|      0|                && args1.as_slice(pool) == args2.as_slice(pool)
  816|       |            }
  817|      0|            (&Self::BranchIcmp { opcode: ref opcode1, args: ref args1, cond: ref cond1, destination: ref destination1 }, &Self::BranchIcmp { opcode: ref opcode2, args: ref args2, cond: ref cond2, destination: ref destination2 }) => {
  818|      0|                opcode1 == opcode2
  819|      0|                && cond1 == cond2
  820|      0|                && destination1 == destination2
  821|      0|                && args1.as_slice(pool) == args2.as_slice(pool)
  822|       |            }
  823|      0|            (&Self::BranchInt { opcode: ref opcode1, args: ref args1, cond: ref cond1, destination: ref destination1 }, &Self::BranchInt { opcode: ref opcode2, args: ref args2, cond: ref cond2, destination: ref destination2 }) => {
  824|      0|                opcode1 == opcode2
  825|      0|                && cond1 == cond2
  826|      0|                && destination1 == destination2
  827|      0|                && args1.as_slice(pool) == args2.as_slice(pool)
  828|       |            }
  829|      0|            (&Self::BranchTable { opcode: ref opcode1, arg: ref arg1, destination: ref destination1, table: ref table1 }, &Self::BranchTable { opcode: ref opcode2, arg: ref arg2, destination: ref destination2, table: ref table2 }) => {
  830|      0|                opcode1 == opcode2
  831|      0|                && destination1 == destination2
  832|      0|                && table1 == table2
  833|      0|                && arg1 == arg2
  834|       |            }
  835|      0|            (&Self::Call { opcode: ref opcode1, args: ref args1, func_ref: ref func_ref1 }, &Self::Call { opcode: ref opcode2, args: ref args2, func_ref: ref func_ref2 }) => {
  836|      0|                opcode1 == opcode2
  837|      0|                && func_ref1 == func_ref2
  838|      0|                && args1.as_slice(pool) == args2.as_slice(pool)
  839|       |            }
  840|      0|            (&Self::CallIndirect { opcode: ref opcode1, args: ref args1, sig_ref: ref sig_ref1 }, &Self::CallIndirect { opcode: ref opcode2, args: ref args2, sig_ref: ref sig_ref2 }) => {
  841|      0|                opcode1 == opcode2
  842|      0|                && sig_ref1 == sig_ref2
  843|      0|                && args1.as_slice(pool) == args2.as_slice(pool)
  844|       |            }
  845|      0|            (&Self::CondTrap { opcode: ref opcode1, arg: ref arg1, code: ref code1 }, &Self::CondTrap { opcode: ref opcode2, arg: ref arg2, code: ref code2 }) => {
  846|      0|                opcode1 == opcode2
  847|      0|                && code1 == code2
  848|      0|                && arg1 == arg2
  849|       |            }
  850|      0|            (&Self::DynamicStackLoad { opcode: ref opcode1, dynamic_stack_slot: ref dynamic_stack_slot1 }, &Self::DynamicStackLoad { opcode: ref opcode2, dynamic_stack_slot: ref dynamic_stack_slot2 }) => {
  851|      0|                opcode1 == opcode2
  852|      0|                && dynamic_stack_slot1 == dynamic_stack_slot2
  853|       |            }
  854|      0|            (&Self::DynamicStackStore { opcode: ref opcode1, arg: ref arg1, dynamic_stack_slot: ref dynamic_stack_slot1 }, &Self::DynamicStackStore { opcode: ref opcode2, arg: ref arg2, dynamic_stack_slot: ref dynamic_stack_slot2 }) => {
  855|      0|                opcode1 == opcode2
  856|      0|                && dynamic_stack_slot1 == dynamic_stack_slot2
  857|      0|                && arg1 == arg2
  858|       |            }
  859|      0|            (&Self::FloatCompare { opcode: ref opcode1, args: ref args1, cond: ref cond1 }, &Self::FloatCompare { opcode: ref opcode2, args: ref args2, cond: ref cond2 }) => {
  860|      0|                opcode1 == opcode2
  861|      0|                && cond1 == cond2
  862|      0|                && args1 == args2
  863|       |            }
  864|      0|            (&Self::FloatCond { opcode: ref opcode1, arg: ref arg1, cond: ref cond1 }, &Self::FloatCond { opcode: ref opcode2, arg: ref arg2, cond: ref cond2 }) => {
  865|      0|                opcode1 == opcode2
  866|      0|                && cond1 == cond2
  867|      0|                && arg1 == arg2
  868|       |            }
  869|      0|            (&Self::FloatCondTrap { opcode: ref opcode1, arg: ref arg1, cond: ref cond1, code: ref code1 }, &Self::FloatCondTrap { opcode: ref opcode2, arg: ref arg2, cond: ref cond2, code: ref code2 }) => {
  870|      0|                opcode1 == opcode2
  871|      0|                && cond1 == cond2
  872|      0|                && code1 == code2
  873|      0|                && arg1 == arg2
  874|       |            }
  875|      0|            (&Self::FuncAddr { opcode: ref opcode1, func_ref: ref func_ref1 }, &Self::FuncAddr { opcode: ref opcode2, func_ref: ref func_ref2 }) => {
  876|      0|                opcode1 == opcode2
  877|      0|                && func_ref1 == func_ref2
  878|       |            }
  879|      0|            (&Self::HeapAddr { opcode: ref opcode1, arg: ref arg1, heap: ref heap1, imm: ref imm1 }, &Self::HeapAddr { opcode: ref opcode2, arg: ref arg2, heap: ref heap2, imm: ref imm2 }) => {
  880|      0|                opcode1 == opcode2
  881|      0|                && heap1 == heap2
  882|      0|                && imm1 == imm2
  883|      0|                && arg1 == arg2
  884|       |            }
  885|      5|            (&Self::IntCompare { opcode: ref opcode1, args: ref args1, cond: ref cond1 }, &Self::IntCompare { opcode: ref opcode2, args: ref args2, cond: ref cond2 }) => {
  886|      5|                opcode1 == opcode2
  887|      5|                && cond1 == cond2
  888|      5|                && args1 == args2
  889|       |            }
  890|      0|            (&Self::IntCompareImm { opcode: ref opcode1, arg: ref arg1, cond: ref cond1, imm: ref imm1 }, &Self::IntCompareImm { opcode: ref opcode2, arg: ref arg2, cond: ref cond2, imm: ref imm2 }) => {
  891|      0|                opcode1 == opcode2
  892|      0|                && cond1 == cond2
  893|      0|                && imm1 == imm2
  894|      0|                && arg1 == arg2
  895|       |            }
  896|      0|            (&Self::IntCond { opcode: ref opcode1, arg: ref arg1, cond: ref cond1 }, &Self::IntCond { opcode: ref opcode2, arg: ref arg2, cond: ref cond2 }) => {
  897|      0|                opcode1 == opcode2
  898|      0|                && cond1 == cond2
  899|      0|                && arg1 == arg2
  900|       |            }
  901|      0|            (&Self::IntCondTrap { opcode: ref opcode1, arg: ref arg1, cond: ref cond1, code: ref code1 }, &Self::IntCondTrap { opcode: ref opcode2, arg: ref arg2, cond: ref cond2, code: ref code2 }) => {
  902|      0|                opcode1 == opcode2
  903|      0|                && cond1 == cond2
  904|      0|                && code1 == code2
  905|      0|                && arg1 == arg2
  906|       |            }
  907|      0|            (&Self::IntSelect { opcode: ref opcode1, args: ref args1, cond: ref cond1 }, &Self::IntSelect { opcode: ref opcode2, args: ref args2, cond: ref cond2 }) => {
  908|      0|                opcode1 == opcode2
  909|      0|                && cond1 == cond2
  910|      0|                && args1 == args2
  911|       |            }
  912|      0|            (&Self::Jump { opcode: ref opcode1, args: ref args1, destination: ref destination1 }, &Self::Jump { opcode: ref opcode2, args: ref args2, destination: ref destination2 }) => {
  913|      0|                opcode1 == opcode2
  914|      0|                && destination1 == destination2
  915|      0|                && args1.as_slice(pool) == args2.as_slice(pool)
  916|       |            }
  917|      2|            (&Self::Load { opcode: ref opcode1, arg: ref arg1, flags: ref flags1, offset: ref offset1 }, &Self::Load { opcode: ref opcode2, arg: ref arg2, flags: ref flags2, offset: ref offset2 }) => {
  918|      2|                opcode1 == opcode2
  919|      2|                && flags1 == flags2
  920|      2|                && offset1 == offset2
  921|      2|                && arg1 == arg2
  922|       |            }
  923|      0|            (&Self::LoadNoOffset { opcode: ref opcode1, arg: ref arg1, flags: ref flags1 }, &Self::LoadNoOffset { opcode: ref opcode2, arg: ref arg2, flags: ref flags2 }) => {
  924|      0|                opcode1 == opcode2
  925|      0|                && flags1 == flags2
  926|      0|                && arg1 == arg2
  927|       |            }
  928|      0|            (&Self::MultiAry { opcode: ref opcode1, args: ref args1 }, &Self::MultiAry { opcode: ref opcode2, args: ref args2 }) => {
  929|      0|                opcode1 == opcode2
  930|      0|                && args1.as_slice(pool) == args2.as_slice(pool)
  931|       |            }
  932|      0|            (&Self::NullAry { opcode: ref opcode1 }, &Self::NullAry { opcode: ref opcode2 }) => {
  933|      0|                opcode1 == opcode2
  934|       |            }
  935|      0|            (&Self::Shuffle { opcode: ref opcode1, args: ref args1, imm: ref imm1 }, &Self::Shuffle { opcode: ref opcode2, args: ref args2, imm: ref imm2 }) => {
  936|      0|                opcode1 == opcode2
  937|      0|                && imm1 == imm2
  938|      0|                && args1 == args2
  939|       |            }
  940|      0|            (&Self::StackLoad { opcode: ref opcode1, stack_slot: ref stack_slot1, offset: ref offset1 }, &Self::StackLoad { opcode: ref opcode2, stack_slot: ref stack_slot2, offset: ref offset2 }) => {
  941|      0|                opcode1 == opcode2
  942|      0|                && stack_slot1 == stack_slot2
  943|      0|                && offset1 == offset2
  944|       |            }
  945|      0|            (&Self::StackStore { opcode: ref opcode1, arg: ref arg1, stack_slot: ref stack_slot1, offset: ref offset1 }, &Self::StackStore { opcode: ref opcode2, arg: ref arg2, stack_slot: ref stack_slot2, offset: ref offset2 }) => {
  946|      0|                opcode1 == opcode2
  947|      0|                && stack_slot1 == stack_slot2
  948|      0|                && offset1 == offset2
  949|      0|                && arg1 == arg2
  950|       |            }
  951|      0|            (&Self::Store { opcode: ref opcode1, args: ref args1, flags: ref flags1, offset: ref offset1 }, &Self::Store { opcode: ref opcode2, args: ref args2, flags: ref flags2, offset: ref offset2 }) => {
  952|      0|                opcode1 == opcode2
  953|      0|                && flags1 == flags2
  954|      0|                && offset1 == offset2
  955|      0|                && args1 == args2
  956|       |            }
  957|      0|            (&Self::StoreNoOffset { opcode: ref opcode1, args: ref args1, flags: ref flags1 }, &Self::StoreNoOffset { opcode: ref opcode2, args: ref args2, flags: ref flags2 }) => {
  958|      0|                opcode1 == opcode2
  959|      0|                && flags1 == flags2
  960|      0|                && args1 == args2
  961|       |            }
  962|      0|            (&Self::TableAddr { opcode: ref opcode1, arg: ref arg1, table: ref table1, offset: ref offset1 }, &Self::TableAddr { opcode: ref opcode2, arg: ref arg2, table: ref table2, offset: ref offset2 }) => {
  963|      0|                opcode1 == opcode2
  964|      0|                && table1 == table2
  965|      0|                && offset1 == offset2
  966|      0|                && arg1 == arg2
  967|       |            }
  968|      0|            (&Self::Ternary { opcode: ref opcode1, args: ref args1 }, &Self::Ternary { opcode: ref opcode2, args: ref args2 }) => {
  969|      0|                opcode1 == opcode2
  970|      0|                && args1 == args2
  971|       |            }
  972|      0|            (&Self::TernaryImm8 { opcode: ref opcode1, args: ref args1, imm: ref imm1 }, &Self::TernaryImm8 { opcode: ref opcode2, args: ref args2, imm: ref imm2 }) => {
  973|      0|                opcode1 == opcode2
  974|      0|                && imm1 == imm2
  975|      0|                && args1 == args2
  976|       |            }
  977|      0|            (&Self::Trap { opcode: ref opcode1, code: ref code1 }, &Self::Trap { opcode: ref opcode2, code: ref code2 }) => {
  978|      0|                opcode1 == opcode2
  979|      0|                && code1 == code2
  980|       |            }
  981|      5|            (&Self::Unary { opcode: ref opcode1, arg: ref arg1 }, &Self::Unary { opcode: ref opcode2, arg: ref arg2 }) => {
  982|      5|                opcode1 == opcode2
  983|      5|                && arg1 == arg2
  984|       |            }
  985|      0|            (&Self::UnaryBool { opcode: ref opcode1, imm: ref imm1 }, &Self::UnaryBool { opcode: ref opcode2, imm: ref imm2 }) => {
  986|      0|                opcode1 == opcode2
  987|      0|                && imm1 == imm2
  988|       |            }
  989|      0|            (&Self::UnaryConst { opcode: ref opcode1, constant_handle: ref constant_handle1 }, &Self::UnaryConst { opcode: ref opcode2, constant_handle: ref constant_handle2 }) => {
  990|      0|                opcode1 == opcode2
  991|      0|                && constant_handle1 == constant_handle2
  992|       |            }
  993|      0|            (&Self::UnaryGlobalValue { opcode: ref opcode1, global_value: ref global_value1 }, &Self::UnaryGlobalValue { opcode: ref opcode2, global_value: ref global_value2 }) => {
  994|      0|                opcode1 == opcode2
  995|      0|                && global_value1 == global_value2
  996|       |            }
  997|      0|            (&Self::UnaryIeee32 { opcode: ref opcode1, imm: ref imm1 }, &Self::UnaryIeee32 { opcode: ref opcode2, imm: ref imm2 }) => {
  998|      0|                opcode1 == opcode2
  999|      0|                && imm1 == imm2
 1000|       |            }
 1001|      0|            (&Self::UnaryIeee64 { opcode: ref opcode1, imm: ref imm1 }, &Self::UnaryIeee64 { opcode: ref opcode2, imm: ref imm2 }) => {
 1002|      0|                opcode1 == opcode2
 1003|      0|                && imm1 == imm2
 1004|       |            }
 1005|      6|            (&Self::UnaryImm { opcode: ref opcode1, imm: ref imm1 }, &Self::UnaryImm { opcode: ref opcode2, imm: ref imm2 }) => {
 1006|      6|                opcode1 == opcode2
 1007|      6|                && imm1 == imm2
 1008|       |            }
 1009|      0|            _ => unreachable!()
 1010|       |        }
 1011|     24|    }
_RINvXsz_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB6_6OpcodeNtNtCs6s7lnD9fK28_4core4hash4Hash4hashNtNtBa_2fx8FxHasherEBa_:
 1312|     69|#[derive(Copy, Clone, PartialEq, Eq, Debug, Hash)]
_RNvMse_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6Opcode16writes_cpu_flags:
 2021|     44|    pub fn writes_cpu_flags(self) -> bool {
 2022|     44|        match self {
 2023|       |            Self::Ffcmp |
 2024|       |            Self::IaddIfcarry |
 2025|       |            Self::IaddIfcout |
 2026|       |            Self::Ifcmp |
 2027|       |            Self::IfcmpImm |
 2028|       |            Self::IsubIfborrow |
 2029|       |            Self::IsubIfbout => {
 2030|      0|                true
 2031|       |            }
 2032|       |            _ => {
 2033|     44|                false
 2034|       |            }
 2035|       |        }
 2036|     44|    }
_RNvMsd_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_15InstructionData14put_value_list:
  756|      2|    pub fn put_value_list(&mut self, vlist: ir::ValueList) {
  757|      2|        let args = match *self {
  758|      0|            Self::Branch { ref mut args, .. } => args,
  759|      0|            Self::BranchFloat { ref mut args, .. } => args,
  760|      0|            Self::BranchIcmp { ref mut args, .. } => args,
  761|      0|            Self::BranchInt { ref mut args, .. } => args,
  762|      0|            Self::Call { ref mut args, .. } => args,
  763|      0|            Self::CallIndirect { ref mut args, .. } => args,
  764|      2|            Self::Jump { ref mut args, .. } => args,
  765|      0|            Self::MultiAry { ref mut args, .. } => args,
  766|      0|            _ => panic!("No value list: {:?}", self),
  767|       |        };
  768|      0|        debug_assert!(args.is_empty(), "Value list already in use");
  769|      2|        *args = vlist;
  770|      2|    }
_RNvMse_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6Opcode18other_side_effects:
 2001|    127|    pub fn other_side_effects(self) -> bool {
 2002|    127|        match self {
 2003|       |            Self::AtomicCas |
 2004|       |            Self::AtomicLoad |
 2005|       |            Self::AtomicRmw |
 2006|       |            Self::AtomicStore |
 2007|       |            Self::Debugtrap |
 2008|       |            Self::Fence |
 2009|       |            Self::GetPinnedReg |
 2010|       |            Self::SelectifSpectreGuard |
 2011|       |            Self::SetPinnedReg => {
 2012|      0|                true
 2013|       |            }
 2014|       |            _ => {
 2015|    127|                false
 2016|       |            }
 2017|       |        }
 2018|    127|    }
_RNvMse_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6Opcode9can_store:
 1956|    210|    pub fn can_store(self) -> bool {
 1957|    210|        match self {
 1958|       |            Self::AtomicCas |
 1959|       |            Self::AtomicRmw |
 1960|       |            Self::AtomicStore |
 1961|       |            Self::Debugtrap |
 1962|       |            Self::DynamicStackStore |
 1963|       |            Self::Istore16 |
 1964|       |            Self::Istore32 |
 1965|       |            Self::Istore8 |
 1966|       |            Self::StackStore |
 1967|       |            Self::Store => {
 1968|     32|                true
 1969|       |            }
 1970|       |            _ => {
 1971|    178|                false
 1972|       |            }
 1973|       |        }
 1974|    210|    }
_RNvMse_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6Opcode8can_load:
 1926|    142|    pub fn can_load(self) -> bool {
 1927|    142|        match self {
 1928|       |            Self::AtomicCas |
 1929|       |            Self::AtomicLoad |
 1930|       |            Self::AtomicRmw |
 1931|       |            Self::Debugtrap |
 1932|       |            Self::DynamicStackLoad |
 1933|       |            Self::Load |
 1934|       |            Self::Sload16 |
 1935|       |            Self::Sload16x4 |
 1936|       |            Self::Sload32 |
 1937|       |            Self::Sload32x2 |
 1938|       |            Self::Sload8 |
 1939|       |            Self::Sload8x8 |
 1940|       |            Self::StackLoad |
 1941|       |            Self::Uload16 |
 1942|       |            Self::Uload16x4 |
 1943|       |            Self::Uload32 |
 1944|       |            Self::Uload32x2 |
 1945|       |            Self::Uload8 |
 1946|       |            Self::Uload8x8 => {
 1947|     44|                true
 1948|       |            }
 1949|       |            _ => {
 1950|     98|                false
 1951|       |            }
 1952|       |        }
 1953|    142|    }
_RNvMsd_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_15InstructionData13arguments_mut:
  666|     88|    pub fn arguments_mut<'a>(&'a mut self, pool: &'a mut ir::ValueListPool) -> &mut [Value] {
  667|     88|        match *self {
  668|       |            Self::DynamicStackLoad { .. } |
  669|       |            Self::FuncAddr { .. } |
  670|       |            Self::NullAry { .. } |
  671|       |            Self::StackLoad { .. } |
  672|       |            Self::Trap { .. } |
  673|       |            Self::UnaryBool { .. } |
  674|       |            Self::UnaryConst { .. } |
  675|       |            Self::UnaryGlobalValue { .. } |
  676|       |            Self::UnaryIeee32 { .. } |
  677|       |            Self::UnaryIeee64 { .. } |
  678|       |            Self::UnaryImm { .. } => {
  679|     22|                &mut []
  680|       |            }
  681|      0|            Self::AtomicRmw { args: ref mut args_arity2, .. } |
  682|      6|            Self::Binary { args: ref mut args_arity2, .. } |
  683|      0|            Self::FloatCompare { args: ref mut args_arity2, .. } |
  684|      4|            Self::IntCompare { args: ref mut args_arity2, .. } |
  685|      0|            Self::Shuffle { args: ref mut args_arity2, .. } |
  686|      8|            Self::Store { args: ref mut args_arity2, .. } |
  687|      0|            Self::StoreNoOffset { args: ref mut args_arity2, .. } |
  688|      0|            Self::TernaryImm8 { args: ref mut args_arity2, .. } => {
  689|     18|                args_arity2
  690|       |            }
  691|      0|            Self::AtomicCas { args: ref mut args_arity3, .. } |
  692|      0|            Self::IntSelect { args: ref mut args_arity3, .. } |
  693|      0|            Self::Ternary { args: ref mut args_arity3, .. } => {
  694|      0|                args_arity3
  695|       |            }
  696|      0|            Self::BinaryImm64 { ref mut arg, .. } |
  697|      0|            Self::BinaryImm8 { ref mut arg, .. } |
  698|      0|            Self::BranchTable { ref mut arg, .. } |
  699|      0|            Self::CondTrap { ref mut arg, .. } |
  700|      0|            Self::DynamicStackStore { ref mut arg, .. } |
  701|      0|            Self::FloatCond { ref mut arg, .. } |
  702|      0|            Self::FloatCondTrap { ref mut arg, .. } |
  703|      0|            Self::HeapAddr { ref mut arg, .. } |
  704|      0|            Self::IntCompareImm { ref mut arg, .. } |
  705|      0|            Self::IntCond { ref mut arg, .. } |
  706|      0|            Self::IntCondTrap { ref mut arg, .. } |
  707|     14|            Self::Load { ref mut arg, .. } |
  708|      0|            Self::LoadNoOffset { ref mut arg, .. } |
  709|      0|            Self::StackStore { ref mut arg, .. } |
  710|      0|            Self::TableAddr { ref mut arg, .. } |
  711|      2|            Self::Unary { ref mut arg, .. } => {
  712|     16|                core::slice::from_mut(arg)
  713|       |            }
  714|      6|            Self::Branch { ref mut args, .. } |
  715|      0|            Self::BranchFloat { ref mut args, .. } |
  716|      0|            Self::BranchIcmp { ref mut args, .. } |
  717|      0|            Self::BranchInt { ref mut args, .. } |
  718|      6|            Self::Call { ref mut args, .. } |
  719|      2|            Self::CallIndirect { ref mut args, .. } |
  720|     10|            Self::Jump { ref mut args, .. } |
  721|      8|            Self::MultiAry { ref mut args, .. } => {
  722|     32|                args.as_mut_slice(pool)
  723|       |            }
  724|       |        }
  725|     88|    }
_RNvXsn_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_15InstructionDataNtNtCs6s7lnD9fK28_4core5clone5Clone5cloneB9_:
  247|    185|#[derive(Clone, Debug, PartialEq, Hash)]
_RNvMsd_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_15InstructionData9arguments:
  603|    114|    pub fn arguments<'a>(&'a self, pool: &'a ir::ValueListPool) -> &[Value] {
  604|    114|        match *self {
  605|       |            Self::DynamicStackLoad { .. } |
  606|       |            Self::FuncAddr { .. } |
  607|       |            Self::NullAry { .. } |
  608|       |            Self::StackLoad { .. } |
  609|       |            Self::Trap { .. } |
  610|       |            Self::UnaryBool { .. } |
  611|       |            Self::UnaryConst { .. } |
  612|       |            Self::UnaryGlobalValue { .. } |
  613|       |            Self::UnaryIeee32 { .. } |
  614|       |            Self::UnaryIeee64 { .. } |
  615|       |            Self::UnaryImm { .. } => {
  616|     19|                &[]
  617|       |            }
  618|      0|            Self::AtomicRmw { args: ref args_arity2, .. } |
  619|      8|            Self::Binary { args: ref args_arity2, .. } |
  620|      0|            Self::FloatCompare { args: ref args_arity2, .. } |
  621|      4|            Self::IntCompare { args: ref args_arity2, .. } |
  622|      0|            Self::Shuffle { args: ref args_arity2, .. } |
  623|      8|            Self::Store { args: ref args_arity2, .. } |
  624|      0|            Self::StoreNoOffset { args: ref args_arity2, .. } |
  625|      0|            Self::TernaryImm8 { args: ref args_arity2, .. } => {
  626|     20|                args_arity2
  627|       |            }
  628|      0|            Self::AtomicCas { args: ref args_arity3, .. } |
  629|      0|            Self::IntSelect { args: ref args_arity3, .. } |
  630|      0|            Self::Ternary { args: ref args_arity3, .. } => {
  631|      0|                args_arity3
  632|       |            }
  633|      0|            Self::BinaryImm64 { ref arg, .. } |
  634|      0|            Self::BinaryImm8 { ref arg, .. } |
  635|      0|            Self::BranchTable { ref arg, .. } |
  636|      0|            Self::CondTrap { ref arg, .. } |
  637|      0|            Self::DynamicStackStore { ref arg, .. } |
  638|      0|            Self::FloatCond { ref arg, .. } |
  639|      0|            Self::FloatCondTrap { ref arg, .. } |
  640|      0|            Self::HeapAddr { ref arg, .. } |
  641|      0|            Self::IntCompareImm { ref arg, .. } |
  642|      0|            Self::IntCond { ref arg, .. } |
  643|      0|            Self::IntCondTrap { ref arg, .. } |
  644|     20|            Self::Load { ref arg, .. } |
  645|      0|            Self::LoadNoOffset { ref arg, .. } |
  646|      0|            Self::StackStore { ref arg, .. } |
  647|      0|            Self::TableAddr { ref arg, .. } |
  648|      0|            Self::Unary { ref arg, .. } => {
  649|     20|                core::slice::from_ref(arg)
  650|       |            }
  651|     14|            Self::Branch { ref args, .. } |
  652|      0|            Self::BranchFloat { ref args, .. } |
  653|      0|            Self::BranchIcmp { ref args, .. } |
  654|      0|            Self::BranchInt { ref args, .. } |
  655|      6|            Self::Call { ref args, .. } |
  656|      2|            Self::CallIndirect { ref args, .. } |
  657|     25|            Self::Jump { ref args, .. } |
  658|      8|            Self::MultiAry { ref args, .. } => {
  659|     55|                args.as_slice(pool)
  660|       |            }
  661|       |        }
  662|    114|    }
_RNvMsd_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_15InstructionData15take_value_list:
  732|      2|    pub fn take_value_list(&mut self) -> Option<ir::ValueList> {
  733|      2|        match *self {
  734|      0|            Self::Branch { ref mut args, .. } |
  735|      0|            Self::BranchFloat { ref mut args, .. } |
  736|      0|            Self::BranchIcmp { ref mut args, .. } |
  737|      0|            Self::BranchInt { ref mut args, .. } |
  738|      0|            Self::Call { ref mut args, .. } |
  739|      0|            Self::CallIndirect { ref mut args, .. } |
  740|      2|            Self::Jump { ref mut args, .. } |
  741|      0|            Self::MultiAry { ref mut args, .. } => {
  742|      2|                Some(args.take())
  743|       |            }
  744|       |            _ => {
  745|      0|                None
  746|       |            }
  747|       |        }
  748|      2|    }
_RNvMse_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6Opcode7is_call:
 1901|    216|    pub fn is_call(self) -> bool {
 1902|    216|        match self {
 1903|       |            Self::Call |
 1904|       |            Self::CallIndirect => {
 1905|     24|                true
 1906|       |            }
 1907|       |            _ => {
 1908|    192|                false
 1909|       |            }
 1910|       |        }
 1911|    216|    }
_RNvMsd_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_15InstructionData15typevar_operand:
  537|      6|    pub fn typevar_operand(&self, pool: &ir::ValueListPool) -> Option<Value> {
  538|      6|        match *self {
  539|       |            Self::Call { .. } |
  540|       |            Self::DynamicStackLoad { .. } |
  541|       |            Self::FuncAddr { .. } |
  542|       |            Self::Jump { .. } |
  543|       |            Self::MultiAry { .. } |
  544|       |            Self::NullAry { .. } |
  545|       |            Self::StackLoad { .. } |
  546|       |            Self::Trap { .. } |
  547|       |            Self::UnaryBool { .. } |
  548|       |            Self::UnaryConst { .. } |
  549|       |            Self::UnaryGlobalValue { .. } |
  550|       |            Self::UnaryIeee32 { .. } |
  551|       |            Self::UnaryIeee64 { .. } |
  552|       |            Self::UnaryImm { .. } => {
  553|      0|                None
  554|       |            }
  555|      0|            Self::BinaryImm64 { arg, .. } |
  556|      0|            Self::BinaryImm8 { arg, .. } |
  557|      0|            Self::BranchTable { arg, .. } |
  558|      0|            Self::CondTrap { arg, .. } |
  559|      0|            Self::DynamicStackStore { arg, .. } |
  560|      0|            Self::FloatCond { arg, .. } |
  561|      0|            Self::FloatCondTrap { arg, .. } |
  562|      0|            Self::HeapAddr { arg, .. } |
  563|      0|            Self::IntCompareImm { arg, .. } |
  564|      0|            Self::IntCond { arg, .. } |
  565|      0|            Self::IntCondTrap { arg, .. } |
  566|      0|            Self::Load { arg, .. } |
  567|      0|            Self::LoadNoOffset { arg, .. } |
  568|      0|            Self::StackStore { arg, .. } |
  569|      0|            Self::TableAddr { arg, .. } |
  570|      0|            Self::Unary { arg, .. } => {
  571|      0|                Some(arg)
  572|       |            }
  573|      0|            Self::AtomicRmw { args: ref args_arity2, .. } |
  574|      0|            Self::Binary { args: ref args_arity2, .. } |
  575|      0|            Self::FloatCompare { args: ref args_arity2, .. } |
  576|      6|            Self::IntCompare { args: ref args_arity2, .. } |
  577|      0|            Self::Shuffle { args: ref args_arity2, .. } |
  578|      0|            Self::Store { args: ref args_arity2, .. } |
  579|      0|            Self::StoreNoOffset { args: ref args_arity2, .. } |
  580|      0|            Self::TernaryImm8 { args: ref args_arity2, .. } => {
  581|      6|                Some(args_arity2[0])
  582|       |            }
  583|      0|            Self::IntSelect { args: ref args_arity3, .. } => {
  584|      0|                Some(args_arity3[0])
  585|       |            }
  586|      0|            Self::Ternary { args: ref args_arity3, .. } => {
  587|      0|                Some(args_arity3[1])
  588|       |            }
  589|      0|            Self::AtomicCas { args: ref args_arity3, .. } => {
  590|      0|                Some(args_arity3[2])
  591|       |            }
  592|      0|            Self::Branch { ref args, .. } |
  593|      0|            Self::BranchFloat { ref args, .. } |
  594|      0|            Self::BranchIcmp { ref args, .. } |
  595|      0|            Self::BranchInt { ref args, .. } |
  596|      0|            Self::CallIndirect { ref args, .. } => {
  597|      0|                args.get(0, pool)
  598|       |            }
  599|       |        }
  600|      6|    }
_RINvMsd_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB6_15InstructionData4hashNtNtBa_2fx8FxHasherEBa_:
 1017|     69|    pub fn hash<H: ::core::hash::Hasher>(&self, state: &mut H, pool: &ir::ValueListPool) {
 1018|     69|        match *self {
 1019|      0|            Self::AtomicCas{opcode, ref args, flags} => {
 1020|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1021|      0|                ::core::hash::Hash::hash(&opcode, state);
 1022|      0|                ::core::hash::Hash::hash(&flags, state);
 1023|      0|                ::core::hash::Hash::hash(args, state);
 1024|      0|            }
 1025|      0|            Self::AtomicRmw{opcode, ref args, flags, op} => {
 1026|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1027|      0|                ::core::hash::Hash::hash(&opcode, state);
 1028|      0|                ::core::hash::Hash::hash(&flags, state);
 1029|      0|                ::core::hash::Hash::hash(&op, state);
 1030|      0|                ::core::hash::Hash::hash(args, state);
 1031|      0|            }
 1032|     15|            Self::Binary{opcode, ref args} => {
 1033|     15|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1034|     15|                ::core::hash::Hash::hash(&opcode, state);
 1035|     15|                ::core::hash::Hash::hash(args, state);
 1036|     15|            }
 1037|      0|            Self::BinaryImm64{opcode, ref arg, imm} => {
 1038|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1039|      0|                ::core::hash::Hash::hash(&opcode, state);
 1040|      0|                ::core::hash::Hash::hash(&imm, state);
 1041|      0|                ::core::hash::Hash::hash(arg, state);
 1042|      0|            }
 1043|      0|            Self::BinaryImm8{opcode, ref arg, imm} => {
 1044|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1045|      0|                ::core::hash::Hash::hash(&opcode, state);
 1046|      0|                ::core::hash::Hash::hash(&imm, state);
 1047|      0|                ::core::hash::Hash::hash(arg, state);
 1048|      0|            }
 1049|      0|            Self::Branch{opcode, ref args, destination} => {
 1050|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1051|      0|                ::core::hash::Hash::hash(&opcode, state);
 1052|      0|                ::core::hash::Hash::hash(&destination, state);
 1053|      0|                ::core::hash::Hash::hash(args.as_slice(pool), state);
 1054|      0|            }
 1055|      0|            Self::BranchFloat{opcode, ref args, cond, destination} => {
 1056|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1057|      0|                ::core::hash::Hash::hash(&opcode, state);
 1058|      0|                ::core::hash::Hash::hash(&cond, state);
 1059|      0|                ::core::hash::Hash::hash(&destination, state);
 1060|      0|                ::core::hash::Hash::hash(args.as_slice(pool), state);
 1061|      0|            }
 1062|      0|            Self::BranchIcmp{opcode, ref args, cond, destination} => {
 1063|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1064|      0|                ::core::hash::Hash::hash(&opcode, state);
 1065|      0|                ::core::hash::Hash::hash(&cond, state);
 1066|      0|                ::core::hash::Hash::hash(&destination, state);
 1067|      0|                ::core::hash::Hash::hash(args.as_slice(pool), state);
 1068|      0|            }
 1069|      0|            Self::BranchInt{opcode, ref args, cond, destination} => {
 1070|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1071|      0|                ::core::hash::Hash::hash(&opcode, state);
 1072|      0|                ::core::hash::Hash::hash(&cond, state);
 1073|      0|                ::core::hash::Hash::hash(&destination, state);
 1074|      0|                ::core::hash::Hash::hash(args.as_slice(pool), state);
 1075|      0|            }
 1076|      0|            Self::BranchTable{opcode, ref arg, destination, table} => {
 1077|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1078|      0|                ::core::hash::Hash::hash(&opcode, state);
 1079|      0|                ::core::hash::Hash::hash(&destination, state);
 1080|      0|                ::core::hash::Hash::hash(&table, state);
 1081|      0|                ::core::hash::Hash::hash(arg, state);
 1082|      0|            }
 1083|      0|            Self::Call{opcode, ref args, func_ref} => {
 1084|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1085|      0|                ::core::hash::Hash::hash(&opcode, state);
 1086|      0|                ::core::hash::Hash::hash(&func_ref, state);
 1087|      0|                ::core::hash::Hash::hash(args.as_slice(pool), state);
 1088|      0|            }
 1089|      0|            Self::CallIndirect{opcode, ref args, sig_ref} => {
 1090|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1091|      0|                ::core::hash::Hash::hash(&opcode, state);
 1092|      0|                ::core::hash::Hash::hash(&sig_ref, state);
 1093|      0|                ::core::hash::Hash::hash(args.as_slice(pool), state);
 1094|      0|            }
 1095|      0|            Self::CondTrap{opcode, ref arg, code} => {
 1096|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1097|      0|                ::core::hash::Hash::hash(&opcode, state);
 1098|      0|                ::core::hash::Hash::hash(&code, state);
 1099|      0|                ::core::hash::Hash::hash(arg, state);
 1100|      0|            }
 1101|      0|            Self::DynamicStackLoad{opcode, dynamic_stack_slot} => {
 1102|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1103|      0|                ::core::hash::Hash::hash(&opcode, state);
 1104|      0|                ::core::hash::Hash::hash(&dynamic_stack_slot, state);
 1105|      0|                ::core::hash::Hash::hash(&(), state);
 1106|      0|            }
 1107|      0|            Self::DynamicStackStore{opcode, ref arg, dynamic_stack_slot} => {
 1108|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1109|      0|                ::core::hash::Hash::hash(&opcode, state);
 1110|      0|                ::core::hash::Hash::hash(&dynamic_stack_slot, state);
 1111|      0|                ::core::hash::Hash::hash(arg, state);
 1112|      0|            }
 1113|      0|            Self::FloatCompare{opcode, ref args, cond} => {
 1114|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1115|      0|                ::core::hash::Hash::hash(&opcode, state);
 1116|      0|                ::core::hash::Hash::hash(&cond, state);
 1117|      0|                ::core::hash::Hash::hash(args, state);
 1118|      0|            }
 1119|      0|            Self::FloatCond{opcode, ref arg, cond} => {
 1120|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1121|      0|                ::core::hash::Hash::hash(&opcode, state);
 1122|      0|                ::core::hash::Hash::hash(&cond, state);
 1123|      0|                ::core::hash::Hash::hash(arg, state);
 1124|      0|            }
 1125|      0|            Self::FloatCondTrap{opcode, ref arg, cond, code} => {
 1126|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1127|      0|                ::core::hash::Hash::hash(&opcode, state);
 1128|      0|                ::core::hash::Hash::hash(&cond, state);
 1129|      0|                ::core::hash::Hash::hash(&code, state);
 1130|      0|                ::core::hash::Hash::hash(arg, state);
 1131|      0|            }
 1132|      0|            Self::FuncAddr{opcode, func_ref} => {
 1133|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1134|      0|                ::core::hash::Hash::hash(&opcode, state);
 1135|      0|                ::core::hash::Hash::hash(&func_ref, state);
 1136|      0|                ::core::hash::Hash::hash(&(), state);
 1137|      0|            }
 1138|      0|            Self::HeapAddr{opcode, ref arg, heap, imm} => {
 1139|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1140|      0|                ::core::hash::Hash::hash(&opcode, state);
 1141|      0|                ::core::hash::Hash::hash(&heap, state);
 1142|      0|                ::core::hash::Hash::hash(&imm, state);
 1143|      0|                ::core::hash::Hash::hash(arg, state);
 1144|      0|            }
 1145|     10|            Self::IntCompare{opcode, ref args, cond} => {
 1146|     10|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1147|     10|                ::core::hash::Hash::hash(&opcode, state);
 1148|     10|                ::core::hash::Hash::hash(&cond, state);
 1149|     10|                ::core::hash::Hash::hash(args, state);
 1150|     10|            }
 1151|      0|            Self::IntCompareImm{opcode, ref arg, cond, imm} => {
 1152|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1153|      0|                ::core::hash::Hash::hash(&opcode, state);
 1154|      0|                ::core::hash::Hash::hash(&cond, state);
 1155|      0|                ::core::hash::Hash::hash(&imm, state);
 1156|      0|                ::core::hash::Hash::hash(arg, state);
 1157|      0|            }
 1158|      0|            Self::IntCond{opcode, ref arg, cond} => {
 1159|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1160|      0|                ::core::hash::Hash::hash(&opcode, state);
 1161|      0|                ::core::hash::Hash::hash(&cond, state);
 1162|      0|                ::core::hash::Hash::hash(arg, state);
 1163|      0|            }
 1164|      0|            Self::IntCondTrap{opcode, ref arg, cond, code} => {
 1165|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1166|      0|                ::core::hash::Hash::hash(&opcode, state);
 1167|      0|                ::core::hash::Hash::hash(&cond, state);
 1168|      0|                ::core::hash::Hash::hash(&code, state);
 1169|      0|                ::core::hash::Hash::hash(arg, state);
 1170|      0|            }
 1171|      0|            Self::IntSelect{opcode, ref args, cond} => {
 1172|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1173|      0|                ::core::hash::Hash::hash(&opcode, state);
 1174|      0|                ::core::hash::Hash::hash(&cond, state);
 1175|      0|                ::core::hash::Hash::hash(args, state);
 1176|      0|            }
 1177|      0|            Self::Jump{opcode, ref args, destination} => {
 1178|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1179|      0|                ::core::hash::Hash::hash(&opcode, state);
 1180|      0|                ::core::hash::Hash::hash(&destination, state);
 1181|      0|                ::core::hash::Hash::hash(args.as_slice(pool), state);
 1182|      0|            }
 1183|      6|            Self::Load{opcode, ref arg, flags, offset} => {
 1184|      6|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1185|      6|                ::core::hash::Hash::hash(&opcode, state);
 1186|      6|                ::core::hash::Hash::hash(&flags, state);
 1187|      6|                ::core::hash::Hash::hash(&offset, state);
 1188|      6|                ::core::hash::Hash::hash(arg, state);
 1189|      6|            }
 1190|      0|            Self::LoadNoOffset{opcode, ref arg, flags} => {
 1191|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1192|      0|                ::core::hash::Hash::hash(&opcode, state);
 1193|      0|                ::core::hash::Hash::hash(&flags, state);
 1194|      0|                ::core::hash::Hash::hash(arg, state);
 1195|      0|            }
 1196|      0|            Self::MultiAry{opcode, ref args} => {
 1197|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1198|      0|                ::core::hash::Hash::hash(&opcode, state);
 1199|      0|                ::core::hash::Hash::hash(args.as_slice(pool), state);
 1200|      0|            }
 1201|      0|            Self::NullAry{opcode} => {
 1202|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1203|      0|                ::core::hash::Hash::hash(&opcode, state);
 1204|      0|                ::core::hash::Hash::hash(&(), state);
 1205|      0|            }
 1206|      0|            Self::Shuffle{opcode, ref args, imm} => {
 1207|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1208|      0|                ::core::hash::Hash::hash(&opcode, state);
 1209|      0|                ::core::hash::Hash::hash(&imm, state);
 1210|      0|                ::core::hash::Hash::hash(args, state);
 1211|      0|            }
 1212|      0|            Self::StackLoad{opcode, stack_slot, offset} => {
 1213|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1214|      0|                ::core::hash::Hash::hash(&opcode, state);
 1215|      0|                ::core::hash::Hash::hash(&stack_slot, state);
 1216|      0|                ::core::hash::Hash::hash(&offset, state);
 1217|      0|                ::core::hash::Hash::hash(&(), state);
 1218|      0|            }
 1219|      0|            Self::StackStore{opcode, ref arg, stack_slot, offset} => {
 1220|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1221|      0|                ::core::hash::Hash::hash(&opcode, state);
 1222|      0|                ::core::hash::Hash::hash(&stack_slot, state);
 1223|      0|                ::core::hash::Hash::hash(&offset, state);
 1224|      0|                ::core::hash::Hash::hash(arg, state);
 1225|      0|            }
 1226|      0|            Self::Store{opcode, ref args, flags, offset} => {
 1227|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1228|      0|                ::core::hash::Hash::hash(&opcode, state);
 1229|      0|                ::core::hash::Hash::hash(&flags, state);
 1230|      0|                ::core::hash::Hash::hash(&offset, state);
 1231|      0|                ::core::hash::Hash::hash(args, state);
 1232|      0|            }
 1233|      0|            Self::StoreNoOffset{opcode, ref args, flags} => {
 1234|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1235|      0|                ::core::hash::Hash::hash(&opcode, state);
 1236|      0|                ::core::hash::Hash::hash(&flags, state);
 1237|      0|                ::core::hash::Hash::hash(args, state);
 1238|      0|            }
 1239|      0|            Self::TableAddr{opcode, ref arg, table, offset} => {
 1240|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1241|      0|                ::core::hash::Hash::hash(&opcode, state);
 1242|      0|                ::core::hash::Hash::hash(&table, state);
 1243|      0|                ::core::hash::Hash::hash(&offset, state);
 1244|      0|                ::core::hash::Hash::hash(arg, state);
 1245|      0|            }
 1246|      0|            Self::Ternary{opcode, ref args} => {
 1247|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1248|      0|                ::core::hash::Hash::hash(&opcode, state);
 1249|      0|                ::core::hash::Hash::hash(args, state);
 1250|      0|            }
 1251|      0|            Self::TernaryImm8{opcode, ref args, imm} => {
 1252|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1253|      0|                ::core::hash::Hash::hash(&opcode, state);
 1254|      0|                ::core::hash::Hash::hash(&imm, state);
 1255|      0|                ::core::hash::Hash::hash(args, state);
 1256|      0|            }
 1257|      0|            Self::Trap{opcode, code} => {
 1258|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1259|      0|                ::core::hash::Hash::hash(&opcode, state);
 1260|      0|                ::core::hash::Hash::hash(&code, state);
 1261|      0|                ::core::hash::Hash::hash(&(), state);
 1262|      0|            }
 1263|      8|            Self::Unary{opcode, ref arg} => {
 1264|      8|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1265|      8|                ::core::hash::Hash::hash(&opcode, state);
 1266|      8|                ::core::hash::Hash::hash(arg, state);
 1267|      8|            }
 1268|      0|            Self::UnaryBool{opcode, imm} => {
 1269|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1270|      0|                ::core::hash::Hash::hash(&opcode, state);
 1271|      0|                ::core::hash::Hash::hash(&imm, state);
 1272|      0|                ::core::hash::Hash::hash(&(), state);
 1273|      0|            }
 1274|      0|            Self::UnaryConst{opcode, constant_handle} => {
 1275|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1276|      0|                ::core::hash::Hash::hash(&opcode, state);
 1277|      0|                ::core::hash::Hash::hash(&constant_handle, state);
 1278|      0|                ::core::hash::Hash::hash(&(), state);
 1279|      0|            }
 1280|      0|            Self::UnaryGlobalValue{opcode, global_value} => {
 1281|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1282|      0|                ::core::hash::Hash::hash(&opcode, state);
 1283|      0|                ::core::hash::Hash::hash(&global_value, state);
 1284|      0|                ::core::hash::Hash::hash(&(), state);
 1285|      0|            }
 1286|      0|            Self::UnaryIeee32{opcode, imm} => {
 1287|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1288|      0|                ::core::hash::Hash::hash(&opcode, state);
 1289|      0|                ::core::hash::Hash::hash(&imm, state);
 1290|      0|                ::core::hash::Hash::hash(&(), state);
 1291|      0|            }
 1292|      0|            Self::UnaryIeee64{opcode, imm} => {
 1293|      0|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1294|      0|                ::core::hash::Hash::hash(&opcode, state);
 1295|      0|                ::core::hash::Hash::hash(&imm, state);
 1296|      0|                ::core::hash::Hash::hash(&(), state);
 1297|      0|            }
 1298|     30|            Self::UnaryImm{opcode, imm} => {
 1299|     30|                ::core::hash::Hash::hash( &::core::mem::discriminant(self), state);
 1300|     30|                ::core::hash::Hash::hash(&opcode, state);
 1301|     30|                ::core::hash::Hash::hash(&imm, state);
 1302|     30|                ::core::hash::Hash::hash(&(), state);
 1303|     30|            }
 1304|       |        }
 1305|     69|    }
_RNvMse_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6Opcode9is_return:
 1914|    157|    pub fn is_return(self) -> bool {
 1915|    157|        match self {
 1916|       |            Self::Return => {
 1917|      4|                true
 1918|       |            }
 1919|       |            _ => {
 1920|    153|                false
 1921|       |            }
 1922|       |        }
 1923|    157|    }
_RNvXsv_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6OpcodeNtNtCs6s7lnD9fK28_4core3cmp9PartialEq2eqB9_:
 1312|    194|#[derive(Copy, Clone, PartialEq, Eq, Debug, Hash)]
_RNvMse_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6Opcode9is_branch:
 1883|    409|    pub fn is_branch(self) -> bool {
 1884|    409|        match self {
 1885|       |            Self::BrIcmp |
 1886|       |            Self::BrTable |
 1887|       |            Self::Brff |
 1888|       |            Self::Brif |
 1889|       |            Self::Brnz |
 1890|       |            Self::Brz |
 1891|       |            Self::Jump => {
 1892|     84|                true
 1893|       |            }
 1894|       |            _ => {
 1895|    325|                false
 1896|       |            }
 1897|       |        }
 1898|    409|    }
_RNvMsd_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_15InstructionData6opcode:
  483|    804|    pub fn opcode(&self) -> Opcode {
  484|    804|        match *self {
  485|      0|            Self::AtomicCas { opcode, .. } |
  486|      0|            Self::AtomicRmw { opcode, .. } |
  487|     63|            Self::Binary { opcode, .. } |
  488|      2|            Self::BinaryImm64 { opcode, .. } |
  489|      0|            Self::BinaryImm8 { opcode, .. } |
  490|     42|            Self::Branch { opcode, .. } |
  491|      0|            Self::BranchFloat { opcode, .. } |
  492|      0|            Self::BranchIcmp { opcode, .. } |
  493|      0|            Self::BranchInt { opcode, .. } |
  494|      0|            Self::BranchTable { opcode, .. } |
  495|     37|            Self::Call { opcode, .. } |
  496|     15|            Self::CallIndirect { opcode, .. } |
  497|      0|            Self::CondTrap { opcode, .. } |
  498|      0|            Self::DynamicStackLoad { opcode, .. } |
  499|      0|            Self::DynamicStackStore { opcode, .. } |
  500|      0|            Self::FloatCompare { opcode, .. } |
  501|      0|            Self::FloatCond { opcode, .. } |
  502|      0|            Self::FloatCondTrap { opcode, .. } |
  503|      0|            Self::FuncAddr { opcode, .. } |
  504|      0|            Self::HeapAddr { opcode, .. } |
  505|     40|            Self::IntCompare { opcode, .. } |
  506|      0|            Self::IntCompareImm { opcode, .. } |
  507|      0|            Self::IntCond { opcode, .. } |
  508|      0|            Self::IntCondTrap { opcode, .. } |
  509|      0|            Self::IntSelect { opcode, .. } |
  510|    109|            Self::Jump { opcode, .. } |
  511|    113|            Self::Load { opcode, .. } |
  512|      0|            Self::LoadNoOffset { opcode, .. } |
  513|     76|            Self::MultiAry { opcode, .. } |
  514|      0|            Self::NullAry { opcode, .. } |
  515|      0|            Self::Shuffle { opcode, .. } |
  516|      0|            Self::StackLoad { opcode, .. } |
  517|      0|            Self::StackStore { opcode, .. } |
  518|     72|            Self::Store { opcode, .. } |
  519|      0|            Self::StoreNoOffset { opcode, .. } |
  520|      0|            Self::TableAddr { opcode, .. } |
  521|      0|            Self::Ternary { opcode, .. } |
  522|      0|            Self::TernaryImm8 { opcode, .. } |
  523|     38|            Self::Trap { opcode, .. } |
  524|     14|            Self::Unary { opcode, .. } |
  525|      0|            Self::UnaryBool { opcode, .. } |
  526|      0|            Self::UnaryConst { opcode, .. } |
  527|     24|            Self::UnaryGlobalValue { opcode, .. } |
  528|      0|            Self::UnaryIeee32 { opcode, .. } |
  529|      0|            Self::UnaryIeee64 { opcode, .. } |
  530|    159|            Self::UnaryImm { opcode, .. } => {
  531|    804|                opcode
  532|    804|            }
  533|    804|        }
  534|    804|    }
_RNvMse_NtNtCs4VQyXYw1GL9_17cranelift_codegen2ir12instructionsNtB5_6Opcode13is_terminator:
 1868|    217|    pub fn is_terminator(self) -> bool {
 1869|    217|        match self {
 1870|       |            Self::BrTable |
 1871|       |            Self::Jump |
 1872|       |            Self::Return |
 1873|       |            Self::Trap => {
 1874|     51|                true
 1875|       |            }
 1876|       |            _ => {
 1877|    166|                false
 1878|       |            }
 1879|       |        }
 1880|    217|    }

_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags7use_fma:
  240|     16|    pub fn use_fma(&self) -> bool {
  241|     16|        self.numbered_predicate(26)
  242|     16|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags7has_avx:
  141|      1|    pub fn has_avx(&self) -> bool {
  142|      1|        self.numbered_predicate(4)
  143|      1|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags10use_popcnt:
  248|      8|    pub fn use_popcnt(&self) -> bool {
  249|      8|        self.numbered_predicate(28)
  250|      8|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags17use_avx512vl_simd:
  228|     16|    pub fn use_avx512vl_simd(&self) -> bool {
  229|     16|        self.numbered_predicate(23)
  230|     16|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags9has_sse41:
  131|      2|    pub fn has_sse41(&self) -> bool {
  132|      2|        self.numbered_predicate(2)
  133|      2|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags9has_ssse3:
  126|      1|    pub fn has_ssse3(&self) -> bool {
  127|      1|        self.numbered_predicate(1)
  128|      1|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags8use_bmi1:
  236|      8|    pub fn use_bmi1(&self) -> bool {
  237|      8|        self.numbered_predicate(25)
  238|      8|    }
_RNvNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settings7builder:
  493|      1|pub fn builder() -> Builder {
  494|      1|    Builder::new(&TEMPLATE)
  495|      1|}
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags18numbered_predicate:
  116|     74|    fn numbered_predicate(&self, p: usize) -> bool {
  117|     74|        self.bytes[0 + p / 8] & (1 << (p % 8)) != 0
  118|     74|    }
_RNvXs2_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5FlagsNtNtCs6s7lnD9fK28_4core5clone5Clone5cloneBb_:
    1|      8|#[derive(Clone, Hash)]
_RNvMNtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB2_5Flags3new:
    9|      1|    pub fn new(shared: &settings::Flags, builder: Builder) -> Self {
   10|      1|        let bvec = builder.state_for("x86");
   11|      1|        let mut x86 = Self { bytes: [0; 5] };
   12|      0|        debug_assert_eq!(bvec.len(), 2);
   13|      1|        x86.bytes[0..2].copy_from_slice(&bvec);
   14|      1|        // Precompute #16.
   15|      1|        if shared.is_pic() {
   16|      0|            x86.bytes[2] |= 1 << 0;
   17|      1|        }
   18|       |        // Precompute #17.
   19|      1|        if !(shared.is_pic()) {
   20|      1|            x86.bytes[2] |= 1 << 1;
   21|      1|        }
   22|       |        // Precompute #18.
   23|      1|        if shared.enable_simd() && x86.has_avx2() {
   24|      0|            x86.bytes[2] |= 1 << 2;
   25|      1|        }
   26|       |        // Precompute #19.
   27|      1|        if shared.enable_simd() && x86.has_avx512bitalg() {
   28|      0|            x86.bytes[2] |= 1 << 3;
   29|      1|        }
   30|       |        // Precompute #20.
   31|      1|        if shared.enable_simd() && x86.has_avx512dq() {
   32|      0|            x86.bytes[2] |= 1 << 4;
   33|      1|        }
   34|       |        // Precompute #21.
   35|      1|        if shared.enable_simd() && x86.has_avx512f() {
   36|      0|            x86.bytes[2] |= 1 << 5;
   37|      1|        }
   38|       |        // Precompute #22.
   39|      1|        if shared.enable_simd() && x86.has_avx512vbmi() {
   40|      0|            x86.bytes[2] |= 1 << 6;
   41|      1|        }
   42|       |        // Precompute #23.
   43|      1|        if shared.enable_simd() && x86.has_avx512vl() {
   44|      0|            x86.bytes[2] |= 1 << 7;
   45|      1|        }
   46|       |        // Precompute #24.
   47|      1|        if shared.enable_simd() && x86.has_avx() {
   48|      0|            x86.bytes[3] |= 1 << 0;
   49|      1|        }
   50|       |        // Precompute #25.
   51|      1|        if x86.has_bmi1() {
   52|      1|            x86.bytes[3] |= 1 << 1;
   53|      1|        }
   54|       |        // Precompute #26.
   55|      1|        if x86.has_avx() && x86.has_fma() {
   56|      1|            x86.bytes[3] |= 1 << 2;
   57|      1|        }
   58|       |        // Precompute #27.
   59|      1|        if x86.has_lzcnt() {
   60|      1|            x86.bytes[3] |= 1 << 3;
   61|      1|        }
   62|       |        // Precompute #28.
   63|      1|        if x86.has_popcnt() && x86.has_sse42() {
   64|      1|            x86.bytes[3] |= 1 << 4;
   65|      1|        }
   66|       |        // Precompute #29.
   67|      1|        if x86.has_sse41() {
   68|      1|            x86.bytes[3] |= 1 << 5;
   69|      1|        }
   70|       |        // Precompute #30.
   71|      1|        if shared.enable_simd() && x86.has_sse41() {
   72|      0|            x86.bytes[3] |= 1 << 6;
   73|      1|        }
   74|       |        // Precompute #31.
   75|      1|        if x86.has_sse41() && x86.has_sse42() {
   76|      1|            x86.bytes[3] |= 1 << 7;
   77|      1|        }
   78|       |        // Precompute #32.
   79|      1|        if shared.enable_simd() && x86.has_sse41() && x86.has_sse42() {
   80|      0|            x86.bytes[4] |= 1 << 0;
   81|      1|        }
   82|       |        // Precompute #33.
   83|      1|        if x86.has_ssse3() {
   84|      1|            x86.bytes[4] |= 1 << 1;
   85|      1|        }
   86|       |        // Precompute #34.
   87|      1|        if shared.enable_simd() && x86.has_ssse3() {
   88|      0|            x86.bytes[4] |= 1 << 2;
   89|      1|        }
   90|      1|        x86
   91|      1|    }
_RNCNvMs_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB6_5Flags4iter0Bc_:
   98|     48|        DESCRIPTORS.iter().filter_map(move |d| {
   99|     48|            let values = match &d.detail {
  100|     16|                detail::Detail::Preset => return None,
  101|      0|                detail::Detail::Enum { last, enumerators } => Some(TEMPLATE.enums(*last, *enumerators)),
  102|     32|                _ => None
  103|       |            };
  104|     32|            Some(Value{ name: d.name, detail: d.detail, values, value: bytes[d.offset as usize] })
  105|     48|        })
_RNvMs_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB4_5Flags4iter:
   95|      2|    pub fn iter(&self) -> impl Iterator<Item = Value> {
   96|      2|        let mut bytes = [0; 2];
   97|      2|        bytes.copy_from_slice(&self.bytes[0..2]);
   98|      2|        DESCRIPTORS.iter().filter_map(move |d| {
   99|       |            let values = match &d.detail {
  100|       |                detail::Detail::Preset => return None,
  101|       |                detail::Detail::Enum { last, enumerators } => Some(TEMPLATE.enums(*last, *enumerators)),
  102|       |                _ => None
  103|       |            };
  104|       |            Some(Value{ name: d.name, detail: d.detail, values, value: bytes[d.offset as usize] })
  105|      2|        })
  106|      2|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags7has_fma:
  151|      1|    pub fn has_fma(&self) -> bool {
  152|      1|        self.numbered_predicate(6)
  153|      1|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags8has_bmi1:
  186|      1|    pub fn has_bmi1(&self) -> bool {
  187|      1|        self.numbered_predicate(13)
  188|      1|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags9has_sse42:
  136|      2|    pub fn has_sse42(&self) -> bool {
  137|      2|        self.numbered_predicate(3)
  138|      2|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags9has_lzcnt:
  196|      1|    pub fn has_lzcnt(&self) -> bool {
  197|      1|        self.numbered_predicate(15)
  198|      1|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags9use_lzcnt:
  244|      8|    pub fn use_lzcnt(&self) -> bool {
  245|      8|        self.numbered_predicate(27)
  246|      8|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags10has_popcnt:
  181|      1|    pub fn has_popcnt(&self) -> bool {
  182|      1|        self.numbered_predicate(12)
  183|      1|    }
_RNvMs0_NtNtNtCs4VQyXYw1GL9_17cranelift_codegen3isa3x648settingsNtB5_5Flags9use_sse41:
  252|      8|    pub fn use_sse41(&self) -> bool {
  253|      8|        self.numbered_predicate(29)
  254|      8|    }

_RNCNvMss_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB7_5Flags4iter0Cs8rw8Tj4iu1c_18wasmtime_cranelift:
   22|     58|        DESCRIPTORS.iter().filter_map(move |d| {
   23|     58|            let values = match &d.detail {
   24|      0|                detail::Detail::Preset => return None,
   25|      8|                detail::Detail::Enum { last, enumerators } => Some(TEMPLATE.enums(*last, *enumerators)),
   26|     50|                _ => None
   27|       |            };
   28|     58|            Some(Value{ name: d.name, detail: d.detail, values, value: bytes[d.offset as usize] })
   29|     58|        })
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags23preserve_frame_pointers:
  425|      4|    pub fn preserve_frame_pointers(&self) -> bool {
  426|      4|        self.numbered_predicate(16)
  427|      4|    }
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags6is_pic:
  323|      2|    pub fn is_pic(&self) -> bool {
  324|      2|        self.numbered_predicate(4)
  325|      2|    }
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags11enable_simd:
  379|     11|    pub fn enable_simd(&self) -> bool {
  380|     11|        self.numbered_predicate(11)
  381|     11|    }
_RNvXsD_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5FlagsNtNtCs6s7lnD9fK28_4core5clone5Clone5cloneB7_:
    1|     16|#[derive(Clone, Hash)]
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags21regalloc_verbose_logs:
  305|      4|    pub fn regalloc_verbose_logs(&self) -> bool {
  306|      4|        self.numbered_predicate(1)
  307|      4|    }
_RNvXsJ_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_8OptLevelNtNtCs6s7lnD9fK28_4core3cmp9PartialEq2eqB7_:
   33|     16|#[derive(Debug, Copy, Clone, PartialEq, Eq, Hash)]
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags15enable_verifier:
  319|     40|    pub fn enable_verifier(&self) -> bool {
  320|     40|        self.numbered_predicate(3)
  321|     40|    }
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags16regalloc_checker:
  296|      4|    pub fn regalloc_checker(&self) -> bool {
  297|      4|        self.numbered_predicate(0)
  298|      4|    }
_RNvMsr_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags3new:
    9|      1|    pub fn new(builder: Builder) -> Self {
   10|      1|        let bvec = builder.state_for("shared");
   11|      1|        let mut shared = Self { bytes: [0; 8] };
   12|      0|        debug_assert_eq!(bvec.len(), 8);
   13|      1|        shared.bytes[0..8].copy_from_slice(&bvec);
   14|      1|        shared
   15|      1|    }
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags17enable_pinned_reg:
  363|    161|    pub fn enable_pinned_reg(&self) -> bool {
  364|    161|        self.numbered_predicate(9)
  365|    161|    }
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags18numbered_predicate:
  176|    271|    fn numbered_predicate(&self, p: usize) -> bool {
  177|    271|        self.bytes[5 + p / 8] & (1 << (p % 8)) != 0
  178|    271|    }
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags21machine_code_cfg_info:
  437|      4|    pub fn machine_code_cfg_info(&self) -> bool {
  438|      4|        self.numbered_predicate(17)
  439|      4|    }
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags17enable_probestack:
  441|     18|    pub fn enable_probestack(&self) -> bool {
  442|     18|        self.numbered_predicate(18)
  443|     18|    }
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags11unwind_info:
  415|     15|    pub fn unwind_info(&self) -> bool {
  416|     15|        self.numbered_predicate(15)
  417|     15|    }
_RNvMss_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags4iter:
   19|      2|    pub fn iter(&self) -> impl Iterator<Item = Value> {
   20|      2|        let mut bytes = [0; 8];
   21|      2|        bytes.copy_from_slice(&self.bytes[0..8]);
   22|      2|        DESCRIPTORS.iter().filter_map(move |d| {
   23|       |            let values = match &d.detail {
   24|       |                detail::Detail::Preset => return None,
   25|       |                detail::Detail::Enum { last, enumerators } => Some(TEMPLATE.enums(*last, *enumerators)),
   26|       |                _ => None
   27|       |            };
   28|       |            Some(Value{ name: d.name, detail: d.detail, values, value: bytes[d.offset as usize] })
   29|      2|        })
   30|      2|    }
_RNvNtCs4VQyXYw1GL9_17cranelift_codegen8settings7builder:
  761|      1|pub fn builder() -> Builder {
  762|      1|    Builder::new(&TEMPLATE)
  763|      1|}
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags21enable_alias_analysis:
  312|      4|    pub fn enable_alias_analysis(&self) -> bool {
  313|      4|        self.numbered_predicate(2)
  314|      4|    }
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags27enable_nan_canonicalization:
  355|      4|    pub fn enable_nan_canonicalization(&self) -> bool {
  356|      4|        self.numbered_predicate(8)
  357|      4|    }
_RNvMsB_NtCs4VQyXYw1GL9_17cranelift_codegen8settingsNtB5_5Flags9opt_level:
  186|      4|    pub fn opt_level(&self) -> OptLevel {
  187|      4|        match self.bytes[0] {
  188|       |            0 => {
  189|      0|                OptLevel::None
  190|       |            }
  191|       |            1 => {
  192|      4|                OptLevel::Speed
  193|       |            }
  194|       |            2 => {
  195|      0|                OptLevel::SpeedAndSize
  196|       |            }
  197|       |            _ => {
  198|      0|                panic!("Invalid enum value")
  199|       |            }
  200|       |        }
  201|      4|    }

_RNvMs3_NtCscDM0voMScis_14target_lexicon4hostNtNtB7_6triple6Triple4host:
   64|      2|    pub const fn host() -> Self {
   65|      2|        Self {
   66|      2|            architecture: Architecture::X86_64,
   67|      2|            vendor: Vendor::Unknown,
   68|      2|            operating_system: OperatingSystem::Linux,
   69|      2|            environment: Environment::Gnu,
   70|      2|            binary_format: BinaryFormat::Elf,
   71|      2|        }
   72|      2|    }































